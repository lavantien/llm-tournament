=== RUN   TestDefaultConfig
--- PASS: TestDefaultConfig (0.00s)
=== RUN   TestParseFlags_Defaults
--- PASS: TestParseFlags_Defaults (0.00s)
=== RUN   TestParseFlags_CustomDBPath
--- PASS: TestParseFlags_CustomDBPath (0.00s)
=== RUN   TestParseFlags_MigrateResults
--- PASS: TestParseFlags_MigrateResults (0.00s)
=== RUN   TestParseFlags_AllOptions
--- PASS: TestParseFlags_AllOptions (0.00s)
=== RUN   TestParseFlags_InvalidFlag
flag provided but not defined: -invalid-flag
Usage of llm-tournament:
  -db string
    	SQLite database path (default "data/tournament.db")
  -migrate-results
    	Migrate existing results to new scoring system
--- PASS: TestParseFlags_InvalidFlag (0.00s)
=== RUN   TestInitDB
--- PASS: TestInitDB (0.03s)
=== RUN   TestInitDB_InvalidPath
--- PASS: TestInitDB_InvalidPath (0.01s)
=== RUN   TestCloseDB
--- PASS: TestCloseDB (0.02s)
=== RUN   TestGetDB
--- PASS: TestGetDB (0.02s)
=== RUN   TestInitEvaluator
2025/12/25 12:25:05 Worker 0 started
2025/12/25 12:25:05 Worker 1 started
2025/12/25 12:25:05 Worker 2 started
2025/12/25 12:25:05 Evaluator initialized with Python service URL: http://localhost:8001
--- PASS: TestInitEvaluator (0.03s)
=== RUN   TestRunMigration
--- PASS: TestRunMigration (0.03s)
=== RUN   TestRunMigration_WithData
--- PASS: TestRunMigration_WithData (0.03s)
=== RUN   TestRoutes
--- PASS: TestRoutes (0.00s)
=== RUN   TestSetupRoutes
--- PASS: TestSetupRoutes (0.00s)
=== RUN   TestNewServeMux
--- PASS: TestNewServeMux (0.00s)
=== RUN   TestApp_Router_KnownRoute
2025/12/25 12:25:05 Request received: GET /prompts
2025/12/25 12:25:05 Handling prompt list page
2025/12/25 12:25:05 Prompt list page rendered successfully
--- PASS: TestApp_Router_KnownRoute (0.03s)
=== RUN   TestApp_Router_UnknownRoute
2025/12/25 12:25:05 Request received: GET /unknown/route/that/does/not/exist
2025/12/25 12:25:05 Redirecting to /prompts from /unknown/route/that/does/not/exist
--- PASS: TestApp_Router_UnknownRoute (0.03s)
=== RUN   TestNewServeMux_Integration
2025/12/25 12:25:05 Handling results page
2025/12/25 12:25:05 Calculating total scores for each model
2025/12/25 12:25:05 Sorting models by score in descending order
2025/12/25 12:25:05 Sorted models: []
2025/12/25 12:25:05 Results page rendered successfully
--- PASS: TestNewServeMux_Integration (0.03s)
=== RUN   TestSetupRoutes_WithMux
2025/12/25 12:25:05 Request received: GET /
2025/12/25 12:25:05 Redirecting to /prompts from /
    app_test.go:388: GET / -> 303
2025/12/25 12:25:05 Handling prompt list page
2025/12/25 12:25:05 Prompt list page rendered successfully
    app_test.go:388: GET /prompts -> 200
2025/12/25 12:25:05 Handling results page
2025/12/25 12:25:05 Calculating total scores for each model
2025/12/25 12:25:05 Sorting models by score in descending order
2025/12/25 12:25:05 Sorted models: []
2025/12/25 12:25:05 Results page rendered successfully
    app_test.go:388: GET /results -> 200
2025/12/25 12:25:05 Request received: GET /unknown-route
2025/12/25 12:25:05 Redirecting to /prompts from /unknown-route
    app_test.go:388: GET /unknown-route -> 303
--- PASS: TestSetupRoutes_WithMux (0.03s)
=== RUN   TestRoutes_ReturnsMap
--- PASS: TestRoutes_ReturnsMap (0.00s)
=== RUN   TestNewServeMux_AllRoutesRegistered
2025/12/25 12:25:05 Handling prompt list page
2025/12/25 12:25:05 Prompt list page rendered successfully
2025/12/25 12:25:05 Handling results page
2025/12/25 12:25:05 Calculating total scores for each model
2025/12/25 12:25:05 Sorting models by score in descending order
2025/12/25 12:25:05 Sorted models: []
2025/12/25 12:25:05 Results page rendered successfully
2025/12/25 12:25:05 Handling settings page
--- PASS: TestNewServeMux_AllRoutesRegistered (0.03s)
=== RUN   TestRunMigration_EmptyDB
--- PASS: TestRunMigration_EmptyDB (0.05s)
=== RUN   TestConfig_DefaultValues
--- PASS: TestConfig_DefaultValues (0.00s)
=== RUN   TestParseFlags_EmptyArgs
--- PASS: TestParseFlags_EmptyArgs (0.00s)
=== RUN   TestParseFlags_UnknownFlag
flag provided but not defined: -unknown-flag-xyz
Usage of llm-tournament:
  -db string
    	SQLite database path (default "data/tournament.db")
  -migrate-results
    	Migrate existing results to new scoring system
--- PASS: TestParseFlags_UnknownFlag (0.00s)
=== RUN   TestParseFlags_CombinedFlags
--- PASS: TestParseFlags_CombinedFlags (0.00s)
=== RUN   TestInitDB_AndGetDB
--- PASS: TestInitDB_AndGetDB (0.08s)
=== RUN   TestArenaCSS_HidesHiddenData
--- PASS: TestArenaCSS_HidesHiddenData (0.00s)
=== RUN   TestArenaCSS_DefinesScoreClasses
--- PASS: TestArenaCSS_DefinesScoreClasses (0.00s)
=== RUN   TestArenaLayout_AllTemplatesUseShellAndMain
--- PASS: TestArenaLayout_AllTemplatesUseShellAndMain (0.03s)
=== RUN   TestArenaNav_RendersTopbarAndSidebar
--- PASS: TestArenaNav_RendersTopbarAndSidebar (0.00s)
=== RUN   TestArenaTheme_AllTemplatesUseArenaCSS
--- PASS: TestArenaTheme_AllTemplatesUseArenaCSS (0.00s)
=== RUN   TestArenaCSS_DefinesCompactSidebarWidthVariable
--- PASS: TestArenaCSS_DefinesCompactSidebarWidthVariable (0.00s)
=== RUN   TestArenaCSS_StylesDropdownsAndFileInputs
--- PASS: TestArenaCSS_StylesDropdownsAndFileInputs (0.00s)
=== RUN   TestArenaCSS_ProvidesCompactHeaderAndToolbarLayouts
--- PASS: TestArenaCSS_ProvidesCompactHeaderAndToolbarLayouts (0.00s)
=== RUN   TestArenaCSS_ScrollButtonsUseSidebarSpace
--- PASS: TestArenaCSS_ScrollButtonsUseSidebarSpace (0.00s)
=== RUN   TestArenaCSS_StatsChartsHaveUsableHeight
--- PASS: TestArenaCSS_StatsChartsHaveUsableHeight (0.00s)
=== RUN   TestArenaCSS_SidebarFurtherCompacted
--- PASS: TestArenaCSS_SidebarFurtherCompacted (0.00s)
=== RUN   TestArenaCSS_EvaluatePageCentersScoreAndActions
--- PASS: TestArenaCSS_EvaluatePageCentersScoreAndActions (0.00s)
=== RUN   TestAutomatedEvaluationSetupDoc_UsesCurrentCommands
--- PASS: TestAutomatedEvaluationSetupDoc_UsesCurrentCommands (0.00s)
=== RUN   TestDesignConceptAndPreview_ExistAndStructured
--- PASS: TestDesignConceptAndPreview_ExistAndStructured (0.00s)
=== RUN   TestEvaluateTemplate_UsesDataScoreForInitialSelection
--- PASS: TestEvaluateTemplate_UsesDataScoreForInitialSelection (0.00s)
=== RUN   TestRun_MigrateResults_UsesMigratedMap
2025/12/25 12:25:05 Initializing database...
2025/12/25 12:25:05 Migrating results to new scoring system...
2025/12/25 12:25:05 Migration completed successfully
--- PASS: TestRun_MigrateResults_UsesMigratedMap (0.00s)
=== RUN   TestRun_FlagParseError_Returns2
--- PASS: TestRun_FlagParseError_Returns2 (0.00s)
=== RUN   TestRun_InitDBError_Returns1
2025/12/25 12:25:05 Initializing database...
2025/12/25 12:25:05 Failed to initialize database: init db failed
--- PASS: TestRun_InitDBError_Returns1 (0.00s)
=== RUN   TestRun_MigrateResults_WriteResultsError_Returns1
2025/12/25 12:25:05 Initializing database...
2025/12/25 12:25:05 Migrating results to new scoring system...
2025/12/25 12:25:05 Error migrating results: write failed
--- PASS: TestRun_MigrateResults_WriteResultsError_Returns1 (0.00s)
=== RUN   TestRun_ServePath_CallsListenAndServeWithRouter
2025/12/25 12:25:05 Initializing database...
2025/12/25 12:25:05 Initializing evaluator...
2025/12/25 12:25:05 Server is listening on :8080
2025/12/25 12:25:05 Request received: GET /unknown
2025/12/25 12:25:05 Redirecting to /prompts from /unknown
--- PASS: TestRun_ServePath_CallsListenAndServeWithRouter (0.00s)
=== RUN   TestRun_ServePath_ListenAndServeError_Returns1
2025/12/25 12:25:05 Initializing database...
2025/12/25 12:25:05 Initializing evaluator...
2025/12/25 12:25:05 Server is listening on :8080
2025/12/25 12:25:05 Error starting server: listen failed
--- PASS: TestRun_ServePath_ListenAndServeError_Returns1 (0.00s)
=== RUN   TestDefaultRunDeps_HasRequiredDeps
--- PASS: TestDefaultRunDeps_HasRequiredDeps (0.00s)
=== RUN   TestMain_UsesOsExit
--- PASS: TestMain_UsesOsExit (0.00s)
=== RUN   TestRoutes_AllRoutesDefined
--- PASS: TestRoutes_AllRoutesDefined (0.00s)
=== RUN   TestRouter_KnownRoute
2025/12/25 12:25:05 Request received: GET /prompts
2025/12/25 12:25:05 Handling prompt list page
2025/12/25 12:25:05 Prompt list page rendered successfully
--- PASS: TestRouter_KnownRoute (0.03s)
=== RUN   TestRouter_UnknownRoute_Redirects
2025/12/25 12:25:05 Request received: GET /unknown_route
2025/12/25 12:25:05 Redirecting to /prompts from /unknown_route
--- PASS: TestRouter_UnknownRoute_Redirects (0.02s)
=== RUN   TestRouter_RootRoute_Redirects
2025/12/25 12:25:05 Request received: GET /
2025/12/25 12:25:05 Redirecting to /prompts from /
--- PASS: TestRouter_RootRoute_Redirects (0.02s)
=== RUN   TestRoutesCount
--- PASS: TestRoutesCount (0.00s)
=== RUN   TestRouter_AllRoutesRespond
=== RUN   TestRouter_AllRoutesRespond//prompts
2025/12/25 12:25:05 Request received: GET /prompts
2025/12/25 12:25:05 Handling prompt list page
2025/12/25 12:25:05 Prompt list page rendered successfully
=== RUN   TestRouter_AllRoutesRespond//results
2025/12/25 12:25:05 Request received: GET /results
2025/12/25 12:25:05 Handling results page
2025/12/25 12:25:05 Calculating total scores for each model
2025/12/25 12:25:05 Sorting models by score in descending order
2025/12/25 12:25:05 Sorted models: []
2025/12/25 12:25:05 Results page rendered successfully
=== RUN   TestRouter_AllRoutesRespond//profiles
2025/12/25 12:25:05 Request received: GET /profiles
2025/12/25 12:25:05 Handling profiles page
2025/12/25 12:25:05 Profiles page rendered successfully
=== RUN   TestRouter_AllRoutesRespond//stats
2025/12/25 12:25:05 Request received: GET /stats
2025/12/25 12:25:05 Handling stats page
=== RUN   TestRouter_AllRoutesRespond//settings
2025/12/25 12:25:05 Request received: GET /settings
2025/12/25 12:25:05 Handling settings page
=== RUN   TestRouter_AllRoutesRespond//add_model
2025/12/25 12:25:05 Request received: GET /add_model
2025/12/25 12:25:05 Handling add model
=== RUN   TestRouter_AllRoutesRespond//add_prompt
2025/12/25 12:25:05 Request received: GET /add_prompt
2025/12/25 12:25:05 Handling add prompt
=== RUN   TestRouter_AllRoutesRespond//add_profile
2025/12/25 12:25:05 Request received: GET /add_profile
2025/12/25 12:25:05 Handling add profile
--- PASS: TestRouter_AllRoutesRespond (0.03s)
    --- PASS: TestRouter_AllRoutesRespond//prompts (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//results (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//profiles (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//stats (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//settings (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//add_model (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//add_prompt (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//add_profile (0.00s)
=== RUN   TestRouter_POSTRoutes
=== RUN   TestRouter_POSTRoutes//evaluate/all_GET
2025/12/25 12:25:05 Request received: GET /evaluate/all
=== RUN   TestRouter_POSTRoutes//evaluate/model_GET
2025/12/25 12:25:05 Request received: GET /evaluate/model
=== RUN   TestRouter_POSTRoutes//evaluate/prompt_GET
2025/12/25 12:25:05 Request received: GET /evaluate/prompt
=== RUN   TestRouter_POSTRoutes//evaluation/cancel_GET
2025/12/25 12:25:05 Request received: GET /evaluation/cancel
=== RUN   TestRouter_POSTRoutes//settings/update_GET
2025/12/25 12:25:05 Request received: GET /settings/update
--- PASS: TestRouter_POSTRoutes (0.02s)
    --- PASS: TestRouter_POSTRoutes//evaluate/all_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//evaluate/model_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//evaluate/prompt_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//evaluation/cancel_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//settings/update_GET (0.00s)
=== RUN   TestRouter_WithQueryParams
2025/12/25 12:25:05 Request received: GET /edit_model
2025/12/25 12:25:05 Handling edit model
--- PASS: TestRouter_WithQueryParams (0.03s)
=== RUN   TestRouter_StaticPaths
2025/12/25 12:25:05 Request received: GET /templates/nonexistent.css
2025/12/25 12:25:05 Redirecting to /prompts from /templates/nonexistent.css
--- PASS: TestRouter_StaticPaths (0.02s)
=== RUN   TestMakefile_DoesNotExposeRemovedLegacyTargets
--- PASS: TestMakefile_DoesNotExposeRemovedLegacyTargets (0.00s)
=== RUN   TestREADME_QuickStartDoesNotUseRemovedMakeTargets
--- PASS: TestREADME_QuickStartDoesNotUseRemovedMakeTargets (0.00s)
=== RUN   TestREADME_UITourIncludesScreenshots
--- PASS: TestREADME_UITourIncludesScreenshots (0.00s)
PASS
coverage: 100.0% of statements
ok  	llm-tournament	2.536s	coverage: 100.0% of statements
=== RUN   TestCalculateConsensusScore
=== RUN   TestCalculateConsensusScore/empty_results
=== RUN   TestCalculateConsensusScore/single_result
=== RUN   TestCalculateConsensusScore/two_equal_weights
=== RUN   TestCalculateConsensusScore/weighted_average_favoring_higher_confidence
=== RUN   TestCalculateConsensusScore/three_judges
=== RUN   TestCalculateConsensusScore/all_same_score
--- PASS: TestCalculateConsensusScore (0.00s)
    --- PASS: TestCalculateConsensusScore/empty_results (0.00s)
    --- PASS: TestCalculateConsensusScore/single_result (0.00s)
    --- PASS: TestCalculateConsensusScore/two_equal_weights (0.00s)
    --- PASS: TestCalculateConsensusScore/weighted_average_favoring_higher_confidence (0.00s)
    --- PASS: TestCalculateConsensusScore/three_judges (0.00s)
    --- PASS: TestCalculateConsensusScore/all_same_score (0.00s)
=== RUN   TestCalculateConsensusScore_ZeroConfidence
--- PASS: TestCalculateConsensusScore_ZeroConfidence (0.00s)
=== RUN   TestCalculateConsensusScore_AllInvalid
=== RUN   TestCalculateConsensusScore_AllInvalid/negative_confidence
=== RUN   TestCalculateConsensusScore_AllInvalid/zero_confidence
=== RUN   TestCalculateConsensusScore_AllInvalid/score_out_of_range_negative
=== RUN   TestCalculateConsensusScore_AllInvalid/score_out_of_range_high
=== RUN   TestCalculateConsensusScore_AllInvalid/mixed_invalid
--- PASS: TestCalculateConsensusScore_AllInvalid (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/negative_confidence (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/zero_confidence (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/score_out_of_range_negative (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/score_out_of_range_high (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/mixed_invalid (0.00s)
=== RUN   TestCalculateConsensusScore_MixedValidInvalid
--- PASS: TestCalculateConsensusScore_MixedValidInvalid (0.00s)
=== RUN   TestCalculateConsensusScore_BoundaryScores
=== RUN   TestCalculateConsensusScore_BoundaryScores/score_exactly_0
=== RUN   TestCalculateConsensusScore_BoundaryScores/score_exactly_100
=== RUN   TestCalculateConsensusScore_BoundaryScores/mix_of_boundary_scores
--- PASS: TestCalculateConsensusScore_BoundaryScores (0.00s)
    --- PASS: TestCalculateConsensusScore_BoundaryScores/score_exactly_0 (0.00s)
    --- PASS: TestCalculateConsensusScore_BoundaryScores/score_exactly_100 (0.00s)
    --- PASS: TestCalculateConsensusScore_BoundaryScores/mix_of_boundary_scores (0.00s)
=== RUN   TestRoundToValidScore
=== RUN   TestRoundToValidScore/#00
=== RUN   TestRoundToValidScore/#01
=== RUN   TestRoundToValidScore/#02
=== RUN   TestRoundToValidScore/#03
=== RUN   TestRoundToValidScore/#04
=== RUN   TestRoundToValidScore/#05
=== RUN   TestRoundToValidScore/#06
=== RUN   TestRoundToValidScore/#07
=== RUN   TestRoundToValidScore/#08
=== RUN   TestRoundToValidScore/#09
=== RUN   TestRoundToValidScore/#10
=== RUN   TestRoundToValidScore/#11
=== RUN   TestRoundToValidScore/#12
=== RUN   TestRoundToValidScore/#13
=== RUN   TestRoundToValidScore/#14
=== RUN   TestRoundToValidScore/#15
=== RUN   TestRoundToValidScore/#16
=== RUN   TestRoundToValidScore/#17
=== RUN   TestRoundToValidScore/#18
=== RUN   TestRoundToValidScore/#19
=== RUN   TestRoundToValidScore/#20
=== RUN   TestRoundToValidScore/#21
=== RUN   TestRoundToValidScore/#22
=== RUN   TestRoundToValidScore/#23
=== RUN   TestRoundToValidScore/#24
=== RUN   TestRoundToValidScore/#25
=== RUN   TestRoundToValidScore/#26
=== RUN   TestRoundToValidScore/#27
=== RUN   TestRoundToValidScore/#28
=== RUN   TestRoundToValidScore/#29
=== RUN   TestRoundToValidScore/#30
=== RUN   TestRoundToValidScore/#31
=== RUN   TestRoundToValidScore/#32
=== RUN   TestRoundToValidScore/#33
=== RUN   TestRoundToValidScore/#34
--- PASS: TestRoundToValidScore (0.00s)
    --- PASS: TestRoundToValidScore/#00 (0.00s)
    --- PASS: TestRoundToValidScore/#01 (0.00s)
    --- PASS: TestRoundToValidScore/#02 (0.00s)
    --- PASS: TestRoundToValidScore/#03 (0.00s)
    --- PASS: TestRoundToValidScore/#04 (0.00s)
    --- PASS: TestRoundToValidScore/#05 (0.00s)
    --- PASS: TestRoundToValidScore/#06 (0.00s)
    --- PASS: TestRoundToValidScore/#07 (0.00s)
    --- PASS: TestRoundToValidScore/#08 (0.00s)
    --- PASS: TestRoundToValidScore/#09 (0.00s)
    --- PASS: TestRoundToValidScore/#10 (0.00s)
    --- PASS: TestRoundToValidScore/#11 (0.00s)
    --- PASS: TestRoundToValidScore/#12 (0.00s)
    --- PASS: TestRoundToValidScore/#13 (0.00s)
    --- PASS: TestRoundToValidScore/#14 (0.00s)
    --- PASS: TestRoundToValidScore/#15 (0.00s)
    --- PASS: TestRoundToValidScore/#16 (0.00s)
    --- PASS: TestRoundToValidScore/#17 (0.00s)
    --- PASS: TestRoundToValidScore/#18 (0.00s)
    --- PASS: TestRoundToValidScore/#19 (0.00s)
    --- PASS: TestRoundToValidScore/#20 (0.00s)
    --- PASS: TestRoundToValidScore/#21 (0.00s)
    --- PASS: TestRoundToValidScore/#22 (0.00s)
    --- PASS: TestRoundToValidScore/#23 (0.00s)
    --- PASS: TestRoundToValidScore/#24 (0.00s)
    --- PASS: TestRoundToValidScore/#25 (0.00s)
    --- PASS: TestRoundToValidScore/#26 (0.00s)
    --- PASS: TestRoundToValidScore/#27 (0.00s)
    --- PASS: TestRoundToValidScore/#28 (0.00s)
    --- PASS: TestRoundToValidScore/#29 (0.00s)
    --- PASS: TestRoundToValidScore/#30 (0.00s)
    --- PASS: TestRoundToValidScore/#31 (0.00s)
    --- PASS: TestRoundToValidScore/#32 (0.00s)
    --- PASS: TestRoundToValidScore/#33 (0.00s)
    --- PASS: TestRoundToValidScore/#34 (0.00s)
=== RUN   TestRoundToValidScore_AllValues
--- PASS: TestRoundToValidScore_AllValues (0.00s)
=== RUN   TestAbs
=== RUN   TestAbs/#00
=== RUN   TestAbs/#01
=== RUN   TestAbs/#02
=== RUN   TestAbs/#03
=== RUN   TestAbs/#04
=== RUN   TestAbs/#05
--- PASS: TestAbs (0.00s)
    --- PASS: TestAbs/#00 (0.00s)
    --- PASS: TestAbs/#01 (0.00s)
    --- PASS: TestAbs/#02 (0.00s)
    --- PASS: TestAbs/#03 (0.00s)
    --- PASS: TestAbs/#04 (0.00s)
    --- PASS: TestAbs/#05 (0.00s)
=== RUN   TestNewEvaluator
--- PASS: TestNewEvaluator (0.00s)
=== RUN   TestEvaluator_Judges
2025/12/24 19:05:04 Worker 0 started
2025/12/24 19:05:04 Worker 1 started
2025/12/24 19:05:04 Worker 2 started
2025/12/24 19:05:04 Worker 2 started
2025/12/24 19:05:04 Worker 1 started
--- PASS: TestEvaluator_Judges (0.00s)
2025/12/24 19:05:04 Worker 0 started
=== RUN   TestEvaluateAll_NoData
--- PASS: TestEvaluateAll_NoData (0.00s)
=== RUN   TestEvaluateAll_WithData
--- PASS: TestEvaluateAll_WithData (0.00s)
=== RUN   TestEvaluateAll_CountPromptsError
--- PASS: TestEvaluateAll_CountPromptsError (0.00s)
=== RUN   TestEvaluateAll_CountModelsError
--- PASS: TestEvaluateAll_CountModelsError (0.00s)
=== RUN   TestEvaluateAll_EnqueueError
--- PASS: TestEvaluateAll_EnqueueError (0.00s)
=== RUN   TestEvaluateModel
--- PASS: TestEvaluateModel (0.00s)
=== RUN   TestEvaluateModel_CountPromptsError
--- PASS: TestEvaluateModel_CountPromptsError (0.00s)
=== RUN   TestEvaluateModel_EnqueueError
--- PASS: TestEvaluateModel_EnqueueError (0.00s)
=== RUN   TestEvaluatePrompt_CountModelsError
--- PASS: TestEvaluatePrompt_CountModelsError (0.00s)
=== RUN   TestEvaluatePrompt_EnqueueError
--- PASS: TestEvaluatePrompt_EnqueueError (0.00s)
=== RUN   TestEvaluator_getAPIKeys_QueryError
--- PASS: TestEvaluator_getAPIKeys_QueryError (0.00s)
=== RUN   TestEvaluateModelPromptPair_NoResponse_SkipsEvaluation
2025/12/24 19:05:04 No response for model 1, prompt 1 - skipping
--- PASS: TestEvaluateModelPromptPair_NoResponse_SkipsEvaluation (0.00s)
=== RUN   TestEvaluateModelPromptPair_Success_WritesScoreAndHistory
--- PASS: TestEvaluateModelPromptPair_Success_WritesScoreAndHistory (0.00s)
=== RUN   TestProcessAllJob_Cancelled
--- PASS: TestProcessAllJob_Cancelled (0.00s)
=== RUN   TestProcessAllJob_QueryModelsError
--- PASS: TestProcessAllJob_QueryModelsError (0.00s)
=== RUN   TestProcessAllJob_QueryPromptsError
--- PASS: TestProcessAllJob_QueryPromptsError (0.00s)
=== RUN   TestProcessAllJob_EvaluatePairError_Continues
2025/12/24 19:05:04 Failed to evaluate model 1, prompt 1: failed to get model response: no such table: model_responses
--- PASS: TestProcessAllJob_EvaluatePairError_Continues (0.00s)
=== RUN   TestProcessAllJob_UpdateProgressError_Continues
2025/12/24 19:05:04 No response for model 1, prompt 1 - skipping
2025/12/24 19:05:04 Failed to update progress: no such table: evaluation_jobs
--- PASS: TestProcessAllJob_UpdateProgressError_Continues (0.00s)
=== RUN   TestEvaluateModelPromptPair_ModelResponseQueryError
--- PASS: TestEvaluateModelPromptPair_ModelResponseQueryError (0.00s)
=== RUN   TestEvaluateModelPromptPair_GetAPIKeysError
--- PASS: TestEvaluateModelPromptPair_GetAPIKeysError (0.00s)
=== RUN   TestEvaluateModelPromptPair_EvaluateError
--- PASS: TestEvaluateModelPromptPair_EvaluateError (0.00s)
=== RUN   TestEvaluateModelPromptPair_UpdateScoreError
--- PASS: TestEvaluateModelPromptPair_UpdateScoreError (0.00s)
=== RUN   TestEvaluateModelPromptPair_HistoryInsertError_IsLogged
2025/12/24 19:05:04 Failed to save evaluation history: no such table: evaluation_history
--- PASS: TestEvaluateModelPromptPair_HistoryInsertError_IsLogged (0.00s)
=== RUN   TestGetAPIKeys_ScanError
--- PASS: TestGetAPIKeys_ScanError (0.00s)
=== RUN   TestEvaluateModel_NotFound
--- PASS: TestEvaluateModel_NotFound (0.00s)
=== RUN   TestEvaluatePrompt
--- PASS: TestEvaluatePrompt (0.00s)
=== RUN   TestEvaluatePrompt_NotFound
--- PASS: TestEvaluatePrompt_NotFound (0.00s)
=== RUN   TestGetJobStatus
--- PASS: TestGetJobStatus (0.00s)
=== RUN   TestCancelJob
--- PASS: TestCancelJob (0.00s)
=== RUN   TestProcessJob_UnknownType
2025/12/24 19:05:04 Processing job 0 (type: unknown)
--- PASS: TestProcessJob_UnknownType (0.00s)
=== RUN   TestProcessAllJob_NoData
--- PASS: TestProcessAllJob_NoData (0.00s)
=== RUN   TestProcessModelJob_NoPrompts
--- PASS: TestProcessModelJob_NoPrompts (0.00s)
=== RUN   TestProcessPromptJob_NoModels
--- PASS: TestProcessPromptJob_NoModels (0.00s)
=== RUN   TestGetAPIKeys
--- PASS: TestGetAPIKeys (0.00s)
=== RUN   TestEvaluateModelPromptPair_NoResponse
2025/12/24 19:05:04 No response for model 1, prompt 1 - skipping
--- PASS: TestEvaluateModelPromptPair_NoResponse (0.00s)
=== RUN   TestEvaluateModelPromptPair_PromptNotFound
--- PASS: TestEvaluateModelPromptPair_PromptNotFound (0.00s)
=== RUN   TestProcessAllJob_Cancellation
--- PASS: TestProcessAllJob_Cancellation (0.00s)
=== RUN   TestProcessModelJob_Cancellation
--- PASS: TestProcessModelJob_Cancellation (0.00s)
=== RUN   TestProcessPromptJob_Cancellation
--- PASS: TestProcessPromptJob_Cancellation (0.00s)
=== RUN   TestEvaluateModelPromptPair_WithMockServer_Success
--- PASS: TestEvaluateModelPromptPair_WithMockServer_Success (0.00s)
=== RUN   TestEvaluateModelPromptPair_WithMockServer_HTTPError
--- PASS: TestEvaluateModelPromptPair_WithMockServer_HTTPError (0.00s)
=== RUN   TestEvaluateModelPromptPair_WithMockServer_LowScore
--- PASS: TestEvaluateModelPromptPair_WithMockServer_LowScore (0.00s)
=== RUN   TestProcessAllJob_WithMockServer
--- PASS: TestProcessAllJob_WithMockServer (0.00s)
=== RUN   TestProcessModelJob_WithMockServer
--- PASS: TestProcessModelJob_WithMockServer (0.00s)
=== RUN   TestProcessPromptJob_WithMockServer
--- PASS: TestProcessPromptJob_WithMockServer (0.00s)
=== RUN   TestWorker_ProcessesJob
2025/12/24 19:05:04 Worker 0 started
2025/12/24 19:05:04 Worker 0 processing job 1
2025/12/24 19:05:04 Processing job 1 (type: all)
2025/12/24 19:05:04 Job 1 completed successfully
--- PASS: TestWorker_ProcessesJob (0.10s)
=== RUN   TestWorker_FailedJob
2025/12/24 19:05:04 Worker 0 started
2025/12/24 19:05:04 Worker 0 processing job 1
2025/12/24 19:05:04 Processing job 1 (type: invalid_type)
2025/12/24 19:05:04 Job 1 failed: unknown job type: invalid_type
--- PASS: TestWorker_FailedJob (0.10s)
=== RUN   TestJobQueue_UpdateJobProgress_FromEvaluator
--- PASS: TestJobQueue_UpdateJobProgress_FromEvaluator (0.00s)
=== RUN   TestJobQueue_CancelRunningJob
--- PASS: TestJobQueue_CancelRunningJob (0.00s)
=== RUN   TestLiteLLMClient_Evaluate_Success
--- PASS: TestLiteLLMClient_Evaluate_Success (0.00s)
=== RUN   TestLiteLLMClient_Evaluate_Error
--- PASS: TestLiteLLMClient_Evaluate_Error (0.00s)
=== RUN   TestLiteLLMClient_HealthCheck
--- PASS: TestLiteLLMClient_HealthCheck (0.00s)
=== RUN   TestLiteLLMClient_HealthCheck_Unhealthy
--- PASS: TestLiteLLMClient_HealthCheck_Unhealthy (0.00s)
=== RUN   TestLiteLLMClient_EstimateCost
--- PASS: TestLiteLLMClient_EstimateCost (0.00s)
=== RUN   TestLiteLLMClient_EstimateCost_Error
--- PASS: TestLiteLLMClient_EstimateCost_Error (0.00s)
=== RUN   TestResumePendingJobs_NoPendingJobs
--- PASS: TestResumePendingJobs_NoPendingJobs (0.05s)
=== RUN   TestResumePendingJobs_WithPendingJobs
2025/12/24 19:05:04 Resumed 2 pending jobs
--- PASS: TestResumePendingJobs_WithPendingJobs (0.00s)
=== RUN   TestResumePendingJobs_ScanError
2025/12/24 19:05:04 Failed to scan job: sql: Scan error on column index 3, name "target_id": converting NULL to int is unsupported
--- PASS: TestResumePendingJobs_ScanError (0.00s)
=== RUN   TestNewJobQueueWithDelay
2025/12/24 19:05:04 Worker 0 started
--- PASS: TestNewJobQueueWithDelay (0.00s)
=== RUN   TestJobQueue_GetJob_NotFound_WithSetup
--- PASS: TestJobQueue_GetJob_NotFound_WithSetup (0.00s)
=== RUN   TestJobQueue_Enqueue_DBError
--- PASS: TestJobQueue_Enqueue_DBError (0.00s)
=== RUN   TestWorker_UpdateJobError
2025/12/24 19:05:04 Worker 0 started
2025/12/24 19:05:04 Worker 0 processing job -1
2025/12/24 19:05:04 Processing job -1 (type: all)
2025/12/24 19:05:04 Job -1 completed successfully
2025/12/24 19:05:04 Failed to query pending jobs: sql: database is closed
--- PASS: TestWorker_UpdateJobError (0.10s)
=== RUN   TestProcessJob_UnknownJobType
2025/12/24 19:05:04 Processing job 1 (type: unknown_type)
--- PASS: TestProcessJob_UnknownJobType (0.00s)
=== RUN   TestProcessJob_AllType
2025/12/24 19:05:04 Processing job 1 (type: all)
--- PASS: TestProcessJob_AllType (0.00s)
=== RUN   TestProcessJob_ModelType
2025/12/24 19:05:04 Processing job 1 (type: model)
--- PASS: TestProcessJob_ModelType (0.00s)
=== RUN   TestProcessJob_PromptType
2025/12/24 19:05:04 Processing job 1 (type: prompt)
--- PASS: TestProcessJob_PromptType (0.00s)
=== RUN   TestJobQueue_Enqueue_InsertError_ReturnsError
--- PASS: TestJobQueue_Enqueue_InsertError_ReturnsError (0.00s)
=== RUN   TestJobQueue_Enqueue_LastInsertIDError_ReturnsError
--- PASS: TestJobQueue_Enqueue_LastInsertIDError_ReturnsError (0.00s)
=== RUN   TestWorker_ProcessJobError_SetsFailedAndCleansUp
--- PASS: TestWorker_ProcessJobError_SetsFailedAndCleansUp (0.00s)
=== RUN   TestNewJobQueue
2025/12/24 19:05:04 Worker 0 started
--- PASS: TestNewJobQueue (0.00s)
=== RUN   TestJobQueue_Enqueue
--- PASS: TestJobQueue_Enqueue (0.00s)
=== RUN   TestJobQueue_GetJob
--- PASS: TestJobQueue_GetJob (0.00s)
=== RUN   TestJobQueue_GetJob_WithStartedAndCompletedTimes
--- PASS: TestJobQueue_GetJob_WithStartedAndCompletedTimes (0.00s)
=== RUN   TestJobQueue_GetJob_NotFound
--- PASS: TestJobQueue_GetJob_NotFound (0.00s)
=== RUN   TestJobQueue_CancelJob_NotRunning
--- PASS: TestJobQueue_CancelJob_NotRunning (0.00s)
=== RUN   TestJobQueue_CancelJob_Running
--- PASS: TestJobQueue_CancelJob_Running (0.00s)
=== RUN   TestJobQueue_UpdateJobProgress
--- PASS: TestJobQueue_UpdateJobProgress (0.00s)
=== RUN   TestEvaluationJob_Fields
--- PASS: TestEvaluationJob_Fields (0.00s)
=== RUN   TestJobQueue_MultipleJobs
--- PASS: TestJobQueue_MultipleJobs (0.00s)
=== RUN   TestJobQueue_UpdateJob_StatusChange
--- PASS: TestJobQueue_UpdateJob_StatusChange (0.00s)
=== RUN   TestJobQueue_UpdateJob_Completed
--- PASS: TestJobQueue_UpdateJob_Completed (0.00s)
=== RUN   TestJobQueue_UpdateJob_WithError
--- PASS: TestJobQueue_UpdateJob_WithError (0.00s)
=== RUN   TestNewLiteLLMClient
--- PASS: TestNewLiteLLMClient (0.00s)
=== RUN   TestEvaluate_Success
--- PASS: TestEvaluate_Success (0.00s)
=== RUN   TestEvaluate_ServerError
--- PASS: TestEvaluate_ServerError (0.00s)
=== RUN   TestEvaluate_InvalidJSON
--- PASS: TestEvaluate_InvalidJSON (0.00s)
=== RUN   TestEvaluate_ConnectionError
--- PASS: TestEvaluate_ConnectionError (0.00s)
=== RUN   TestEstimateCost_Success
--- PASS: TestEstimateCost_Success (0.00s)
=== RUN   TestEstimateCost_ServerError
--- PASS: TestEstimateCost_ServerError (0.00s)
=== RUN   TestEstimateCost_InvalidJSON
--- PASS: TestEstimateCost_InvalidJSON (0.00s)
=== RUN   TestEstimateCost_ConnectionError
--- PASS: TestEstimateCost_ConnectionError (0.00s)
=== RUN   TestHealthCheck_Success
--- PASS: TestHealthCheck_Success (0.00s)
=== RUN   TestHealthCheck_Unhealthy
--- PASS: TestHealthCheck_Unhealthy (0.00s)
=== RUN   TestHealthCheck_ConnectionError
--- PASS: TestHealthCheck_ConnectionError (0.00s)
=== RUN   TestEvaluate_MultipleJudges
--- PASS: TestEvaluate_MultipleJudges (0.00s)
=== RUN   TestProcessModelJob_QueryPromptsError_ReturnsError
--- PASS: TestProcessModelJob_QueryPromptsError_ReturnsError (0.00s)
=== RUN   TestProcessPromptJob_QueryModelsError_ReturnsError
--- PASS: TestProcessPromptJob_QueryModelsError_ReturnsError (0.00s)
=== RUN   TestProcessModelJob_EvaluateAndProgressErrors_Continue
--- PASS: TestProcessModelJob_EvaluateAndProgressErrors_Continue (0.00s)
=== RUN   TestProcessPromptJob_EvaluateAndProgressErrors_Continue
--- PASS: TestProcessPromptJob_EvaluateAndProgressErrors_Continue (0.00s)
=== RUN   TestProcessModelJob_PromptScanError_ReturnsError
--- PASS: TestProcessModelJob_PromptScanError_ReturnsError (0.00s)
=== RUN   TestProcessPromptJob_ModelScanError_ReturnsError
--- PASS: TestProcessPromptJob_ModelScanError_ReturnsError (0.00s)
=== RUN   TestProcessAllJob_ModelScanError_ReturnsError
--- PASS: TestProcessAllJob_ModelScanError_ReturnsError (0.00s)
=== RUN   TestProcessAllJob_PromptScanError_ReturnsError
--- PASS: TestProcessAllJob_PromptScanError_ReturnsError (0.00s)
PASS
coverage: 100.0% of statements
ok  	llm-tournament/evaluator	(cached)	coverage: 100.0% of statements
=== RUN   TestEvaluateAllHandler_MethodNotAllowed
--- PASS: TestEvaluateAllHandler_MethodNotAllowed (0.03s)
=== RUN   TestEvaluateModelHandler_MethodNotAllowed
--- PASS: TestEvaluateModelHandler_MethodNotAllowed (0.03s)
=== RUN   TestEvaluateModelHandler_MissingID
--- PASS: TestEvaluateModelHandler_MissingID (0.03s)
=== RUN   TestEvaluateModelHandler_InvalidID
--- PASS: TestEvaluateModelHandler_InvalidID (0.03s)
=== RUN   TestEvaluatePromptHandler_MethodNotAllowed
--- PASS: TestEvaluatePromptHandler_MethodNotAllowed (0.03s)
=== RUN   TestEvaluatePromptHandler_MissingID
--- PASS: TestEvaluatePromptHandler_MissingID (0.03s)
=== RUN   TestEvaluatePromptHandler_InvalidID
--- PASS: TestEvaluatePromptHandler_InvalidID (0.03s)
=== RUN   TestEvaluationProgressHandler_MissingID
--- PASS: TestEvaluationProgressHandler_MissingID (0.03s)
=== RUN   TestEvaluationProgressHandler_InvalidID
--- PASS: TestEvaluationProgressHandler_InvalidID (0.03s)
=== RUN   TestCancelEvaluationHandler_MethodNotAllowed
--- PASS: TestCancelEvaluationHandler_MethodNotAllowed (0.03s)
=== RUN   TestCancelEvaluationHandler_MissingID
--- PASS: TestCancelEvaluationHandler_MissingID (0.03s)
=== RUN   TestCancelEvaluationHandler_InvalidID
--- PASS: TestCancelEvaluationHandler_InvalidID (0.03s)
=== RUN   TestInitEvaluator
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Worker 2 started
--- PASS: TestInitEvaluator (0.03s)
=== RUN   TestInitEvaluator_WithCustomURL
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://custom:8001
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Worker 2 started
--- PASS: TestInitEvaluator_WithCustomURL (0.03s)
=== RUN   TestEvaluateAllHandler_WithEvaluator
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Worker 0 processing job 1
2025/12/25 12:25:06 Processing job 1 (type: all)
2025/12/25 12:25:06 Job 1 failed: failed to query models: sql: database is closed
2025/12/25 12:25:06 Failed to update job completion: sql: database is closed
--- PASS: TestEvaluateAllHandler_WithEvaluator (0.03s)
=== RUN   TestEvaluateModelHandler_WithEvaluator
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Worker 0 processing job 1
2025/12/25 12:25:06 Processing job 1 (type: model)
2025/12/25 12:25:06 Job 1 failed: failed to query prompts: sql: database is closed
2025/12/25 12:25:06 Failed to update job completion: sql: database is closed
--- PASS: TestEvaluateModelHandler_WithEvaluator (0.03s)
=== RUN   TestEvaluatePromptHandler_WithEvaluator
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 0 processing job 1
2025/12/25 12:25:06 Failed to update job status: sql: database is closed
2025/12/25 12:25:06 Processing job 1 (type: prompt)
2025/12/25 12:25:06 Job 1 failed: failed to query models: sql: database is closed
2025/12/25 12:25:06 Failed to update job completion: sql: database is closed
--- PASS: TestEvaluatePromptHandler_WithEvaluator (0.03s)
=== RUN   TestEvaluationProgressHandler_WithValidJob
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
--- PASS: TestEvaluationProgressHandler_WithValidJob (0.03s)
=== RUN   TestEvaluationProgressHandler_JobNotFound
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Error getting job status: sql: no rows in result set
--- PASS: TestEvaluationProgressHandler_JobNotFound (0.03s)
=== RUN   TestCancelEvaluationHandler_WithValidJob
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Error cancelling job: job 1 not running
--- PASS: TestCancelEvaluationHandler_WithValidJob (0.03s)
=== RUN   TestEvaluateAllHandler_NilEvaluator
--- PASS: TestEvaluateAllHandler_NilEvaluator (0.03s)
=== RUN   TestEvaluateModelHandler_WithInvalidModel
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Error starting model evaluation: failed to get model suite: sql: no rows in result set
2025/12/25 12:25:06 Worker 2 started
--- PASS: TestEvaluateModelHandler_WithInvalidModel (0.03s)
=== RUN   TestEvaluatePromptHandler_WithInvalidPrompt
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Error starting prompt evaluation: failed to get prompt suite: sql: no rows in result set
--- PASS: TestEvaluatePromptHandler_WithInvalidPrompt (0.03s)
=== RUN   TestCancelEvaluationHandler_WithNonExistentJob
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Error cancelling job: job 99999 not running
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Worker 1 started
--- PASS: TestCancelEvaluationHandler_WithNonExistentJob (0.03s)
=== RUN   TestCancelEvaluationHandler_SuccessResponse
2025/12/25 12:25:06 Job 1 failed: job cancelled
2025/12/25 12:25:06 Failed to update job completion: sql: database is closed
--- PASS: TestCancelEvaluationHandler_SuccessResponse (0.08s)
=== RUN   TestEvaluateAllHandler_GetCurrentSuiteIDError
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Error getting current suite: no such table: suites
--- PASS: TestEvaluateAllHandler_GetCurrentSuiteIDError (0.03s)
=== RUN   TestEvaluateAllHandler_EvaluateAllError
2025/12/25 12:25:06 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/25 12:25:06 Worker 1 started
2025/12/25 12:25:06 Worker 0 started
2025/12/25 12:25:06 Worker 2 started
2025/12/25 12:25:06 Error starting evaluation: failed to enqueue job: failed to insert job: no such table: evaluation_jobs
--- PASS: TestEvaluateAllHandler_EvaluateAllError (0.03s)
=== RUN   TestSaveModelResponseHandler_ErrorCases
=== RUN   TestSaveModelResponseHandler_ErrorCases/GET_method_not_allowed
=== RUN   TestSaveModelResponseHandler_ErrorCases/missing_model_id
=== RUN   TestSaveModelResponseHandler_ErrorCases/missing_prompt_id
=== RUN   TestSaveModelResponseHandler_ErrorCases/missing_response_text
=== RUN   TestSaveModelResponseHandler_ErrorCases/invalid_JSON
--- PASS: TestSaveModelResponseHandler_ErrorCases (0.03s)
    --- PASS: TestSaveModelResponseHandler_ErrorCases/GET_method_not_allowed (0.00s)
    --- PASS: TestSaveModelResponseHandler_ErrorCases/missing_model_id (0.00s)
    --- PASS: TestSaveModelResponseHandler_ErrorCases/missing_prompt_id (0.00s)
    --- PASS: TestSaveModelResponseHandler_ErrorCases/missing_response_text (0.00s)
    --- PASS: TestSaveModelResponseHandler_ErrorCases/invalid_JSON (0.00s)
=== RUN   TestSaveModelResponseHandler_MethodNotAllowed
--- PASS: TestSaveModelResponseHandler_MethodNotAllowed (0.03s)
=== RUN   TestSaveModelResponseHandler_MissingModelID
--- PASS: TestSaveModelResponseHandler_MissingModelID (0.03s)
=== RUN   TestSaveModelResponseHandler_MissingPromptID
--- PASS: TestSaveModelResponseHandler_MissingPromptID (0.03s)
=== RUN   TestSaveModelResponseHandler_MissingResponseText
--- PASS: TestSaveModelResponseHandler_MissingResponseText (0.03s)
=== RUN   TestSaveModelResponseHandler_ValidInput
--- PASS: TestSaveModelResponseHandler_ValidInput (0.03s)
=== RUN   TestSaveModelResponseHandler_UpdateExisting
--- PASS: TestSaveModelResponseHandler_UpdateExisting (0.03s)
=== RUN   TestAddModelHandler_Success
2025/12/25 12:25:06 Handling add model
2025/12/25 12:25:06 Model added successfully
2025/12/25 12:25:06 BroadcastResults results: map[TestModel:{[]}]
2025/12/25 12:25:06 Broadcasting data - Models: [TestModel]
--- PASS: TestAddModelHandler_Success (0.04s)
=== RUN   TestAddModelHandler_EmptyName
2025/12/25 12:25:06 Handling add model
2025/12/25 12:25:06 Model name cannot be empty
--- PASS: TestAddModelHandler_EmptyName (0.03s)
=== RUN   TestAddModelHandler_MethodNotAllowed
2025/12/25 12:25:06 Handling add model
--- PASS: TestAddModelHandler_MethodNotAllowed (0.03s)
=== RUN   TestAddModelHandler_DuplicateModel
2025/12/25 12:25:06 Handling add model
2025/12/25 12:25:06 Model added successfully
2025/12/25 12:25:06 BroadcastResults results: map[DuplicateModel:{[]}]
2025/12/25 12:25:06 Broadcasting data - Models: [DuplicateModel]
2025/12/25 12:25:06 Handling add model
2025/12/25 12:25:06 Model added successfully
2025/12/25 12:25:06 BroadcastResults results: map[DuplicateModel:{[]}]
2025/12/25 12:25:06 Broadcasting data - Models: [DuplicateModel]
--- PASS: TestAddModelHandler_DuplicateModel (0.04s)
=== RUN   TestDeleteModelHandler_POST_Success
2025/12/25 12:25:06 Handling add model
2025/12/25 12:25:06 Model added successfully
2025/12/25 12:25:06 BroadcastResults results: map[ModelToDelete:{[]}]
2025/12/25 12:25:06 Broadcasting data - Models: [ModelToDelete]
2025/12/25 12:25:06 Handling delete model
2025/12/25 12:25:06 BroadcastResults results: map[]
2025/12/25 12:25:06 Broadcasting data - Models: []
--- PASS: TestDeleteModelHandler_POST_Success (0.04s)
=== RUN   TestDeleteModelHandler_POST_EmptyName
2025/12/25 12:25:06 Handling delete model
--- PASS: TestDeleteModelHandler_POST_EmptyName (0.03s)
=== RUN   TestDeleteModelHandler_GET_EmptyName
2025/12/25 12:25:06 Handling delete model
--- PASS: TestDeleteModelHandler_GET_EmptyName (0.03s)
=== RUN   TestEditModelHandler_POST_Success
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Model added successfully
2025/12/25 12:25:07 BroadcastResults results: map[OldModelName:{[]}]
2025/12/25 12:25:07 Broadcasting data - Models: [OldModelName]
2025/12/25 12:25:07 Handling edit model
2025/12/25 12:25:07 BroadcastResults results: map[NewModelName:{[]}]
2025/12/25 12:25:07 Broadcasting data - Models: [NewModelName]
--- PASS: TestEditModelHandler_POST_Success (0.04s)
=== RUN   TestEditModelHandler_POST_EmptyNewName
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Model added successfully
2025/12/25 12:25:07 BroadcastResults results: map[ExistingModel:{[]}]
2025/12/25 12:25:07 Broadcasting data - Models: [ExistingModel]
2025/12/25 12:25:07 Handling edit model
--- PASS: TestEditModelHandler_POST_EmptyNewName (0.04s)
=== RUN   TestEditModelHandler_POST_DuplicateName
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Model added successfully
2025/12/25 12:25:07 BroadcastResults results: map[Model1:{[]}]
2025/12/25 12:25:07 Broadcasting data - Models: [Model1]
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Model added successfully
2025/12/25 12:25:07 BroadcastResults results: map[Model1:{[]} Model2:{[]}]
2025/12/25 12:25:07 Broadcasting data - Models: [Model1 Model2]
2025/12/25 12:25:07 Handling edit model
--- PASS: TestEditModelHandler_POST_DuplicateName (0.04s)
=== RUN   TestEditModelHandler_GET_MissingModelParam
2025/12/25 12:25:07 Handling edit model
--- PASS: TestEditModelHandler_GET_MissingModelParam (0.03s)
=== RUN   TestDeleteModelHandler_POST_NonExistent
2025/12/25 12:25:07 Handling delete model
2025/12/25 12:25:07 BroadcastResults results: map[]
2025/12/25 12:25:07 Broadcasting data - Models: []
--- PASS: TestDeleteModelHandler_POST_NonExistent (0.03s)
=== RUN   TestEditModelHandler_POST_NonExistent
2025/12/25 12:25:07 Handling edit model
2025/12/25 12:25:07 BroadcastResults results: map[NewName:{[]}]
2025/12/25 12:25:07 Broadcasting data - Models: [NewName]
--- PASS: TestEditModelHandler_POST_NonExistent (0.04s)
=== RUN   TestAddModelHandler_WithPrompts
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Model added successfully
2025/12/25 12:25:07 BroadcastResults results: map[ModelWithScores:{[0 0 0]}]
2025/12/25 12:25:07 Broadcasting data - Models: [ModelWithScores]
--- PASS: TestAddModelHandler_WithPrompts (0.04s)
=== RUN   TestDeleteModelHandler_GET_Success
2025/12/25 12:25:07 Handling delete model
--- PASS: TestDeleteModelHandler_GET_Success (0.03s)
=== RUN   TestAddModel_WriteResultsError
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Error writing results: database write error
--- PASS: TestAddModel_WriteResultsError (0.00s)
=== RUN   TestEditModel_WriteResultsError
2025/12/25 12:25:07 Handling edit model
2025/12/25 12:25:07 Error writing results: database write error
--- PASS: TestEditModel_WriteResultsError (0.00s)
=== RUN   TestDeleteModel_WriteResultsError
2025/12/25 12:25:07 Handling delete model
2025/12/25 12:25:07 Error writing results: database write error
--- PASS: TestDeleteModel_WriteResultsError (0.00s)
=== RUN   TestDeleteModelHandler_MethodNotAllowed
2025/12/25 12:25:07 Handling delete model
--- PASS: TestDeleteModelHandler_MethodNotAllowed (0.03s)
=== RUN   TestAddModel_ParseFormError
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Error parsing form: mock read error
--- PASS: TestAddModel_ParseFormError (0.00s)
=== RUN   TestAddModel_ReadResultsNil
2025/12/25 12:25:07 Handling add model
2025/12/25 12:25:07 Model added successfully
--- PASS: TestAddModel_ReadResultsNil (0.00s)
=== RUN   TestEditModelHandler_GET_Success
2025/12/25 12:25:07 Handling edit model
--- PASS: TestEditModelHandler_GET_Success (0.03s)
=== RUN   TestEditModelHandler_MethodNotAllowed
2025/12/25 12:25:07 Handling edit model
--- PASS: TestEditModelHandler_MethodNotAllowed (0.03s)
=== RUN   TestEditModelHandler_GET_RenderError
2025/12/25 12:25:07 Handling edit model
2025/12/25 12:25:07 Error rendering template: open templates/edit_model.html: The system cannot find the path specified.
--- PASS: TestEditModelHandler_GET_RenderError (0.03s)
=== RUN   TestDeleteModelHandler_GET_RenderError
2025/12/25 12:25:07 Handling delete model
2025/12/25 12:25:07 Error rendering template: open templates/delete_model.html: The system cannot find the path specified.
--- PASS: TestDeleteModelHandler_GET_RenderError (0.03s)
=== RUN   TestAddProfileHandler_Success
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile added successfully
--- PASS: TestAddProfileHandler_Success (0.03s)
=== RUN   TestAddProfileHandler_EmptyName
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile name cannot be empty
--- PASS: TestAddProfileHandler_EmptyName (0.03s)
=== RUN   TestAddProfileHandler_MethodNotAllowed
2025/12/25 12:25:07 Handling add profile
--- PASS: TestAddProfileHandler_MethodNotAllowed (0.03s)
=== RUN   TestEditProfileHandler_POST_Success
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile added successfully
2025/12/25 12:25:07 Handling edit profile
2025/12/25 12:25:07 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_Success (0.03s)
=== RUN   TestEditProfileHandler_POST_EmptyName
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile added successfully
2025/12/25 12:25:07 Handling edit profile
2025/12/25 12:25:07 Profile name cannot be empty
--- PASS: TestEditProfileHandler_POST_EmptyName (0.03s)
=== RUN   TestEditProfileHandler_POST_InvalidIndex
2025/12/25 12:25:07 Handling edit profile
2025/12/25 12:25:07 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditProfileHandler_POST_InvalidIndex (0.03s)
=== RUN   TestEditProfileHandler_MethodNotAllowed
2025/12/25 12:25:07 Handling edit profile
--- PASS: TestEditProfileHandler_MethodNotAllowed (0.03s)
=== RUN   TestEditProfileHandler_GET_InvalidIndex
2025/12/25 12:25:07 Handling edit profile
2025/12/25 12:25:07 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditProfileHandler_GET_InvalidIndex (0.03s)
=== RUN   TestDeleteProfileHandler_MethodNotAllowed
2025/12/25 12:25:07 Handling delete profile
--- PASS: TestDeleteProfileHandler_MethodNotAllowed (0.03s)
=== RUN   TestResetProfilesHandler_MethodNotAllowed
2025/12/25 12:25:07 Handling reset profiles
--- PASS: TestResetProfilesHandler_MethodNotAllowed (0.03s)
=== RUN   TestDeleteProfileHandler_POST_Success
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile added successfully
2025/12/25 12:25:07 Handling delete profile
2025/12/25 12:25:07 Profile deleted successfully
--- PASS: TestDeleteProfileHandler_POST_Success (0.03s)
=== RUN   TestDeleteProfileHandler_POST_InvalidIndex
2025/12/25 12:25:07 Handling delete profile
2025/12/25 12:25:07 Invalid index: strconv.Atoi: parsing "not_a_number": invalid syntax
--- PASS: TestDeleteProfileHandler_POST_InvalidIndex (0.03s)
=== RUN   TestDeleteProfileHandler_GET_InvalidIndex
2025/12/25 12:25:07 Handling delete profile
2025/12/25 12:25:07 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestDeleteProfileHandler_GET_InvalidIndex (0.03s)
=== RUN   TestResetProfilesHandler_POST
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile added successfully
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile added successfully
2025/12/25 12:25:07 Handling reset profiles
2025/12/25 12:25:07 Profiles reset successfully
--- PASS: TestResetProfilesHandler_POST (0.03s)
=== RUN   TestDeleteProfileHandler_POST_OutOfRange
2025/12/25 12:25:07 Handling add profile
2025/12/25 12:25:07 Profile added successfully
2025/12/25 12:25:07 Handling delete profile
2025/12/25 12:25:07 Profile deleted successfully
--- PASS: TestDeleteProfileHandler_POST_OutOfRange (0.03s)
=== RUN   TestProfilesHandler_GET
2025/12/25 12:25:07 Handling profiles page
2025/12/25 12:25:07 Profiles page rendered successfully
--- PASS: TestProfilesHandler_GET (0.03s)
=== RUN   TestResetProfilesHandler_GET
2025/12/25 12:25:07 Handling reset profiles
--- PASS: TestResetProfilesHandler_GET (0.03s)
=== RUN   TestEditProfileHandler_GET_Success
2025/12/25 12:25:07 Handling edit profile
--- PASS: TestEditProfileHandler_GET_Success (0.03s)
=== RUN   TestDeleteProfileHandler_GET_Success
2025/12/25 12:25:07 Handling delete profile
--- PASS: TestDeleteProfileHandler_GET_Success (0.03s)
=== RUN   TestProfilesHandler_GET_WithSearch
2025/12/25 12:25:07 Handling profiles page
2025/12/25 12:25:07 Profiles page rendered successfully
--- PASS: TestProfilesHandler_GET_WithSearch (0.03s)
=== RUN   TestEditProfileHandler_GET_OutOfRangeIndex
2025/12/25 12:25:07 Handling edit profile
--- PASS: TestEditProfileHandler_GET_OutOfRangeIndex (0.03s)
=== RUN   TestEditProfileHandler_POST_WithPromptRename
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_WithPromptRename (0.03s)
=== RUN   TestEditProfileHandler_POST_OutOfRangeIndex
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_OutOfRangeIndex (0.03s)
=== RUN   TestDeleteProfileHandler_GET_OutOfRangeIndex
2025/12/25 12:25:08 Handling delete profile
--- PASS: TestDeleteProfileHandler_GET_OutOfRangeIndex (0.03s)
=== RUN   TestProfilesHandler_GET_EmptyProfiles
2025/12/25 12:25:08 Handling profiles page
2025/12/25 12:25:08 Profiles page rendered successfully
--- PASS: TestProfilesHandler_GET_EmptyProfiles (0.03s)
=== RUN   TestEditProfileHandler_POST_UpdatesLinkedPrompts
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_UpdatesLinkedPrompts (0.04s)
=== RUN   TestDeleteProfileHandler_POST_NegativeIndex
2025/12/25 12:25:08 Handling delete profile
2025/12/25 12:25:08 Profile deleted successfully
--- PASS: TestDeleteProfileHandler_POST_NegativeIndex (0.03s)
=== RUN   TestEditProfileHandler_POST_NegativeIndex
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_NegativeIndex (0.03s)
=== RUN   TestProfilesHandler_GET_RenderError
2025/12/25 12:25:08 Handling profiles page
2025/12/25 12:25:08 Error rendering template: open templates/profiles.html: The system cannot find the path specified.
--- PASS: TestProfilesHandler_GET_RenderError (0.03s)
=== RUN   TestResetProfilesHandler_GET_RenderError
2025/12/25 12:25:08 Handling reset profiles
2025/12/25 12:25:08 Error rendering template: open templates/reset_profiles.html: The system cannot find the path specified.
--- PASS: TestResetProfilesHandler_GET_RenderError (0.03s)
=== RUN   TestAddProfile_WriteProfilesError
2025/12/25 12:25:08 Handling add profile
2025/12/25 12:25:08 Error writing profiles: database write error
--- PASS: TestAddProfile_WriteProfilesError (0.00s)
=== RUN   TestEditProfile_WriteProfilesError
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Error writing profiles: database write error
--- PASS: TestEditProfile_WriteProfilesError (0.00s)
=== RUN   TestEditProfile_WritePromptsError
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Error updating prompts: database write error
--- PASS: TestEditProfile_WritePromptsError (0.00s)
=== RUN   TestDeleteProfile_WriteProfilesError
2025/12/25 12:25:08 Handling delete profile
2025/12/25 12:25:08 Error writing profiles: database write error
--- PASS: TestDeleteProfile_WriteProfilesError (0.00s)
=== RUN   TestResetProfiles_WriteProfilesError
2025/12/25 12:25:08 Handling reset profiles
2025/12/25 12:25:08 Error writing profiles: database write error
--- PASS: TestResetProfiles_WriteProfilesError (0.00s)
=== RUN   TestDeleteProfileHandler_GET_RenderError
2025/12/25 12:25:08 Handling delete profile
2025/12/25 12:25:08 Error rendering template: mock render error
--- PASS: TestDeleteProfileHandler_GET_RenderError (0.00s)
=== RUN   TestEditProfileHandler_GET_RenderError
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Error rendering template: mock render error
--- PASS: TestEditProfileHandler_GET_RenderError (0.00s)
=== RUN   TestAddProfileHandler_WriteProfilesError
2025/12/25 12:25:08 Handling add profile
2025/12/25 12:25:08 Error writing profiles: mock write error
--- PASS: TestAddProfileHandler_WriteProfilesError (0.00s)
=== RUN   TestAddProfile_ParseFormError
2025/12/25 12:25:08 Handling add profile
2025/12/25 12:25:08 Error parsing form: mock read error
--- PASS: TestAddProfile_ParseFormError (0.00s)
=== RUN   TestEditProfile_POST_ParseFormError
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Error parsing form: mock read error
--- PASS: TestEditProfile_POST_ParseFormError (0.00s)
=== RUN   TestEditProfile_GET_ParseFormError
2025/12/25 12:25:08 Handling edit profile
2025/12/25 12:25:08 Error parsing form: invalid URL escape "%zz"
--- PASS: TestEditProfile_GET_ParseFormError (0.00s)
=== RUN   TestDeleteProfile_GET_ParseFormError
2025/12/25 12:25:08 Handling delete profile
2025/12/25 12:25:08 Error parsing form: invalid URL escape "%zz"
--- PASS: TestDeleteProfile_GET_ParseFormError (0.00s)
=== RUN   TestDeleteProfile_POST_ParseFormError
2025/12/25 12:25:08 Handling delete profile
2025/12/25 12:25:08 Error parsing form: mock read error
--- PASS: TestDeleteProfile_POST_ParseFormError (0.00s)
=== RUN   TestAddPromptHandler_Success
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
--- PASS: TestAddPromptHandler_Success (0.03s)
=== RUN   TestAddPromptHandler_EmptyText
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt text cannot be empty
--- PASS: TestAddPromptHandler_EmptyText (0.03s)
=== RUN   TestAddPromptHandler_MethodNotAllowed
2025/12/25 12:25:08 Handling add prompt
--- PASS: TestAddPromptHandler_MethodNotAllowed (0.03s)
=== RUN   TestEditPromptHandler_POST_Success
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling edit prompt
2025/12/25 12:25:08 Prompt edited successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
--- PASS: TestEditPromptHandler_POST_Success (0.03s)
=== RUN   TestEditPromptHandler_POST_EmptyText
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling edit prompt
2025/12/25 12:25:08 Prompt text cannot be empty
--- PASS: TestEditPromptHandler_POST_EmptyText (0.03s)
=== RUN   TestEditPromptHandler_POST_InvalidIndex
2025/12/25 12:25:08 Handling edit prompt
2025/12/25 12:25:08 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditPromptHandler_POST_InvalidIndex (0.03s)
=== RUN   TestEditPromptHandler_GET_InvalidIndex
2025/12/25 12:25:08 Handling edit prompt
2025/12/25 12:25:08 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditPromptHandler_GET_InvalidIndex (0.03s)
=== RUN   TestEditPromptHandler_MethodNotAllowed
2025/12/25 12:25:08 Handling edit prompt
--- PASS: TestEditPromptHandler_MethodNotAllowed (0.03s)
=== RUN   TestDeletePromptHandler_POST_Success
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling delete prompt
2025/12/25 12:25:08 Prompt deleted successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
--- PASS: TestDeletePromptHandler_POST_Success (0.03s)
=== RUN   TestDeletePromptHandler_POST_InvalidIndex
2025/12/25 12:25:08 Handling delete prompt
2025/12/25 12:25:08 Invalid index: strconv.Atoi: parsing "not_a_number": invalid syntax
--- PASS: TestDeletePromptHandler_POST_InvalidIndex (0.03s)
=== RUN   TestDeletePromptHandler_GET_InvalidIndex
2025/12/25 12:25:08 Handling delete prompt
2025/12/25 12:25:08 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestDeletePromptHandler_GET_InvalidIndex (0.03s)
=== RUN   TestDeletePromptHandler_MethodNotAllowed
2025/12/25 12:25:08 Handling delete prompt
--- PASS: TestDeletePromptHandler_MethodNotAllowed (0.03s)
=== RUN   TestMovePromptHandler_POST_Success
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling move prompt
2025/12/25 12:25:08 Prompt moved successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
--- PASS: TestMovePromptHandler_POST_Success (0.03s)
=== RUN   TestMovePromptHandler_POST_InvalidIndex
2025/12/25 12:25:08 Handling move prompt
2025/12/25 12:25:08 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidIndex (0.03s)
=== RUN   TestMovePromptHandler_POST_InvalidNewIndex
2025/12/25 12:25:08 Handling move prompt
2025/12/25 12:25:08 Invalid new index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidNewIndex (0.03s)
=== RUN   TestMovePromptHandler_GET_InvalidIndex
2025/12/25 12:25:08 Handling move prompt
2025/12/25 12:25:08 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestMovePromptHandler_GET_InvalidIndex (0.03s)
=== RUN   TestMovePromptHandler_MethodNotAllowed
2025/12/25 12:25:08 Handling move prompt
--- PASS: TestMovePromptHandler_MethodNotAllowed (0.03s)
=== RUN   TestResetPromptsHandler_POST
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling reset prompts
2025/12/25 12:25:08 Prompts reset successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
--- PASS: TestResetPromptsHandler_POST (0.03s)
=== RUN   TestResetPromptsHandler_MethodNotAllowed
2025/12/25 12:25:08 Handling reset prompts
--- PASS: TestResetPromptsHandler_MethodNotAllowed (0.03s)
=== RUN   TestExportPromptsHandler
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling export prompts
2025/12/25 12:25:08 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler (0.03s)
=== RUN   TestExportPromptsHandler_MethodNotAllowed
2025/12/25 12:25:08 Handling export prompts
--- PASS: TestExportPromptsHandler_MethodNotAllowed (0.03s)
=== RUN   TestUpdatePromptsOrderHandler_ValidOrder
2025/12/25 12:25:08 Handling update prompts order
2025/12/25 12:25:08 Prompts order updated successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
--- PASS: TestUpdatePromptsOrderHandler_ValidOrder (0.03s)
=== RUN   TestUpdatePromptsOrderHandler_EmptyOrder
2025/12/25 12:25:08 Handling update prompts order
2025/12/25 12:25:08 Order cannot be empty
--- PASS: TestUpdatePromptsOrderHandler_EmptyOrder (0.03s)
=== RUN   TestUpdatePromptsOrderHandler_InvalidJSON
2025/12/25 12:25:08 Handling update prompts order
2025/12/25 12:25:08 Error parsing order: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestUpdatePromptsOrderHandler_InvalidJSON (0.03s)
=== RUN   TestUpdatePromptsOrderHandler_MethodNotAllowed
2025/12/25 12:25:08 Handling update prompts order
--- PASS: TestUpdatePromptsOrderHandler_MethodNotAllowed (0.03s)
=== RUN   TestUpdatePromptsOrder_ParseFormError
2025/12/25 12:25:08 Handling update prompts order
2025/12/25 12:25:08 Error parsing form: mock read error
--- PASS: TestUpdatePromptsOrder_ParseFormError (0.00s)
=== RUN   TestBulkDeletePromptsHandler_Success
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling add prompt
2025/12/25 12:25:08 Prompt added successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
2025/12/25 12:25:08 Handling bulk delete prompts
2025/12/25 12:25:08 Prompts deleted successfully
2025/12/25 12:25:08 BroadcastResults results: map[]
2025/12/25 12:25:08 Broadcasting data - Models: []
--- PASS: TestBulkDeletePromptsHandler_Success (0.03s)
=== RUN   TestBulkDeletePromptsHandler_MethodNotAllowed
2025/12/25 12:25:09 Handling bulk delete prompts
--- PASS: TestBulkDeletePromptsHandler_MethodNotAllowed (0.03s)
=== RUN   TestBulkDeletePromptsHandler_EmptyIndices
2025/12/25 12:25:09 Handling add prompt
2025/12/25 12:25:09 Prompt added successfully
2025/12/25 12:25:09 BroadcastResults results: map[]
2025/12/25 12:25:09 Broadcasting data - Models: []
2025/12/25 12:25:09 Handling bulk delete prompts
2025/12/25 12:25:09 No indices provided for deletion
--- PASS: TestBulkDeletePromptsHandler_EmptyIndices (0.03s)
=== RUN   TestBulkDeletePromptsPageHandler_MethodNotAllowed
2025/12/25 12:25:09 Handling bulk delete prompts page
--- PASS: TestBulkDeletePromptsPageHandler_MethodNotAllowed (0.03s)
=== RUN   TestBulkDeletePromptsPageHandler_NoIndices
2025/12/25 12:25:09 Handling bulk delete prompts page
2025/12/25 12:25:09 No indices provided for deletion
--- PASS: TestBulkDeletePromptsPageHandler_NoIndices (0.03s)
=== RUN   TestBulkDeletePromptsPageHandler_InvalidIndicesJSON
2025/12/25 12:25:09 Handling bulk delete prompts page
2025/12/25 12:25:09 Error unmarshalling indices: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestBulkDeletePromptsPageHandler_InvalidIndicesJSON (0.03s)
=== RUN   TestBulkDeletePromptsPage_RenderError
2025/12/25 12:25:09 Handling bulk delete prompts page
2025/12/25 12:25:09 Error rendering template: mock render error
--- PASS: TestBulkDeletePromptsPage_RenderError (0.00s)
=== RUN   TestPromptListHandler_InvalidOrderFilter
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Invalid order filter: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestPromptListHandler_InvalidOrderFilter (0.03s)
=== RUN   TestImportPromptsHandler_MethodNotAllowed
2025/12/25 12:25:09 Handling import prompts
--- PASS: TestImportPromptsHandler_MethodNotAllowed (0.00s)
=== RUN   TestBulkDeletePrompts_InvalidJSONBody
2025/12/25 12:25:09 Handling bulk delete prompts
2025/12/25 12:25:09 Error decoding request: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestBulkDeletePrompts_InvalidJSONBody (0.00s)
=== RUN   TestBulkDeletePrompts_NoPrompts
2025/12/25 12:25:09 Handling bulk delete prompts
2025/12/25 12:25:09 No prompts to delete
--- PASS: TestBulkDeletePrompts_NoPrompts (0.00s)
=== RUN   TestEditPrompt_GET_ParseFormError
2025/12/25 12:25:09 Handling edit prompt
2025/12/25 12:25:09 Error parsing form: invalid URL escape "%zz"
--- PASS: TestEditPrompt_GET_ParseFormError (0.00s)
=== RUN   TestEditPrompt_POST_ParseFormError
2025/12/25 12:25:09 Handling edit prompt
2025/12/25 12:25:09 Error parsing form: mock read error
--- PASS: TestEditPrompt_POST_ParseFormError (0.00s)
=== RUN   TestDeletePrompt_GET_ParseFormError
2025/12/25 12:25:09 Handling delete prompt
2025/12/25 12:25:09 Error parsing form: invalid URL escape "%zz"
--- PASS: TestDeletePrompt_GET_ParseFormError (0.00s)
=== RUN   TestDeletePrompt_POST_ParseFormError
2025/12/25 12:25:09 Handling delete prompt
2025/12/25 12:25:09 Error parsing form: mock read error
--- PASS: TestDeletePrompt_POST_ParseFormError (0.00s)
=== RUN   TestMovePrompt_GET_ParseFormError
2025/12/25 12:25:09 Handling move prompt
2025/12/25 12:25:09 Error parsing form: invalid URL escape "%zz"
--- PASS: TestMovePrompt_GET_ParseFormError (0.00s)
=== RUN   TestMovePrompt_POST_ParseFormError
2025/12/25 12:25:09 Handling move prompt
2025/12/25 12:25:09 Error parsing form: mock read error
--- PASS: TestMovePrompt_POST_ParseFormError (0.00s)
=== RUN   TestImportPromptsHandler_POST_NoFile
2025/12/25 12:25:09 Handling import prompts
2025/12/25 12:25:09 Error uploading file: no multipart boundary param in Content-Type
--- PASS: TestImportPromptsHandler_POST_NoFile (0.03s)
=== RUN   TestImportPromptsHandler_POST_ValidJSON
2025/12/25 12:25:09 Handling import prompts
2025/12/25 12:25:09 Prompts imported successfully from JSON
2025/12/25 12:25:09 BroadcastResults results: map[]
2025/12/25 12:25:09 Broadcasting data - Models: []
--- PASS: TestImportPromptsHandler_POST_ValidJSON (0.03s)
=== RUN   TestImportPromptsHandler_POST_InvalidJSON
2025/12/25 12:25:09 Handling import prompts
2025/12/25 12:25:09 Error parsing JSON: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestImportPromptsHandler_POST_InvalidJSON (0.03s)
=== RUN   TestImportPromptsHandler_ReadAllError
2025/12/25 12:25:09 Handling import prompts
2025/12/25 12:25:09 Error reading file: mock readall error
--- PASS: TestImportPromptsHandler_ReadAllError (0.03s)
=== RUN   TestImportResultsHandler_MethodNotAllowed
2025/12/25 12:25:09 Handling import results
--- PASS: TestImportResultsHandler_MethodNotAllowed (0.00s)
=== RUN   TestPromptList_InvalidOrderFilter
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Invalid order filter: strconv.Atoi: parsing "not-an-int": invalid syntax
--- PASS: TestPromptList_InvalidOrderFilter (0.00s)
=== RUN   TestPromptList_ListPromptSuitesError
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Error listing prompt suites: mock list suites error
--- PASS: TestPromptList_ListPromptSuitesError (0.00s)
=== RUN   TestPromptList_ReadPromptSuiteError
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Error reading prompt suite: mock read suite error
--- PASS: TestPromptList_ReadPromptSuiteError (0.00s)
=== RUN   TestPromptList_RenderError
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Error rendering template: mock render error
--- PASS: TestPromptList_RenderError (0.00s)
=== RUN   TestPromptList_DefaultSuiteFallback
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Prompt list page rendered successfully
--- PASS: TestPromptList_DefaultSuiteFallback (0.00s)
=== RUN   TestPromptList_WithPrompts
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Prompt list page rendered successfully
--- PASS: TestPromptList_WithPrompts (0.00s)
=== RUN   TestPromptList_ReadDefaultPromptSuiteError
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Error reading default prompt suite: mock read prompt suite error
--- PASS: TestPromptList_ReadDefaultPromptSuiteError (0.00s)
=== RUN   TestPromptList_OrderFilterParseSuccess
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Prompt list page rendered successfully
--- PASS: TestPromptList_OrderFilterParseSuccess (0.00s)
=== RUN   TestImportResultsHandler_POST_NoFile
2025/12/25 12:25:09 Handling import results
2025/12/25 12:25:09 Error uploading file: no multipart boundary param in Content-Type
--- PASS: TestImportResultsHandler_POST_NoFile (0.03s)
=== RUN   TestImportResultsHandler_ReadAllError
2025/12/25 12:25:09 Handling import results
2025/12/25 12:25:09 Error reading file: mock readall error
--- PASS: TestImportResultsHandler_ReadAllError (0.17s)
=== RUN   TestImportResultsHandler_WriteResultsError
2025/12/25 12:25:09 Handling import results
2025/12/25 12:25:09 Error writing results: mock write results error
--- PASS: TestImportResultsHandler_WriteResultsError (0.00s)
=== RUN   TestImportResultsHandler_POST_ValidJSON
2025/12/25 12:25:09 Handling import results
2025/12/25 12:25:09 Results imported successfully from JSON
2025/12/25 12:25:09 BroadcastResults results: map[Model A:{[80 60]} Model B:{[100 40]}]
2025/12/25 12:25:09 Broadcasting data - Models: [Model B Model A]
--- PASS: TestImportResultsHandler_POST_ValidJSON (0.27s)
=== RUN   TestImportResultsHandler_POST_InvalidJSON
2025/12/25 12:25:09 Handling import results
2025/12/25 12:25:09 Error parsing JSON: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestImportResultsHandler_POST_InvalidJSON (0.07s)
=== RUN   TestPromptListHandler_GET
2025/12/25 12:25:09 Handling prompt list page
2025/12/25 12:25:09 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_GET (0.04s)
=== RUN   TestResetPromptsHandler_GET
2025/12/25 12:25:09 Handling reset prompts
--- PASS: TestResetPromptsHandler_GET (0.03s)
=== RUN   TestBulkDeletePromptsPageHandler_GET
2025/12/25 12:25:09 Handling bulk delete prompts page
--- PASS: TestBulkDeletePromptsPageHandler_GET (0.03s)
=== RUN   TestDeletePromptHandler_GET_Success
2025/12/25 12:25:09 Handling delete prompt
--- PASS: TestDeletePromptHandler_GET_Success (0.03s)
=== RUN   TestDeletePromptHandler_GET_OutOfRange
2025/12/25 12:25:09 Handling delete prompt
--- PASS: TestDeletePromptHandler_GET_OutOfRange (0.03s)
=== RUN   TestEditPromptHandler_GET_Success
2025/12/25 12:25:10 Handling edit prompt
--- PASS: TestEditPromptHandler_GET_Success (0.04s)
=== RUN   TestExportPromptsHandler_GET_JSON
2025/12/25 12:25:10 Handling export prompts
2025/12/25 12:25:10 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler_GET_JSON (0.03s)
=== RUN   TestImportResultsHandler_GET
2025/12/25 12:25:10 Handling import results
--- PASS: TestImportResultsHandler_GET (0.03s)
=== RUN   TestImportPromptsHandler_GET
2025/12/25 12:25:10 Handling import prompts
--- PASS: TestImportPromptsHandler_GET (0.03s)
=== RUN   TestImportResultsHandler_EmptyResults
2025/12/25 12:25:10 Handling import results
2025/12/25 12:25:10 No results found in JSON file
--- PASS: TestImportResultsHandler_EmptyResults (0.03s)
=== RUN   TestImportResultsHandler_ScoresExtended
2025/12/25 12:25:10 Handling import results
2025/12/25 12:25:10 Results imported successfully from JSON
2025/12/25 12:25:10 BroadcastResults results: map[Model1:{[80 0 0]}]
2025/12/25 12:25:10 Broadcasting data - Models: [Model1]
--- PASS: TestImportResultsHandler_ScoresExtended (0.04s)
=== RUN   TestPromptListHandler_WithSearch
2025/12/25 12:25:10 Handling prompt list page
2025/12/25 12:25:10 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_WithSearch (0.03s)
=== RUN   TestAddPromptHandler_WithProfile
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Prompt added successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestAddPromptHandler_WithProfile (0.04s)
=== RUN   TestResetPromptsHandler_GET_WithTemplate
2025/12/25 12:25:10 Handling reset prompts
--- PASS: TestResetPromptsHandler_GET_WithTemplate (0.03s)
=== RUN   TestMovePromptHandler_POST_OutOfRange
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Prompt moved successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestMovePromptHandler_POST_OutOfRange (0.03s)
=== RUN   TestMovePromptHandler_POST_MoveUp
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Prompt moved successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestMovePromptHandler_POST_MoveUp (0.03s)
=== RUN   TestMovePromptHandler_GET_OutOfRange
2025/12/25 12:25:10 Handling move prompt
--- PASS: TestMovePromptHandler_GET_OutOfRange (0.03s)
=== RUN   TestExportPromptsHandler_Empty
2025/12/25 12:25:10 Handling export prompts
2025/12/25 12:25:10 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler_Empty (0.03s)
=== RUN   TestAddPromptHandler_WithSolution
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Prompt added successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestAddPromptHandler_WithSolution (0.03s)
=== RUN   TestAddPromptHandler_WithType
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Prompt added successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestAddPromptHandler_WithType (0.03s)
=== RUN   TestMovePromptHandler_POST_SamePosition
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Prompt moved successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestMovePromptHandler_POST_SamePosition (0.03s)
=== RUN   TestImportPromptsHandler_POST_EmptyArray
2025/12/25 12:25:10 Handling import prompts
2025/12/25 12:25:10 No prompts found in JSON file
--- PASS: TestImportPromptsHandler_POST_EmptyArray (0.03s)
=== RUN   TestImportResultsHandler_POST_EmptyResults
2025/12/25 12:25:10 Handling import results
2025/12/25 12:25:10 No results found in JSON file
--- PASS: TestImportResultsHandler_POST_EmptyResults (0.03s)
=== RUN   TestPromptListHandler_WithOrderFilter
2025/12/25 12:25:10 Handling prompt list page
2025/12/25 12:25:10 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_WithOrderFilter (0.03s)
=== RUN   TestPromptListHandler_WithProfileFilter
2025/12/25 12:25:10 Handling prompt list page
2025/12/25 12:25:10 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_WithProfileFilter (0.04s)
=== RUN   TestExportPromptsHandler_WithPrompts
2025/12/25 12:25:10 Handling export prompts
2025/12/25 12:25:10 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler_WithPrompts (0.04s)
=== RUN   TestResetPromptsHandler_GET_RenderError
2025/12/25 12:25:10 Handling reset prompts
2025/12/25 12:25:10 Error rendering template: open templates/reset_prompts.html: The system cannot find the path specified.
--- PASS: TestResetPromptsHandler_GET_RenderError (0.03s)
=== RUN   TestImportPromptsHandler_GET_RenderError
2025/12/25 12:25:10 Handling import prompts
2025/12/25 12:25:10 Error rendering template: open templates/import_prompts.html: The system cannot find the path specified.
--- PASS: TestImportPromptsHandler_GET_RenderError (0.03s)
=== RUN   TestImportResultsHandler_GET_RenderError
2025/12/25 12:25:10 Handling import results
2025/12/25 12:25:10 Error rendering template: open templates/import_results.html: The system cannot find the path specified.
--- PASS: TestImportResultsHandler_GET_RenderError (0.03s)
=== RUN   TestMovePromptHandler_POST_InvalidFromIndex
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidFromIndex (0.03s)
=== RUN   TestMovePromptHandler_POST_InvalidToIndex
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidToIndex (0.03s)
=== RUN   TestMovePromptHandler_POST_OutOfBoundsFrom
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_OutOfBoundsFrom (0.03s)
=== RUN   TestMovePromptHandler_POST_OutOfBoundsTo
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_OutOfBoundsTo (0.03s)
=== RUN   TestMovePromptHandler_POST_NegativeFrom
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_NegativeFrom (0.03s)
=== RUN   TestAddPromptHandler_WhitespaceOnlyText
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Prompt added successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestAddPromptHandler_WhitespaceOnlyText (0.03s)
=== RUN   TestExportPromptsHandler_WriteError
2025/12/25 12:25:10 Handling export prompts
2025/12/25 12:25:10 Error writing response: mock write error
--- PASS: TestExportPromptsHandler_WriteError (0.00s)
=== RUN   TestAddPromptHandler_WritePromptsError
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Error writing prompts: mock write error
--- PASS: TestAddPromptHandler_WritePromptsError (0.00s)
=== RUN   TestMovePromptHandler_WritePromptsError
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Error writing prompts: mock write error
--- PASS: TestMovePromptHandler_WritePromptsError (0.00s)
=== RUN   TestDeletePromptHandler_WritePromptsError
2025/12/25 12:25:10 Handling delete prompt
2025/12/25 12:25:10 Error writing prompts: mock write error
--- PASS: TestDeletePromptHandler_WritePromptsError (0.00s)
=== RUN   TestEditPromptHandler_WritePromptsError
2025/12/25 12:25:10 Handling edit prompt
2025/12/25 12:25:10 Error writing prompts: mock write error
--- PASS: TestEditPromptHandler_WritePromptsError (0.00s)
=== RUN   TestImportPromptsHandler_WritePromptsError
2025/12/25 12:25:10 Handling import prompts
2025/12/25 12:25:10 Error writing prompts: mock write error
--- PASS: TestImportPromptsHandler_WritePromptsError (0.00s)
=== RUN   TestPromptListHandler_RenderError
2025/12/25 12:25:10 Handling prompt list page
2025/12/25 12:25:10 Error rendering template: mock render error
--- PASS: TestPromptListHandler_RenderError (0.00s)
=== RUN   TestResetPromptsHandler_WritePromptsError
2025/12/25 12:25:10 Handling reset prompts
2025/12/25 12:25:10 Error writing prompts: mock write error
--- PASS: TestResetPromptsHandler_WritePromptsError (0.00s)
=== RUN   TestBulkDeletePromptsHandler_WritePromptsError
2025/12/25 12:25:10 Handling bulk delete prompts
2025/12/25 12:25:10 Error writing prompts: mock write error
--- PASS: TestBulkDeletePromptsHandler_WritePromptsError (0.00s)
=== RUN   TestMovePromptHandler_GET_RenderError
2025/12/25 12:25:10 Handling move prompt
2025/12/25 12:25:10 Error rendering template: mock render error
--- PASS: TestMovePromptHandler_GET_RenderError (0.00s)
=== RUN   TestDeletePromptHandler_GET_RenderError
2025/12/25 12:25:10 Handling delete prompt
2025/12/25 12:25:10 Error rendering template: mock render error
--- PASS: TestDeletePromptHandler_GET_RenderError (0.00s)
=== RUN   TestEditPromptHandler_GET_RenderError
2025/12/25 12:25:10 Handling edit prompt
2025/12/25 12:25:10 Error rendering template: mock render error
--- PASS: TestEditPromptHandler_GET_RenderError (0.00s)
=== RUN   TestAddPromptHandler_ReadPromptSuiteError
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Error reading prompt suite: mock read error
--- PASS: TestAddPromptHandler_ReadPromptSuiteError (0.00s)
=== RUN   TestAddPrompt_ParseFormError
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Error parsing form: mock read error
--- PASS: TestAddPrompt_ParseFormError (0.00s)
=== RUN   TestAddPromptHandler_EmptySuiteName
2025/12/25 12:25:10 Handling add prompt
2025/12/25 12:25:10 Prompt added successfully
--- PASS: TestAddPromptHandler_EmptySuiteName (0.00s)
=== RUN   TestImportResultsHandler_POST_ShorterScores
2025/12/25 12:25:10 Handling import results
2025/12/25 12:25:10 Results imported successfully from JSON
--- PASS: TestImportResultsHandler_POST_ShorterScores (0.00s)
=== RUN   TestMinMax
=== RUN   TestMinMax/min_first_smaller
=== RUN   TestMinMax/min_second_smaller
=== RUN   TestMinMax/min_equal
=== RUN   TestMinMax/max_first_larger
=== RUN   TestMinMax/max_second_larger
=== RUN   TestMinMax/max_equal
--- PASS: TestMinMax (0.00s)
    --- PASS: TestMinMax/min_first_smaller (0.00s)
    --- PASS: TestMinMax/min_second_smaller (0.00s)
    --- PASS: TestMinMax/min_equal (0.00s)
    --- PASS: TestMinMax/max_first_larger (0.00s)
    --- PASS: TestMinMax/max_second_larger (0.00s)
    --- PASS: TestMinMax/max_equal (0.00s)
=== RUN   TestUpdateResultHandler_Success
2025/12/25 12:25:10 Handling add model
2025/12/25 12:25:10 Model added successfully
2025/12/25 12:25:10 BroadcastResults results: map[TestModel:{[0]}]
2025/12/25 12:25:10 Broadcasting data - Models: [TestModel]
2025/12/25 12:25:10 Handling update result
2025/12/25 12:25:10 BroadcastResults results: map[TestModel:{[100]}]
2025/12/25 12:25:10 Broadcasting data - Models: [TestModel]
2025/12/25 12:25:10 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_Success (0.04s)
=== RUN   TestUpdateResultHandler_InvalidPass
2025/12/25 12:25:10 Handling update result
2025/12/25 12:25:10 Invalid pass value: strconv.ParseBool: parsing "invalid": invalid syntax
--- PASS: TestUpdateResultHandler_InvalidPass (0.03s)
=== RUN   TestResetResultsHandler_POST
2025/12/25 12:25:10 Handling add model
2025/12/25 12:25:10 Model added successfully
2025/12/25 12:25:10 BroadcastResults results: map[TestModel:{[]}]
2025/12/25 12:25:10 Broadcasting data - Models: [TestModel]
2025/12/25 12:25:10 Handling reset results
2025/12/25 12:25:10 Results reset successfully
2025/12/25 12:25:10 BroadcastResults results: map[]
2025/12/25 12:25:10 Broadcasting data - Models: []
--- PASS: TestResetResultsHandler_POST (0.04s)
=== RUN   TestRefreshResultsHandler_POST
2025/12/25 12:25:10 Handling add model
2025/12/25 12:25:10 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[TestModel:{[]}]
2025/12/25 12:25:11 Broadcasting data - Models: [TestModel]
2025/12/25 12:25:11 Handling refresh results
2025/12/25 12:25:11 Results refreshed successfully
2025/12/25 12:25:11 BroadcastResults results: map[TestModel:{[]}]
2025/12/25 12:25:11 Broadcasting data - Models: [TestModel]
--- PASS: TestRefreshResultsHandler_POST (0.04s)
=== RUN   TestExportResultsHandler
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[ExportTestModel:{[]}]
2025/12/25 12:25:11 Broadcasting data - Models: [ExportTestModel]
2025/12/25 12:25:11 Handling export results
2025/12/25 12:25:11 Results exported successfully as JSON
--- PASS: TestExportResultsHandler (0.04s)
=== RUN   TestEvaluateResult_POST_Success
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[EvalModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [EvalModel]
2025/12/25 12:25:11 BroadcastResults results: map[EvalModel:{[80]}]
2025/12/25 12:25:11 Broadcasting data - Models: [EvalModel]
2025/12/25 12:25:11 Updated score for model EvalModel, prompt 0: 80
2025/12/25 12:25:11 Current results for model EvalModel: [80]
--- PASS: TestEvaluateResult_POST_Success (0.04s)
=== RUN   TestEvaluateResult_POST_InvalidScore
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
--- PASS: TestEvaluateResult_POST_InvalidScore (0.03s)
=== RUN   TestEvaluateResult_POST_InvalidPromptIndex
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[TestModel:{[]}]
2025/12/25 12:25:11 Broadcasting data - Models: [TestModel]
--- PASS: TestEvaluateResult_POST_InvalidPromptIndex (0.04s)
=== RUN   TestEvaluateResult_POST_ScoreClamping
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[ClampModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [ClampModel]
2025/12/25 12:25:11 BroadcastResults results: map[ClampModel:{[100]}]
2025/12/25 12:25:11 Broadcasting data - Models: [ClampModel]
2025/12/25 12:25:11 Updated score for model ClampModel, prompt 0: 100
2025/12/25 12:25:11 Current results for model ClampModel: [100]
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
--- PASS: TestEvaluateResult_POST_ScoreClamping (0.04s)
=== RUN   TestUpdateMockResultsHandler_MethodNotAllowed
2025/12/25 12:25:11 Handling update mock results
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
--- PASS: TestUpdateMockResultsHandler_MethodNotAllowed (0.03s)
=== RUN   TestUpdateMockResultsHandler_Success
2025/12/25 12:25:11 Handling update mock results
2025/12/25 12:25:11 Received mock data request
2025/12/25 12:25:11 Using client-provided scores for mock data
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 BroadcastResults results: map[MockModel:{[80]}]
2025/12/25 12:25:11 Broadcasting data - Models: [MockModel]
2025/12/25 12:25:11 Calculating total scores for each model:
2025/12/25 12:25:11 Model MockModel: total score = 80, pass percentage = 80.00%
2025/12/25 12:25:11 Sorted models after mock generation: [MockModel]
2025/12/25 12:25:11 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_Success (0.03s)
=== RUN   TestUpdateMockResultsHandler_InvalidJSON
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Handling update mock results
2025/12/25 12:25:11 Received mock data request
2025/12/25 12:25:11 Error decoding mock data: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestUpdateMockResultsHandler_InvalidJSON (0.03s)
=== RUN   TestUpdateMockResultsHandler_ValidatesScores
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Handling update mock results
2025/12/25 12:25:11 Received mock data request
2025/12/25 12:25:11 Using client-provided scores for mock data
2025/12/25 12:25:11 Correcting invalid score 77 for model ValidateModel prompt 0
2025/12/25 12:25:11 BroadcastResults results: map[ValidateModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [ValidateModel]
2025/12/25 12:25:11 Calculating total scores for each model:
2025/12/25 12:25:11 Model ValidateModel: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:11 Sorted models after mock generation: [ValidateModel]
2025/12/25 12:25:11 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_ValidatesScores (0.04s)
=== RUN   TestInitRand
--- PASS: TestInitRand (0.00s)
=== RUN   TestUpdateResultHandler_POST_MissingParams
2025/12/25 12:25:11 Handling update result
2025/12/25 12:25:11 BroadcastResults results: map[:{[]}]
2025/12/25 12:25:11 Broadcasting data - Models: []
2025/12/25 12:25:11 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_POST_MissingParams (0.04s)
=== RUN   TestUpdateResultHandler_POST_NegativePromptIndex
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[TestModel:{[]}]
2025/12/25 12:25:11 Broadcasting data - Models: [TestModel]
2025/12/25 12:25:11 Handling update result
2025/12/25 12:25:11 BroadcastResults results: map[TestModel:{[]}]
2025/12/25 12:25:11 Broadcasting data - Models: [TestModel]
2025/12/25 12:25:11 protocols.Result updated successfully
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
--- PASS: TestUpdateResultHandler_POST_NegativePromptIndex (0.04s)
=== RUN   TestEvaluateResult_GET_Request
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[GetModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [GetModel]
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Error rendering template: open templates/evaluate.html: The system cannot find the path specified.
--- PASS: TestEvaluateResult_GET_Request (0.04s)
=== RUN   TestResultsHandler_GET
2025/12/25 12:25:11 Handling results page
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Calculating total scores for each model
2025/12/25 12:25:11 Sorting models by score in descending order
2025/12/25 12:25:11 Sorted models: [TestModel]
2025/12/25 12:25:11 First model: TestModel, scores: [80]
2025/12/25 12:25:11 Results page rendered successfully
--- PASS: TestResultsHandler_GET (0.04s)
=== RUN   TestConfirmRefreshResultsHandler_GET
2025/12/25 12:25:11 Handling confirm refresh results
--- PASS: TestConfirmRefreshResultsHandler_GET (0.03s)
=== RUN   TestResetResultsHandler_GET
2025/12/25 12:25:11 Handling reset results
--- PASS: TestResetResultsHandler_GET (0.03s)
=== RUN   TestExportResultsHandler_GET
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
2025/12/25 12:25:11 Handling export results
2025/12/25 12:25:11 Results exported successfully as JSON
2025/12/25 12:25:11 Failed to query pending jobs: sql: database is closed
--- PASS: TestExportResultsHandler_GET (0.04s)
=== RUN   TestConfirmRefreshResultsHandler_POST
2025/12/25 12:25:11 Handling confirm refresh results
2025/12/25 12:25:11 Results refreshed successfully
2025/12/25 12:25:11 BroadcastResults results: map[RefreshModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [RefreshModel]
--- PASS: TestConfirmRefreshResultsHandler_POST (0.03s)
=== RUN   TestRefreshResultsHandler_GET
2025/12/25 12:25:11 Handling refresh results
--- PASS: TestRefreshResultsHandler_GET (0.03s)
=== RUN   TestEvaluateResult_GET_WithTemplate
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[TemplateModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [TemplateModel]
--- PASS: TestEvaluateResult_GET_WithTemplate (0.04s)
=== RUN   TestEvaluateResult_POST_NewModel
2025/12/25 12:25:11 BroadcastResults results: map[NewModel:{[60]}]
2025/12/25 12:25:11 Broadcasting data - Models: [NewModel]
2025/12/25 12:25:11 Updated score for model NewModel, prompt 0: 60
2025/12/25 12:25:11 Current results for model NewModel: [60]
--- PASS: TestEvaluateResult_POST_NewModel (0.04s)
=== RUN   TestEvaluateResult_POST_NegativeScore
2025/12/25 12:25:11 Handling add model
2025/12/25 12:25:11 Model added successfully
2025/12/25 12:25:11 BroadcastResults results: map[NegModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [NegModel]
2025/12/25 12:25:11 BroadcastResults results: map[NegModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [NegModel]
2025/12/25 12:25:11 Updated score for model NegModel, prompt 0: 0
2025/12/25 12:25:11 Current results for model NegModel: [0]
--- PASS: TestEvaluateResult_POST_NegativeScore (0.04s)
=== RUN   TestResultsHandler_GET_WithUncategorizedPrompts
2025/12/25 12:25:11 Handling results page
2025/12/25 12:25:11 Calculating total scores for each model
2025/12/25 12:25:11 Sorting models by score in descending order
2025/12/25 12:25:11 Sorted models: [TestModel]
2025/12/25 12:25:11 First model: TestModel, scores: [80 60]
2025/12/25 12:25:11 Results page rendered successfully
--- PASS: TestResultsHandler_GET_WithUncategorizedPrompts (0.04s)
=== RUN   TestResultsHandler_GET_WithMultipleProfiles
2025/12/25 12:25:11 Handling results page
2025/12/25 12:25:11 Calculating total scores for each model
2025/12/25 12:25:11 Sorting models by score in descending order
2025/12/25 12:25:11 Sorted models: [Model1 Model2]
2025/12/25 12:25:11 First model: Model1, scores: [100 80 60]
2025/12/25 12:25:11 Results page rendered successfully
--- PASS: TestResultsHandler_GET_WithMultipleProfiles (0.05s)
=== RUN   TestResultsHandler_ProfileGroups_UncategorizedStartColAfterProfile
2025/12/25 12:25:11 Handling results page
2025/12/25 12:25:11 Calculating total scores for each model
2025/12/25 12:25:11 Sorting models by score in descending order
2025/12/25 12:25:11 Sorted models: [Model1]
2025/12/25 12:25:11 First model: Model1, scores: [100 80]
2025/12/25 12:25:11 Results page rendered successfully
--- PASS: TestResultsHandler_ProfileGroups_UncategorizedStartColAfterProfile (0.00s)
=== RUN   TestResultsHandler_ModelFilterFiltersResultsMap
2025/12/25 12:25:11 Handling results page
2025/12/25 12:25:11 Calculating total scores for each model
2025/12/25 12:25:11 Sorting models by score in descending order
2025/12/25 12:25:11 Sorted models: [Model1 Model2]
2025/12/25 12:25:11 First model: Model1, scores: [100]
2025/12/25 12:25:11 Results page rendered successfully
--- PASS: TestResultsHandler_ModelFilterFiltersResultsMap (0.00s)
=== RUN   TestResultsHandler_SearchQueryFiltersResultsMap
2025/12/25 12:25:11 Handling results page
2025/12/25 12:25:11 Calculating total scores for each model
2025/12/25 12:25:11 Sorting models by score in descending order
2025/12/25 12:25:11 Sorted models: [AlphaModel Beta]
2025/12/25 12:25:11 First model: AlphaModel, scores: [100]
2025/12/25 12:25:11 Results page rendered successfully
--- PASS: TestResultsHandler_SearchQueryFiltersResultsMap (0.00s)
=== RUN   TestResultsHandler_NormalizesNilMismatchedAndInvalidScores
2025/12/25 12:25:11 Handling results page
2025/12/25 12:25:11 Calculating total scores for each model
2025/12/25 12:25:11 Sorting models by score in descending order
2025/12/25 12:25:11 Sorted models: [ShortScores NilScores]
2025/12/25 12:25:11 First model: ShortScores, scores: [0 0]
2025/12/25 12:25:11 Results page rendered successfully
--- PASS: TestResultsHandler_NormalizesNilMismatchedAndInvalidScores (0.00s)
=== RUN   TestUpdateMockResultsHandler_WithEmptyModels
2025/12/25 12:25:11 Handling update mock results
2025/12/25 12:25:11 Received mock data request
2025/12/25 12:25:11 Using client-provided scores for mock data
2025/12/25 12:25:11 BroadcastResults results: map[ModelFromResults:{[80]}]
2025/12/25 12:25:11 Broadcasting data - Models: [ModelFromResults]
2025/12/25 12:25:11 Calculating total scores for each model:
2025/12/25 12:25:11 Model ModelFromResults: total score = 80, pass percentage = 80.00%
2025/12/25 12:25:11 Sorted models after mock generation: [ModelFromResults]
2025/12/25 12:25:11 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_WithEmptyModels (0.04s)
=== RUN   TestUpdateMockResultsHandler_ValidatesInvalidScores
2025/12/25 12:25:11 Handling update mock results
2025/12/25 12:25:11 Received mock data request
2025/12/25 12:25:11 Using client-provided scores for mock data
2025/12/25 12:25:11 Correcting invalid score 15 for model TestModel prompt 0
2025/12/25 12:25:11 Correcting invalid score 25 for model TestModel prompt 1
2025/12/25 12:25:11 Correcting invalid score 35 for model TestModel prompt 2
2025/12/25 12:25:11 BroadcastResults results: map[TestModel:{[0]}]
2025/12/25 12:25:11 Broadcasting data - Models: [TestModel]
2025/12/25 12:25:11 Calculating total scores for each model:
2025/12/25 12:25:11 Model TestModel: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:11 Sorted models after mock generation: [TestModel]
2025/12/25 12:25:11 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_ValidatesInvalidScores (0.03s)
=== RUN   TestExportResultsHandler_GET_WithData
2025/12/25 12:25:11 Handling export results
2025/12/25 12:25:11 Results exported successfully as JSON
--- PASS: TestExportResultsHandler_GET_WithData (0.03s)
=== RUN   TestExportResultsHandler_EmptyResults
2025/12/25 12:25:11 Handling export results
2025/12/25 12:25:11 Results exported successfully as JSON
--- PASS: TestExportResultsHandler_EmptyResults (0.03s)
=== RUN   TestResetResultsHandler_POST_AndVerify
2025/12/25 12:25:11 Handling reset results
2025/12/25 12:25:11 Results reset successfully
2025/12/25 12:25:11 BroadcastResults results: map[]
2025/12/25 12:25:11 Broadcasting data - Models: []
--- PASS: TestResetResultsHandler_POST_AndVerify (0.03s)
=== RUN   TestConfirmRefreshResultsHandler_WithSearchQuery
2025/12/25 12:25:12 Handling confirm refresh results
--- PASS: TestConfirmRefreshResultsHandler_WithSearchQuery (0.03s)
=== RUN   TestRefreshResultsHandler_POST_WithSelectedModels
2025/12/25 12:25:12 Handling refresh results
2025/12/25 12:25:12 Results refreshed successfully
2025/12/25 12:25:12 BroadcastResults results: map[Model1:{[0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Model1]
--- PASS: TestRefreshResultsHandler_POST_WithSelectedModels (0.04s)
=== RUN   TestRefreshResultsHandler_POST_NoModels
2025/12/25 12:25:12 Handling refresh results
2025/12/25 12:25:12 Results refreshed successfully
2025/12/25 12:25:12 BroadcastResults results: map[]
2025/12/25 12:25:12 Broadcasting data - Models: []
--- PASS: TestRefreshResultsHandler_POST_NoModels (0.03s)
=== RUN   TestUpdateResultHandler_CreatesNewModel
2025/12/25 12:25:12 Handling update result
2025/12/25 12:25:12 BroadcastResults results: map[NewModel:{[100]}]
2025/12/25 12:25:12 Broadcasting data - Models: [NewModel]
2025/12/25 12:25:12 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_CreatesNewModel (0.04s)
=== RUN   TestUpdateResultHandler_WithScoreValue
2025/12/25 12:25:12 Handling update result
2025/12/25 12:25:12 BroadcastResults results: map[Model1:{[100]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Model1]
2025/12/25 12:25:12 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_WithScoreValue (0.04s)
=== RUN   TestResultsHandler_GET_RenderError
2025/12/25 12:25:12 Handling results page
2025/12/25 12:25:12 Calculating total scores for each model
2025/12/25 12:25:12 Sorting models by score in descending order
2025/12/25 12:25:12 Sorted models: []
2025/12/25 12:25:12 Error rendering template: open templates/results.html: The system cannot find the path specified.
--- PASS: TestResultsHandler_GET_RenderError (0.03s)
=== RUN   TestResetResultsHandler_GET_RenderError
2025/12/25 12:25:12 Handling reset results
2025/12/25 12:25:12 Error rendering template: open templates/reset_results.html: The system cannot find the path specified.
--- PASS: TestResetResultsHandler_GET_RenderError (0.03s)
=== RUN   TestConfirmRefreshResultsHandler_GET_RenderError
2025/12/25 12:25:12 Handling confirm refresh results
2025/12/25 12:25:12 Error rendering template: open templates/confirm_refresh_results.html: The system cannot find the path specified.
--- PASS: TestConfirmRefreshResultsHandler_GET_RenderError (0.03s)
=== RUN   TestUpdateResultHandler_WriteResultsError
2025/12/25 12:25:12 Handling update result
2025/12/25 12:25:12 Error writing results: mock write error
--- PASS: TestUpdateResultHandler_WriteResultsError (0.00s)
=== RUN   TestUpdateResultHandler_InvalidPassValue
2025/12/25 12:25:12 Handling update result
2025/12/25 12:25:12 Invalid pass value: strconv.ParseBool: parsing "not-a-bool": invalid syntax
--- PASS: TestUpdateResultHandler_InvalidPassValue (0.00s)
=== RUN   TestUpdateResultHandler_ExtendsScores
2025/12/25 12:25:12 Handling update result
2025/12/25 12:25:12 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_ExtendsScores (0.00s)
=== RUN   TestUpdateResultHandler_ReadResultsNil
2025/12/25 12:25:12 Handling update result
2025/12/25 12:25:12 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_ReadResultsNil (0.00s)
=== RUN   TestUpdateResultHandler_WriteResponseError
2025/12/25 12:25:12 Handling update result
2025/12/25 12:25:12 Error writing response: mock write error
--- PASS: TestUpdateResultHandler_WriteResponseError (0.00s)
=== RUN   TestResetResultsHandler_POST_WriteResultsError
2025/12/25 12:25:12 Handling reset results
2025/12/25 12:25:12 Error writing results: mock write error
--- PASS: TestResetResultsHandler_POST_WriteResultsError (0.00s)
=== RUN   TestConfirmRefreshResultsHandler_POST_WriteResultsError
2025/12/25 12:25:12 Handling confirm refresh results
2025/12/25 12:25:12 Error writing results: mock write error
--- PASS: TestConfirmRefreshResultsHandler_POST_WriteResultsError (0.00s)
=== RUN   TestRefreshResultsHandler_POST_WriteResultsError
2025/12/25 12:25:12 Handling refresh results
2025/12/25 12:25:12 Error writing results: mock write error
--- PASS: TestRefreshResultsHandler_POST_WriteResultsError (0.00s)
=== RUN   TestEvaluateResultHandler_WriteResultsError
--- PASS: TestEvaluateResultHandler_WriteResultsError (0.00s)
=== RUN   TestEvaluateResultHandler_InitializesNilResultsMap
2025/12/25 12:25:12 Updated score for model NewModel, prompt 0: 80
2025/12/25 12:25:12 Current results for model NewModel: [80]
--- PASS: TestEvaluateResultHandler_InitializesNilResultsMap (0.00s)
=== RUN   TestUpdateMockResultsHandler_WriteResultsError
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 Error writing mock results: mock write error
--- PASS: TestUpdateMockResultsHandler_WriteResultsError (0.00s)
=== RUN   TestUpdateMockResults_ReadAllError
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Error reading request body: mock read error
--- PASS: TestUpdateMockResults_ReadAllError (0.00s)
=== RUN   TestUpdateMockResults_SortsModelsByTotalScore
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model ModelA: total score = 100, pass percentage = 100.00%
2025/12/25 12:25:12 Model ModelB: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [ModelA ModelB]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResults_SortsModelsByTotalScore (0.00s)
=== RUN   TestUpdateMockResults_ResponseEncodeError
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model TestModel: total score = 80, pass percentage = 80.00%
2025/12/25 12:25:12 Sorted models after mock generation: [TestModel]
2025/12/25 12:25:12 Error encoding response: mock write error
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResults_ResponseEncodeError (0.00s)
=== RUN   TestRefreshResultsHandler_GET_RenderError
2025/12/25 12:25:12 Handling refresh results
2025/12/25 12:25:12 Error rendering template: mock render error
--- PASS: TestRefreshResultsHandler_GET_RenderError (0.00s)
=== RUN   TestEvaluateResultHandler_GET_RenderError
2025/12/25 12:25:12 Error rendering template: mock render error
--- PASS: TestEvaluateResultHandler_GET_RenderError (0.00s)
=== RUN   TestExportResultsHandler_WriteError
2025/12/25 12:25:12 Handling export results
2025/12/25 12:25:12 Error writing response: mock write error
--- PASS: TestExportResultsHandler_WriteError (0.00s)
=== RUN   TestUpdateMockResultsHandler_GeneratesMockModels
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 BroadcastResults results: map[Celestial-1:{[0]} Celestial-2:{[0]} Cosmic-1:{[0]} Cosmic-2:{[0]} Cosmic-3:{[0]} Dimensional-1:{[0]} Dimensional-2:{[0]} Ethereal-1:{[0]} Ethereal-2:{[0]} Galactic-1:{[0]} Galactic-2:{[0]} Infinite-1:{[0]} Infinite-2:{[0]} Nebular-1:{[0]} Nebular-2:{[0]} Quantum-1:{[0]} Quantum-2:{[0]} Stellar-1:{[0]} Stellar-2:{[0]} Transcendent-1:{[0]} Transcendent-2:{[0]} Transcendent-3:{[0]} Universal-1:{[0]} Universal-2:{[0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Transcendent-1 Dimensional-1 Dimensional-2 Transcendent-3 Galactic-2 Cosmic-1 Cosmic-3 Infinite-1 Universal-1 Galactic-1 Transcendent-2 Nebular-1 Cosmic-2 Nebular-2 Stellar-1 Celestial-2 Universal-2 Ethereal-1 Celestial-1 Quantum-1 Infinite-2 Ethereal-2 Stellar-2 Quantum-2]
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_GeneratesMockModels (0.04s)
=== RUN   TestUpdateMockResultsHandler_GeneratesTierBasedModelNames
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 BroadcastResults results: map[Celestial-1:{[0]} Celestial-2:{[0]} Cosmic-1:{[0]} Cosmic-2:{[0]} Cosmic-3:{[0]} Dimensional-1:{[0]} Dimensional-2:{[0]} Ethereal-1:{[0]} Ethereal-2:{[0]} Galactic-1:{[0]} Galactic-2:{[0]} Infinite-1:{[0]} Infinite-2:{[0]} Nebular-1:{[0]} Nebular-2:{[0]} Quantum-1:{[0]} Quantum-2:{[0]} Stellar-1:{[0]} Stellar-2:{[0]} Transcendent-1:{[0]} Transcendent-2:{[0]} Transcendent-3:{[0]} Universal-1:{[0]} Universal-2:{[0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Cosmic-1 Celestial-2 Stellar-2 Galactic-2 Celestial-1 Infinite-1 Quantum-2 Dimensional-1 Transcendent-2 Universal-1 Quantum-1 Nebular-2 Ethereal-1 Galactic-1 Stellar-1 Nebular-1 Infinite-2 Universal-2 Transcendent-1 Cosmic-3 Transcendent-3 Ethereal-2 Cosmic-2 Dimensional-2]
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_GeneratesTierBasedModelNames (0.04s)
=== RUN   TestUpdateMockResultsHandler_GeneratesMockResponses
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 BroadcastResults results: map[Celestial-1:{[0]} Celestial-2:{[0]} Cosmic-1:{[0]} Cosmic-2:{[0]} Cosmic-3:{[0]} Dimensional-1:{[0]} Dimensional-2:{[0]} Ethereal-1:{[0]} Ethereal-2:{[0]} Galactic-1:{[0]} Galactic-2:{[0]} Infinite-1:{[0]} Infinite-2:{[0]} Nebular-1:{[0]} Nebular-2:{[0]} Quantum-1:{[0]} Quantum-2:{[0]} Stellar-1:{[0]} Stellar-2:{[0]} Transcendent-1:{[0]} Transcendent-2:{[0]} Transcendent-3:{[0]} Universal-1:{[0]} Universal-2:{[0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Cosmic-1 Transcendent-1 Stellar-1 Cosmic-2 Quantum-2 Dimensional-2 Transcendent-3 Transcendent-2 Universal-2 Nebular-1 Celestial-1 Universal-1 Quantum-1 Ethereal-2 Celestial-2 Nebular-2 Stellar-2 Ethereal-1 Infinite-1 Galactic-1 Infinite-2 Dimensional-1 Galactic-2 Cosmic-3]
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_GeneratesMockResponses (0.04s)
=== RUN   TestUpdateMockResultsHandler_CreatesModelsInCurrentSuite
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 BroadcastResults results: map[Celestial-1:{[0]} Celestial-2:{[0]} Cosmic-1:{[0]} Cosmic-2:{[0]} Cosmic-3:{[0]} Dimensional-1:{[0]} Dimensional-2:{[0]} Ethereal-1:{[0]} Ethereal-2:{[0]} Galactic-1:{[0]} Galactic-2:{[0]} Infinite-1:{[0]} Infinite-2:{[0]} Nebular-1:{[0]} Nebular-2:{[0]} Quantum-1:{[0]} Quantum-2:{[0]} Stellar-1:{[0]} Stellar-2:{[0]} Transcendent-1:{[0]} Transcendent-2:{[0]} Transcendent-3:{[0]} Universal-1:{[0]} Universal-2:{[0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Stellar-2 Galactic-1 Dimensional-2 Cosmic-1 Stellar-1 Ethereal-1 Transcendent-2 Cosmic-3 Transcendent-3 Celestial-1 Cosmic-2 Celestial-2 Infinite-1 Universal-1 Nebular-2 Ethereal-2 Transcendent-1 Infinite-2 Quantum-1 Nebular-1 Quantum-2 Galactic-2 Universal-2 Dimensional-1]
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_CreatesModelsInCurrentSuite (0.04s)
=== RUN   TestResultsHandler_ZeroPrompts_DoesNotReturnNaN
2025/12/25 12:25:12 Handling results page
2025/12/25 12:25:12 Calculating total scores for each model
2025/12/25 12:25:12 Sorting models by score in descending order
2025/12/25 12:25:12 Sorted models: [TestModel]
2025/12/25 12:25:12 Results page rendered successfully
    results_test.go:2083: Response body length: 38624
    results_test.go:2084: Response body preview: <!doctype html>
        <html>
        
        <head>
            <title>Results</title>
            <link rel="stylesheet" href="/templates/arena.css" />
            <link rel="icon" type="image/x-icon" href="/assets/favicon.ico" />
            <script src="/templates/constants.js"></script>
            <script src="/templates/utils.js"></script>
            <script>
                let socket;
                let connectionRetries = 0;
                let initialLoad = true; 
                let currentSearchQuery = "";
        
                
                let previousState = {
                    Result
--- PASS: TestResultsHandler_ZeroPrompts_DoesNotReturnNaN (0.04s)
=== RUN   TestUpdateMockResultsHandler_GeneratesMockPrompts
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 Created 5 mock profiles
2025/12/25 12:25:12 Created 50 mock prompts with profiles
2025/12/25 12:25:12 BroadcastResults results: map[Celestial-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Celestial-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Ethereal-2 Universal-2 Ethereal-1 Infinite-2 Transcendent-3 Stellar-2 Infinite-1 Nebular-1 Dimensional-1 Galactic-2 Quantum-2 Universal-1 Dimensional-2 Transcendent-2 Celestial-2 Cosmic-1 Nebular-2 Celestial-1 Quantum-1 Cosmic-3 Galactic-1 Transcendent-1 Stellar-1 Cosmic-2]
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_GeneratesMockPrompts (0.20s)
=== RUN   TestUpdateMockResultsHandler_CreatesProfiles
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 Created 5 mock profiles
2025/12/25 12:25:12 Created 50 mock prompts with profiles
2025/12/25 12:25:12 BroadcastResults results: map[Celestial-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Celestial-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Quantum-2 Stellar-1 Universal-1 Transcendent-2 Dimensional-2 Transcendent-1 Stellar-2 Infinite-1 Nebular-1 Dimensional-1 Nebular-2 Cosmic-1 Ethereal-1 Quantum-1 Galactic-2 Cosmic-3 Transcendent-3 Celestial-2 Celestial-1 Galactic-1 Cosmic-2 Universal-2 Ethereal-2 Infinite-2]
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_CreatesProfiles (0.19s)
=== RUN   TestResultsHandler_ProfileGroups_ColumnIndices_MultipleProfiles
2025/12/25 12:25:12 Handling results page
2025/12/25 12:25:12 Calculating total scores for each model
2025/12/25 12:25:12 Sorting models by score in descending order
2025/12/25 12:25:12 Sorted models: [Model1]
2025/12/25 12:25:12 First model: Model1, scores: [100 100 100 100 100]
2025/12/25 12:25:12 Results page rendered successfully
--- PASS: TestResultsHandler_ProfileGroups_ColumnIndices_MultipleProfiles (0.00s)
=== RUN   TestRandomizeScoresHandler_OnlyRandomizesScores_NotRegenerateData
2025/12/25 12:25:12 Handling update mock results
2025/12/25 12:25:12 Received mock data request
2025/12/25 12:25:12 Using client-provided scores for mock data
2025/12/25 12:25:12 Created 5 mock profiles
2025/12/25 12:25:12 Created 0 mock prompts with profiles
2025/12/25 12:25:12 BroadcastResults results: map[Model1:{[100 100 100 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Model1]
2025/12/25 12:25:12 Calculating total scores for each model:
2025/12/25 12:25:12 Model Model1: total score = 500, pass percentage = 0.00%
2025/12/25 12:25:12 Sorted models after mock generation: [Model1]
2025/12/25 12:25:12 Mock results with even tier distribution updated successfully
2025/12/25 12:25:12 Handling randomize scores
2025/12/25 12:25:12 BroadcastResults results: map[Model1:{[60 40 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Model1]
--- PASS: TestRandomizeScoresHandler_OnlyRandomizesScores_NotRegenerateData (0.04s)
=== RUN   TestRandomizeScores_UsesTierBasedDistribution
2025/12/25 12:25:12 Handling randomize scores
2025/12/25 12:25:12 BroadcastResults results: map[Model0:{[40 60 40 40 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model1:{[40 60 40 40 60 60 60 40 40 40 40 40 20 20 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model10:{[40 40 60 40 40 40 60 40 40 60 40 100 100 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model11:{[40 60 40 80 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model2:{[40 40 40 40 60 40 40 40 60 60 40 40 60 60 60 60 40 60 40 60 20 20 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model3:{[60 40 40 40 40 40 60 60 60 60 60 60 60 60 40 60 60 60 40 60 60 60 40 60 60 40 40 20 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model4:{[40 40 60 40 60 60 40 60 60 40 60 40 40 40 40 40 40 40 60 60 60 40 60 60 60 40 40 40 60 40 60 40 40 40 60 40 40 40 20 20 0 0 0 0 0 0 0 0 20 0]} Model5:{[40 40 60 40 40 60 40 60 60 40 40 40 40 60 40 40 40 40 60 40 40 40 60 60 40 60 40 60 60 40 40 40 60 40 60 60 40 40 60 60 60 40 60 40 60 40 40 20 20 0]} Model6:{[40 40 40 40 60 40 60 40 60 40 40 40 40 40 60 60 40 60 40 60 40 40 60 60 40 40 60 40 40 40 60 60 40 40 60 60 60 40 60 40 60 60 40 60 80 80 100 100 100 100]} Model7:{[40 40 60 60 40 60 40 60 40 60 40 60 40 60 60 40 60 60 40 40 60 60 40 40 60 40 60 40 60 60 40 40 40 60 40 60 60 80 100 80 100 100 100 100 100 100 100 100 100 100]} Model8:{[40 40 40 40 60 60 60 40 40 40 40 40 60 40 60 60 60 60 40 40 60 60 40 40 40 40 40 60 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model9:{[60 40 40 60 60 60 60 60 40 40 40 40 40 40 60 40 60 60 40 40 100 100 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]}]
2025/12/25 12:25:12 Broadcasting data - Models: [Model11 Model10 Model9 Model8 Model7 Model6 Model5 Model4 Model3 Model2 Model1 Model0]
--- PASS: TestRandomizeScores_UsesTierBasedDistribution (0.08s)
=== RUN   TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing
=== RUN   TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/missing_both_model_and_prompt
=== RUN   TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/missing_model
=== RUN   TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/missing_prompt
=== RUN   TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/empty_model_parameter
=== RUN   TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/empty_prompt_parameter
--- PASS: TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing (0.00s)
    --- PASS: TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/missing_both_model_and_prompt (0.00s)
    --- PASS: TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/missing_model (0.00s)
    --- PASS: TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/missing_prompt (0.00s)
    --- PASS: TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/empty_model_parameter (0.00s)
    --- PASS: TestEvaluateResultHandler_RedirectsWhenModelOrPromptMissing/empty_prompt_parameter (0.00s)
=== RUN   TestRandomizeScoresHandler_WrapperFunction
2025/12/25 12:25:12 Handling randomize scores
2025/12/25 12:25:12 BroadcastResults results: map[TestModel:{[0]}]
2025/12/25 12:25:12 Broadcasting data - Models: [TestModel]
--- PASS: TestRandomizeScoresHandler_WrapperFunction (0.03s)
=== RUN   TestRandomizeScoresHandler_ErrorCases
=== RUN   TestRandomizeScoresHandler_ErrorCases/GET_method_not_allowed
2025/12/25 12:25:12 Handling randomize scores
=== RUN   TestRandomizeScoresHandler_ErrorCases/PUT_method_not_allowed
2025/12/25 12:25:12 Handling randomize scores
--- PASS: TestRandomizeScoresHandler_ErrorCases (0.03s)
    --- PASS: TestRandomizeScoresHandler_ErrorCases/GET_method_not_allowed (0.00s)
    --- PASS: TestRandomizeScoresHandler_ErrorCases/PUT_method_not_allowed (0.00s)
=== RUN   TestUpdateMockResultsHandler_CreatesProfileBasedPrompts
2025/12/25 12:25:13 Handling update mock results
2025/12/25 12:25:13 Received mock data request
2025/12/25 12:25:13 Using client-provided scores for mock data
2025/12/25 12:25:13 Created 5 mock profiles
2025/12/25 12:25:13 Created 50 mock prompts with profiles
2025/12/25 12:25:13 BroadcastResults results: map[Celestial-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Celestial-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]}]
2025/12/25 12:25:13 Broadcasting data - Models: [Transcendent-1 Celestial-2 Galactic-1 Stellar-2 Quantum-1 Nebular-1 Galactic-2 Cosmic-1 Quantum-2 Stellar-1 Nebular-2 Transcendent-2 Universal-1 Ethereal-1 Infinite-2 Celestial-1 Ethereal-2 Universal-2 Dimensional-2 Transcendent-3 Infinite-1 Dimensional-1 Cosmic-3 Cosmic-2]
2025/12/25 12:25:13 Calculating total scores for each model:
2025/12/25 12:25:13 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:13 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_CreatesProfileBasedPrompts (0.19s)
=== RUN   TestResetResultsHandler_MethodNotAllowed
2025/12/25 12:25:13 Handling reset results
--- PASS: TestResetResultsHandler_MethodNotAllowed (0.00s)
=== RUN   TestConfirmRefreshResultsHandler_MethodNotAllowed
2025/12/25 12:25:13 Handling confirm refresh results
--- PASS: TestConfirmRefreshResultsHandler_MethodNotAllowed (0.00s)
=== RUN   TestRefreshResultsHandler_MethodNotAllowed
2025/12/25 12:25:13 Handling refresh results
--- PASS: TestRefreshResultsHandler_MethodNotAllowed (0.00s)
=== RUN   TestUpdateMockResultsHandler_PromptsHaveSolutions
2025/12/25 12:25:13 Handling update mock results
2025/12/25 12:25:13 Received mock data request
2025/12/25 12:25:13 Using client-provided scores for mock data
2025/12/25 12:25:13 Created 5 mock profiles
2025/12/25 12:25:13 Created 50 mock prompts with profiles
2025/12/25 12:25:13 BroadcastResults results: map[Celestial-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Celestial-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Cosmic-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Dimensional-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Ethereal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Galactic-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Infinite-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Nebular-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Quantum-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Stellar-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Transcendent-3:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-1:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Universal-2:{[0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]}]
2025/12/25 12:25:13 Broadcasting data - Models: [Transcendent-3 Celestial-2 Celestial-1 Nebular-2 Cosmic-1 Transcendent-2 Universal-1 Transcendent-1 Ethereal-1 Ethereal-2 Infinite-2 Quantum-2 Galactic-2 Nebular-1 Dimensional-1 Universal-2 Quantum-1 Galactic-1 Dimensional-2 Cosmic-3 Infinite-1 Stellar-1 Cosmic-2 Stellar-2]
2025/12/25 12:25:13 Calculating total scores for each model:
2025/12/25 12:25:13 Model Stellar-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Dimensional-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Cosmic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Transcendent-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Universal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Celestial-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Quantum-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Galactic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Universal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Dimensional-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Cosmic-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Stellar-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Transcendent-3: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Transcendent-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Ethereal-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Ethereal-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Celestial-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Infinite-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Quantum-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Nebular-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Galactic-2: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Cosmic-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Infinite-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Model Nebular-1: total score = 0, pass percentage = 0.00%
2025/12/25 12:25:13 Sorted models after mock generation: [Cosmic-1 Transcendent-1 Ethereal-1 Celestial-1 Infinite-1]
2025/12/25 12:25:13 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_PromptsHaveSolutions (0.19s)
=== RUN   TestResultsHandler_ScoreCellsUseConsistentColors
2025/12/25 12:25:13 Handling results page
2025/12/25 12:25:13 Calculating total scores for each model
2025/12/25 12:25:13 Sorting models by score in descending order
2025/12/25 12:25:13 Sorted models: [TestModel]
2025/12/25 12:25:13 First model: TestModel, scores: [0]
2025/12/25 12:25:13 Results page rendered successfully
--- PASS: TestResultsHandler_ScoreCellsUseConsistentColors (0.04s)
=== RUN   TestRandomizeScores_CoversAllTiers
2025/12/25 12:25:13 Handling randomize scores
2025/12/25 12:25:13 BroadcastResults results: map[Model0:{[60 60 40 20 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model1:{[40 60 60 20 0 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model10:{[60 40 40 60 60 40 60 40 40 60 40 40 40 60 60 60 40 40 40 40 40 40 40 40 40 40 60 60 60 40 20 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model11:{[40 40 60 60 40 60 40 60 40 60 40 40 40 40 40 60 60 40 40 40 60 60 40 60 60 40 60 60 40 20 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model12:{[40 60 60 60 40 40 40 40 60 40 60 40 60 60 60 40 60 40 40 40 40 40 60 40 40 60 60 40 60 40 60 40 60 60 40 40 60 20 20 0 0 20 0 0 0 0 0 0 0 0]} Model13:{[40 60 40 60 60 40 60 40 40 40 60 40 40 40 40 40 60 60 60 40 60 60 40 60 60 60 60 40 60 60 40 60 60 40 40 40 40 20 0 20 0 0 0 0 0 0 0 0 0 0]} Model14:{[60 60 60 40 60 60 60 40 60 40 40 60 40 60 40 40 60 60 60 60 40 60 40 40 40 60 40 40 40 40 40 40 40 60 60 60 40 20 20 0 0 0 0 0 0 0 0 0 0 0]} Model15:{[60 40 40 60 40 60 40 60 60 60 60 60 60 40 40 40 40 40 40 60 40 60 40 60 40 40 40 40 40 60 40 40 40 40 60 40 60 40 40 40 40 40 60 40 40 60 40 40 20 20]} Model16:{[40 60 60 40 60 40 60 40 40 60 40 40 60 40 40 60 40 40 40 60 40 60 40 40 40 40 40 60 60 40 40 60 40 60 40 40 60 60 60 40 40 60 60 40 40 60 40 20 0 20]} Model17:{[60 60 40 60 60 60 40 40 40 60 60 40 60 40 40 40 40 60 40 40 60 40 60 60 60 60 40 40 40 40 40 60 40 40 40 40 40 40 40 60 60 60 60 60 60 40 20 0 0 20]} Model18:{[60 60 60 60 60 40 60 60 60 40 60 40 40 60 40 60 60 60 40 40 60 60 60 40 40 60 40 40 60 60 40 40 40 40 60 40 60 60 40 40 40 40 60 40 40 60 100 80 100 100]} Model19:{[40 40 60 60 60 40 40 60 40 60 40 40 60 40 40 60 40 40 40 40 40 60 40 60 60 60 60 60 60 60 60 40 40 40 40 60 40 60 40 40 40 40 60 60 80 100 100 80 80 100]} Model2:{[60 40 40 40 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model20:{[40 40 40 60 60 40 60 60 60 40 40 40 40 40 60 40 60 40 60 40 60 60 40 40 60 60 40 40 40 40 40 40 60 60 60 40 60 40 40 40 60 60 60 40 80 100 100 80 100 100]} Model21:{[60 40 40 60 40 40 40 40 40 60 40 40 40 40 60 40 40 40 60 40 40 40 60 60 60 40 60 60 60 60 60 60 40 60 40 60 80 80 100 100 100 100 100 100 100 100 100 100 100 100]} Model22:{[60 60 40 60 60 40 40 60 60 40 60 60 60 60 60 60 40 60 40 40 40 60 60 60 40 60 60 60 60 60 60 40 60 60 40 60 60 60 40 60 80 80 100 100 100 100 100 100 100 100]} Model23:{[40 40 60 60 40 40 60 60 40 40 60 40 40 40 60 60 40 60 60 40 40 40 60 40 40 40 40 40 40 40 60 40 40 40 80 80 80 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model24:{[40 40 40 60 40 40 40 40 40 60 60 60 40 60 60 60 40 60 40 60 40 60 60 40 40 40 40 60 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model25:{[40 40 40 60 40 60 40 40 40 60 60 60 40 40 60 40 60 40 60 40 60 40 60 40 40 40 60 60 100 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model26:{[40 40 40 40 60 60 40 60 60 40 40 60 40 40 60 60 40 60 60 40 40 60 40 40 60 40 40 60 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model27:{[60 60 40 60 40 40 60 40 60 60 60 40 60 60 60 40 40 40 40 40 80 100 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model28:{[60 60 40 60 40 60 40 40 60 40 40 60 60 40 60 40 60 60 40 40 80 100 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model29:{[60 40 60 40 40 40 60 60 60 40 40 40 60 60 40 40 60 60 40 60 80 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model3:{[40 60 60 60 40 60 40 40 60 40 40 60 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model30:{[40 60 40 60 40 40 40 60 40 60 40 60 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model31:{[60 40 60 40 40 60 60 40 40 60 40 80 80 100 100 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model32:{[40 60 40 60 40 60 40 60 60 40 60 40 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model33:{[40 40 40 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model34:{[40 40 60 80 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model35:{[60 40 40 80 100 80 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100 100]} Model4:{[60 60 40 40 60 60 40 40 60 40 60 40 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model5:{[60 60 40 60 40 60 60 60 40 60 40 20 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model6:{[60 40 60 60 40 40 60 40 40 40 60 40 60 60 40 60 40 60 40 40 20 20 0 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model7:{[40 40 40 60 40 40 40 40 40 40 40 60 60 40 60 60 40 60 40 60 40 40 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model8:{[60 60 60 40 60 40 40 60 60 60 40 40 40 60 60 60 60 40 60 20 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]} Model9:{[60 40 40 60 60 40 40 40 40 60 40 40 60 60 40 60 60 40 60 40 40 60 40 60 40 60 40 40 60 20 0 0 0 20 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0]}]
2025/12/25 12:25:13 Broadcasting data - Models: [Model34 Model33 Model35 Model32 Model31 Model30 Model29 Model27 Model28 Model25 Model24 Model26 Model23 Model21 Model22 Model20 Model19 Model18 Model15 Model17 Model16 Model14 Model12 Model13 Model9 Model10 Model11 Model8 Model7 Model6 Model4 Model3 Model5 Model0 Model2 Model1]
--- PASS: TestRandomizeScores_CoversAllTiers (0.17s)
=== RUN   TestClampToValidScore
=== RUN   TestClampToValidScore/exact_zero
=== RUN   TestClampToValidScore/exact_twenty
=== RUN   TestClampToValidScore/exact_forty
=== RUN   TestClampToValidScore/exact_sixty
=== RUN   TestClampToValidScore/exact_eighty
=== RUN   TestClampToValidScore/exact_hundred
=== RUN   TestClampToValidScore/below_zero
=== RUN   TestClampToValidScore/above_hundred
=== RUN   TestClampToValidScore/between_0_and_20
=== RUN   TestClampToValidScore/between_20_and_40
=== RUN   TestClampToValidScore/between_40_and_60
=== RUN   TestClampToValidScore/between_60_and_80
=== RUN   TestClampToValidScore/between_80_and_100
--- PASS: TestClampToValidScore (0.00s)
    --- PASS: TestClampToValidScore/exact_zero (0.00s)
    --- PASS: TestClampToValidScore/exact_twenty (0.00s)
    --- PASS: TestClampToValidScore/exact_forty (0.00s)
    --- PASS: TestClampToValidScore/exact_sixty (0.00s)
    --- PASS: TestClampToValidScore/exact_eighty (0.00s)
    --- PASS: TestClampToValidScore/exact_hundred (0.00s)
    --- PASS: TestClampToValidScore/below_zero (0.00s)
    --- PASS: TestClampToValidScore/above_hundred (0.00s)
    --- PASS: TestClampToValidScore/between_0_and_20 (0.00s)
    --- PASS: TestClampToValidScore/between_20_and_40 (0.00s)
    --- PASS: TestClampToValidScore/between_40_and_60 (0.00s)
    --- PASS: TestClampToValidScore/between_60_and_80 (0.00s)
    --- PASS: TestClampToValidScore/between_80_and_100 (0.00s)
=== RUN   TestTierAlgorithm
    results_unit_test.go:61: Model 0: tier=0, targetTotal=208, actualTotal=200, remaining=8
    results_unit_test.go:61: Model 1: tier=0, targetTotal=208, actualTotal=200, remaining=8
    results_unit_test.go:61: Model 2: tier=0, targetTotal=208, actualTotal=200, remaining=8
    results_unit_test.go:61: Model 3: tier=1, targetTotal=625, actualTotal=620, remaining=5
    results_unit_test.go:61: Model 4: tier=1, targetTotal=625, actualTotal=620, remaining=5
    results_unit_test.go:61: Model 5: tier=1, targetTotal=625, actualTotal=620, remaining=5
    results_unit_test.go:61: Model 6: tier=2, targetTotal=1041, actualTotal=1040, remaining=1
    results_unit_test.go:61: Model 7: tier=2, targetTotal=1041, actualTotal=1040, remaining=1
    results_unit_test.go:61: Model 8: tier=2, targetTotal=1041, actualTotal=1040, remaining=1
    results_unit_test.go:61: Model 9: tier=3, targetTotal=1458, actualTotal=1460, remaining=-2
    results_unit_test.go:61: Model 10: tier=3, targetTotal=1458, actualTotal=1460, remaining=-2
    results_unit_test.go:61: Model 11: tier=3, targetTotal=1458, actualTotal=1460, remaining=-2
    results_unit_test.go:61: Model 12: tier=4, targetTotal=1875, actualTotal=1880, remaining=-5
    results_unit_test.go:61: Model 13: tier=4, targetTotal=1875, actualTotal=1880, remaining=-5
    results_unit_test.go:61: Model 14: tier=4, targetTotal=1875, actualTotal=1880, remaining=-5
    results_unit_test.go:61: Model 15: tier=5, targetTotal=2291, actualTotal=2300, remaining=-9
    results_unit_test.go:61: Model 16: tier=5, targetTotal=2291, actualTotal=2300, remaining=-9
    results_unit_test.go:61: Model 17: tier=5, targetTotal=2291, actualTotal=2300, remaining=-9
    results_unit_test.go:61: Model 18: tier=6, targetTotal=2708, actualTotal=2700, remaining=8
    results_unit_test.go:61: Model 19: tier=6, targetTotal=2708, actualTotal=2700, remaining=8
    results_unit_test.go:61: Model 20: tier=6, targetTotal=2708, actualTotal=2700, remaining=8
    results_unit_test.go:61: Model 21: tier=7, targetTotal=3125, actualTotal=3120, remaining=5
    results_unit_test.go:61: Model 22: tier=7, targetTotal=3125, actualTotal=3120, remaining=5
    results_unit_test.go:61: Model 23: tier=7, targetTotal=3125, actualTotal=3120, remaining=5
    results_unit_test.go:61: Model 24: tier=8, targetTotal=3541, actualTotal=3540, remaining=1
    results_unit_test.go:61: Model 25: tier=8, targetTotal=3541, actualTotal=3540, remaining=1
    results_unit_test.go:61: Model 26: tier=8, targetTotal=3541, actualTotal=3540, remaining=1
    results_unit_test.go:61: Model 27: tier=9, targetTotal=3958, actualTotal=3960, remaining=-2
    results_unit_test.go:61: Model 28: tier=9, targetTotal=3958, actualTotal=3960, remaining=-2
    results_unit_test.go:61: Model 29: tier=9, targetTotal=3958, actualTotal=3960, remaining=-2
    results_unit_test.go:61: Model 30: tier=10, targetTotal=4375, actualTotal=4380, remaining=-5
    results_unit_test.go:61: Model 31: tier=10, targetTotal=4375, actualTotal=4380, remaining=-5
    results_unit_test.go:61: Model 32: tier=10, targetTotal=4375, actualTotal=4380, remaining=-5
    results_unit_test.go:61: Model 33: tier=11, targetTotal=4791, actualTotal=4800, remaining=-9
    results_unit_test.go:61: Model 34: tier=11, targetTotal=4791, actualTotal=4800, remaining=-9
    results_unit_test.go:61: Model 35: tier=11, targetTotal=4791, actualTotal=4800, remaining=-9
    results_unit_test.go:65: Tier distribution: map[0:3 1:3 2:3 3:3 4:3 5:3 6:3 7:3 8:3 9:3 10:3 11:3]
    results_unit_test.go:66: Score sums by tier: map[0:600 1:1860 2:3120 3:4380 4:5640 5:6900 6:8100 7:9360 8:10620 9:11880 10:13140 11:14400]
--- PASS: TestTierAlgorithm (0.00s)
=== RUN   TestUpdateSettingsHandler_MethodNotAllowed
--- PASS: TestUpdateSettingsHandler_MethodNotAllowed (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_Success
2025/12/25 12:25:13 Updating settings
2025/12/25 12:25:13 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_Success (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_AutoEvalOff
2025/12/25 12:25:13 Updating settings
2025/12/25 12:25:13 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_AutoEvalOff (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_WithAPIKeys
2025/12/25 12:25:13 Updating settings
2025/12/25 12:25:13 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_WithAPIKeys (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_SkipsPlaceholder
2025/12/25 12:25:13 Updating settings
2025/12/25 12:25:13 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_SkipsPlaceholder (0.03s)
=== RUN   TestTestAPIKeyHandler_MethodNotAllowed
--- PASS: TestTestAPIKeyHandler_MethodNotAllowed (0.03s)
=== RUN   TestTestAPIKeyHandler_MissingProvider
--- PASS: TestTestAPIKeyHandler_MissingProvider (0.03s)
=== RUN   TestTestAPIKeyHandler_KeyNotConfigured
--- PASS: TestTestAPIKeyHandler_KeyNotConfigured (0.03s)
=== RUN   TestTestAPIKeyHandler_KeyConfigured
--- PASS: TestTestAPIKeyHandler_KeyConfigured (0.03s)
=== RUN   TestSettingsHandler_GET
2025/12/25 12:25:13 Handling settings page
--- PASS: TestSettingsHandler_GET (0.03s)
=== RUN   TestSettingsHandler_GET_WithExistingSettings
2025/12/25 12:25:13 Handling settings page
--- PASS: TestSettingsHandler_GET_WithExistingSettings (0.03s)
=== RUN   TestSettingsHandler_GET_WithZeroThreshold
2025/12/25 12:25:13 Handling settings page
--- PASS: TestSettingsHandler_GET_WithZeroThreshold (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_EmptyPythonURL
2025/12/25 12:25:13 Updating settings
2025/12/25 12:25:13 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_EmptyPythonURL (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_EmptyThreshold
2025/12/25 12:25:13 Updating settings
2025/12/25 12:25:13 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_EmptyThreshold (0.03s)
=== RUN   TestSettingsHandler_GET_RenderError
2025/12/25 12:25:14 Handling settings page
2025/12/25 12:25:14 Error rendering template: mock render error
--- PASS: TestSettingsHandler_GET_RenderError (0.03s)
=== RUN   TestSettingsHandler_GetMaskedAPIKeysError
2025/12/25 12:25:14 Handling settings page
2025/12/25 12:25:14 Error getting masked API keys: mock get masked keys error
--- PASS: TestSettingsHandler_GetMaskedAPIKeysError (0.00s)
=== RUN   TestUpdateSettingsHandler_SetAPIKeyError
2025/12/25 12:25:14 Updating settings
2025/12/25 12:25:14 Error setting API key for anthropic: mock set API key error
--- PASS: TestUpdateSettingsHandler_SetAPIKeyError (0.00s)
=== RUN   TestUpdateSettings_SetSettingErrorsDoNotFailRequest
2025/12/25 12:25:14 Updating settings
2025/12/25 12:25:14 Error setting threshold: threshold error
2025/12/25 12:25:14 Error setting auto_evaluate: auto eval error
2025/12/25 12:25:14 Error setting Python URL: python url error
2025/12/25 12:25:14 Settings updated successfully
--- PASS: TestUpdateSettings_SetSettingErrorsDoNotFailRequest (0.00s)
=== RUN   TestUpdateSettings_ParseFormError
2025/12/25 12:25:14 Updating settings
2025/12/25 12:25:14 Error parsing form: mock read error
--- PASS: TestUpdateSettings_ParseFormError (0.00s)
=== RUN   TestCalculateTiers_Empty
--- PASS: TestCalculateTiers_Empty (0.00s)
=== RUN   TestCalculateTiers_SingleModel
=== RUN   TestCalculateTiers_SingleModel/transcendental_minimum
=== RUN   TestCalculateTiers_SingleModel/transcendental_high
=== RUN   TestCalculateTiers_SingleModel/cosmic_maximum
=== RUN   TestCalculateTiers_SingleModel/cosmic_minimum
=== RUN   TestCalculateTiers_SingleModel/divine_maximum
=== RUN   TestCalculateTiers_SingleModel/divine_minimum
=== RUN   TestCalculateTiers_SingleModel/celestial_maximum
=== RUN   TestCalculateTiers_SingleModel/celestial_minimum
=== RUN   TestCalculateTiers_SingleModel/ascendant_maximum
=== RUN   TestCalculateTiers_SingleModel/ascendant_minimum
=== RUN   TestCalculateTiers_SingleModel/ethereal_maximum
=== RUN   TestCalculateTiers_SingleModel/ethereal_minimum
=== RUN   TestCalculateTiers_SingleModel/mystic_maximum
=== RUN   TestCalculateTiers_SingleModel/mystic_minimum
=== RUN   TestCalculateTiers_SingleModel/astral_maximum
=== RUN   TestCalculateTiers_SingleModel/astral_minimum
=== RUN   TestCalculateTiers_SingleModel/spiritual_maximum
=== RUN   TestCalculateTiers_SingleModel/spiritual_minimum
=== RUN   TestCalculateTiers_SingleModel/primal_maximum
=== RUN   TestCalculateTiers_SingleModel/primal_minimum
=== RUN   TestCalculateTiers_SingleModel/mortal_maximum
=== RUN   TestCalculateTiers_SingleModel/mortal_minimum
=== RUN   TestCalculateTiers_SingleModel/primordial_maximum
=== RUN   TestCalculateTiers_SingleModel/primordial_minimum
=== RUN   TestCalculateTiers_SingleModel/primordial_negative
--- PASS: TestCalculateTiers_SingleModel (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/transcendental_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/transcendental_high (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/cosmic_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/cosmic_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/divine_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/divine_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/celestial_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/celestial_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ascendant_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ascendant_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ethereal_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ethereal_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mystic_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mystic_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/astral_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/astral_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/spiritual_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/spiritual_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primal_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primal_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mortal_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mortal_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primordial_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primordial_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primordial_negative (0.00s)
=== RUN   TestCalculateTiers_AllBoundaries
=== RUN   TestCalculateTiers_AllBoundaries/#00
=== RUN   TestCalculateTiers_AllBoundaries/#01
=== RUN   TestCalculateTiers_AllBoundaries/#02
=== RUN   TestCalculateTiers_AllBoundaries/#03
=== RUN   TestCalculateTiers_AllBoundaries/#04
=== RUN   TestCalculateTiers_AllBoundaries/#05
=== RUN   TestCalculateTiers_AllBoundaries/#06
=== RUN   TestCalculateTiers_AllBoundaries/#07
=== RUN   TestCalculateTiers_AllBoundaries/#08
=== RUN   TestCalculateTiers_AllBoundaries/#09
=== RUN   TestCalculateTiers_AllBoundaries/#10
=== RUN   TestCalculateTiers_AllBoundaries/#11
=== RUN   TestCalculateTiers_AllBoundaries/#12
=== RUN   TestCalculateTiers_AllBoundaries/#13
=== RUN   TestCalculateTiers_AllBoundaries/#14
=== RUN   TestCalculateTiers_AllBoundaries/#15
=== RUN   TestCalculateTiers_AllBoundaries/#16
=== RUN   TestCalculateTiers_AllBoundaries/#17
=== RUN   TestCalculateTiers_AllBoundaries/#18
=== RUN   TestCalculateTiers_AllBoundaries/#19
=== RUN   TestCalculateTiers_AllBoundaries/#20
=== RUN   TestCalculateTiers_AllBoundaries/#21
=== RUN   TestCalculateTiers_AllBoundaries/#22
--- PASS: TestCalculateTiers_AllBoundaries (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#00 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#01 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#02 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#03 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#04 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#05 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#06 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#07 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#08 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#09 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#10 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#11 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#12 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#13 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#14 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#15 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#16 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#17 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#18 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#19 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#20 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#21 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#22 (0.00s)
=== RUN   TestCalculateTiers_MultipleModels
--- PASS: TestCalculateTiers_MultipleModels (0.00s)
=== RUN   TestCalculateTiers_TierRanges
--- PASS: TestCalculateTiers_TierRanges (0.00s)
=== RUN   TestCalculateTiers_ModelsInSameTier
--- PASS: TestCalculateTiers_ModelsInSameTier (0.00s)
=== RUN   TestCalculateTiers_ZeroScore
--- PASS: TestCalculateTiers_ZeroScore (0.00s)
=== RUN   TestCalculateTiers_AllTiersCovered
--- PASS: TestCalculateTiers_AllTiersCovered (0.00s)
=== RUN   TestStatsHandler_GET
2025/12/25 12:25:14 Handling stats page
--- PASS: TestStatsHandler_GET (0.04s)
=== RUN   TestStatsHandler_GET_WithScoreBreakdowns
2025/12/25 12:25:14 Handling stats page
--- PASS: TestStatsHandler_GET_WithScoreBreakdowns (0.04s)
=== RUN   TestStatsHandler_FixesScoreMismatchTotals
2025/12/25 12:25:14 Handling stats page
2025/12/25 12:25:14 Warning: Score mismatch for ModelX: calculated=20, summed=21
2025/12/25 12:25:14 Warning: failed to get prompt count: sql: database is closed, using default 50
--- PASS: TestStatsHandler_FixesScoreMismatchTotals (0.00s)
=== RUN   TestStatsHandler_GET_EmptyResults
2025/12/25 12:25:14 Handling stats page
--- PASS: TestStatsHandler_GET_EmptyResults (0.03s)
=== RUN   TestStatsHandler_GET_MultipleModels
2025/12/25 12:25:14 Handling stats page
--- PASS: TestStatsHandler_GET_MultipleModels (0.04s)
=== RUN   TestStatsHandler_GET_RenderError
2025/12/25 12:25:14 Handling stats page
2025/12/25 12:25:14 Error rendering template: open templates/stats.html: The system cannot find the path specified.
--- PASS: TestStatsHandler_GET_RenderError (0.03s)
=== RUN   TestCalculateTiers_DynamicMaxScore
=== RUN   TestCalculateTiers_DynamicMaxScore/50_prompts_-_top_tier
=== RUN   TestCalculateTiers_DynamicMaxScore/10_prompts_-_top_tier_(should_be_11/12_=_916+)
=== RUN   TestCalculateTiers_DynamicMaxScore/30_prompts_-_top_tier_(should_be_11/12_=_2750+)
--- PASS: TestCalculateTiers_DynamicMaxScore (0.00s)
    --- PASS: TestCalculateTiers_DynamicMaxScore/50_prompts_-_top_tier (0.00s)
    --- PASS: TestCalculateTiers_DynamicMaxScore/10_prompts_-_top_tier_(should_be_11/12_=_916+) (0.00s)
    --- PASS: TestCalculateTiers_DynamicMaxScore/30_prompts_-_top_tier_(should_be_11/12_=_2750+) (0.00s)
=== RUN   TestNewPromptSuiteHandler_POST_Success
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Prompt suite 'new-test-suite' created successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
--- PASS: TestNewPromptSuiteHandler_POST_Success (0.03s)
=== RUN   TestNewPromptSuiteHandler_POST_EmptyName
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Suite name cannot be empty
--- PASS: TestNewPromptSuiteHandler_POST_EmptyName (0.03s)
=== RUN   TestSelectPromptSuiteHandler_Success
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Prompt suite 'suite-to-select' created successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
--- PASS: TestSelectPromptSuiteHandler_Success (0.03s)
=== RUN   TestSelectPromptSuiteHandler_EmptyName
2025/12/25 12:25:14 Handling select prompt suite
2025/12/25 12:25:14 Suite name cannot be empty
--- PASS: TestSelectPromptSuiteHandler_EmptyName (0.03s)
=== RUN   TestSelectPromptSuiteHandler_SetCurrentSuiteError
2025/12/25 12:25:14 Handling select prompt suite
2025/12/25 12:25:14 Error setting current suite: failed to get suite: sql: database is closed
--- PASS: TestSelectPromptSuiteHandler_SetCurrentSuiteError (0.03s)
=== RUN   TestDeletePromptSuiteHandler_POST_EmptyName
2025/12/25 12:25:14 Handling delete prompt suite page
--- PASS: TestDeletePromptSuiteHandler_POST_EmptyName (0.03s)
=== RUN   TestDeletePromptSuiteHandler_POST_Success
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Prompt suite 'suite-to-delete' created successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
2025/12/25 12:25:14 Handling delete prompt suite page
2025/12/25 12:25:14 Prompt suite 'suite-to-delete' deleted successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
--- PASS: TestDeletePromptSuiteHandler_POST_Success (0.03s)
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames/empty_old_name
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Both old and new names required
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames/empty_new_name
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Both old and new names required
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames/both_empty
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Both old and new names required
--- PASS: TestEditPromptSuiteHandler_POST_EmptyNames (0.03s)
    --- PASS: TestEditPromptSuiteHandler_POST_EmptyNames/empty_old_name (0.00s)
    --- PASS: TestEditPromptSuiteHandler_POST_EmptyNames/empty_new_name (0.00s)
    --- PASS: TestEditPromptSuiteHandler_POST_EmptyNames/both_empty (0.00s)
=== RUN   TestEditPromptSuiteHandler_POST_Success
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Prompt suite 'original-suite' created successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Prompt suite 'original-suite' edited successfully to 'renamed-suite'
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
--- PASS: TestEditPromptSuiteHandler_POST_Success (0.03s)
=== RUN   TestNewPromptSuiteHandler_POST_DuplicateName
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Prompt suite 'duplicate-suite' created successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Prompt suite 'duplicate-suite' created successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
--- PASS: TestNewPromptSuiteHandler_POST_DuplicateName (0.03s)
=== RUN   TestNewPromptSuiteHandler_GET
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 New prompt suite page rendered successfully
--- PASS: TestNewPromptSuiteHandler_GET (0.03s)
=== RUN   TestEditPromptSuiteHandler_GET
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Edit prompt suite page rendered successfully
--- PASS: TestEditPromptSuiteHandler_GET (0.03s)
=== RUN   TestDeletePromptSuiteHandler_GET
2025/12/25 12:25:14 Handling delete prompt suite page
2025/12/25 12:25:14 Delete prompt suite page rendered successfully
--- PASS: TestDeletePromptSuiteHandler_GET (0.03s)
=== RUN   TestSelectPromptSuiteHandler_WithDataDir
2025/12/25 12:25:14 Handling select prompt suite
2025/12/25 12:25:14 Prompt suite 'selectable-suite' selected successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
--- PASS: TestSelectPromptSuiteHandler_WithDataDir (0.03s)
=== RUN   TestDeletePromptSuiteHandler_POST_CurrentSuiteReset
2025/12/25 12:25:14 Handling delete prompt suite page
2025/12/25 12:25:14 Prompt suite 'current-suite' deleted successfully
2025/12/25 12:25:14 BroadcastResults results: map[]
2025/12/25 12:25:14 Broadcasting data - Models: []
--- PASS: TestDeletePromptSuiteHandler_POST_CurrentSuiteReset (0.03s)
=== RUN   TestEditPromptSuiteHandler_POST_RenameToSameName
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Error renaming suite: suite with name 'existing-suite' already exists
--- PASS: TestEditPromptSuiteHandler_POST_RenameToSameName (0.03s)
=== RUN   TestDeletePromptSuiteHandler_GET_RenderError
2025/12/25 12:25:14 Handling delete prompt suite page
2025/12/25 12:25:14 Error rendering template: open templates/delete_prompt_suite.html: The system cannot find the path specified.
--- PASS: TestDeletePromptSuiteHandler_GET_RenderError (0.03s)
=== RUN   TestSelectPromptSuite_ParseFormError
2025/12/25 12:25:14 Handling select prompt suite
2025/12/25 12:25:14 Error parsing form: mock read error
--- PASS: TestSelectPromptSuite_ParseFormError (0.00s)
=== RUN   TestNewPromptSuite_ParseFormError
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Error parsing form: mock read error
--- PASS: TestNewPromptSuite_ParseFormError (0.00s)
=== RUN   TestEditPromptSuite_ParseFormError
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Error parsing form: mock read error
--- PASS: TestEditPromptSuite_ParseFormError (0.00s)
=== RUN   TestDeletePromptSuite_SetCurrentSuiteError
2025/12/25 12:25:14 Handling delete prompt suite page
2025/12/25 12:25:14 Error updating current suite: mock set current suite error
--- PASS: TestDeletePromptSuite_SetCurrentSuiteError (0.00s)
=== RUN   TestDeletePromptSuite_DeleteSuiteError
2025/12/25 12:25:14 Handling delete prompt suite page
2025/12/25 12:25:14 Error deleting prompt suite: failed to get suite ID: sql: database is closed
--- PASS: TestDeletePromptSuite_DeleteSuiteError (0.03s)
=== RUN   TestDeletePromptSuiteHandler_MethodNotAllowed
2025/12/25 12:25:14 Handling delete prompt suite page
--- PASS: TestDeletePromptSuiteHandler_MethodNotAllowed (0.03s)
=== RUN   TestNewPromptSuiteHandler_MethodNotAllowed
2025/12/25 12:25:14 Handling new prompt suite
--- PASS: TestNewPromptSuiteHandler_MethodNotAllowed (0.03s)
=== RUN   TestEditPromptSuiteHandler_MethodNotAllowed
2025/12/25 12:25:14 Handling edit prompt suite
--- PASS: TestEditPromptSuiteHandler_MethodNotAllowed (0.03s)
=== RUN   TestSelectPromptSuiteHandler_MethodNotAllowed
2025/12/25 12:25:14 Handling select prompt suite
--- PASS: TestSelectPromptSuiteHandler_MethodNotAllowed (0.03s)
=== RUN   TestNewPromptSuiteHandler_GET_RenderError
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Error rendering template: open templates/new_prompt_suite.html: The system cannot find the path specified.
--- PASS: TestNewPromptSuiteHandler_GET_RenderError (0.03s)
=== RUN   TestEditPromptSuiteHandler_GET_RenderError
2025/12/25 12:25:14 Handling edit prompt suite
2025/12/25 12:25:14 Error rendering template: open templates/edit_prompt_suite.html: The system cannot find the path specified.
--- PASS: TestEditPromptSuiteHandler_GET_RenderError (0.03s)
=== RUN   TestNewPromptSuiteHandler_POST_WritePromptSuiteError
2025/12/25 12:25:14 Handling new prompt suite
2025/12/25 12:25:14 Error creating prompt suite: mock write error
--- PASS: TestNewPromptSuiteHandler_POST_WritePromptSuiteError (0.00s)
PASS
coverage: 97.9% of statements
ok  	llm-tournament/handlers	10.936s	coverage: 97.9% of statements
=== RUN   TestPromptManagementWorkflow
2025/12/25 12:21:23 Handling new prompt suite
2025/12/25 12:21:23 Prompt suite 'Integration Test Suite' created successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add profile
2025/12/25 12:21:23 Profile added successfully
2025/12/25 12:21:23 Handling add profile
2025/12/25 12:21:23 Profile added successfully
2025/12/25 12:21:23 Handling add profile
2025/12/25 12:21:23 Profile added successfully
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling delete profile
2025/12/25 12:21:23 Profile deleted successfully
2025/12/25 12:21:23 Handling edit prompt
2025/12/25 12:21:23 Prompt edited successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling delete prompt suite page
2025/12/25 12:21:23 Prompt suite 'Integration Test Suite' deleted successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
--- PASS: TestPromptManagementWorkflow (0.07s)
=== RUN   TestDisplayOrderPreservation
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling delete prompt
2025/12/25 12:21:23 Prompt deleted successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
--- PASS: TestDisplayOrderPreservation (0.05s)
=== RUN   TestMultipleSuitesIsolation
2025/12/25 12:21:23 Handling new prompt suite
2025/12/25 12:21:23 Prompt suite 'Suite A' created successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling select prompt suite
2025/12/25 12:21:23 Prompt suite 'Suite A' selected successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling new prompt suite
2025/12/25 12:21:23 Prompt suite 'Suite B' created successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling select prompt suite
2025/12/25 12:21:23 Prompt suite 'Suite B' selected successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling add prompt
2025/12/25 12:21:23 Prompt added successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
2025/12/25 12:21:23 Handling select prompt suite
2025/12/25 12:21:23 Prompt suite 'Suite A' selected successfully
2025/12/25 12:21:23 BroadcastResults results: map[]
2025/12/25 12:21:23 Broadcasting data - Models: []
--- PASS: TestMultipleSuitesIsolation (0.06s)
PASS
coverage: [no statements]
ok  	llm-tournament/integration	(cached)	coverage: [no statements]
=== RUN   TestGetCurrentSuiteID_NoCurrentSuite_SetsDefault
--- PASS: TestGetCurrentSuiteID_NoCurrentSuite_SetsDefault (0.04s)
=== RUN   TestGetCurrentSuiteID_UpdateDefaultError_ReturnsError
--- PASS: TestGetCurrentSuiteID_UpdateDefaultError_ReturnsError (0.05s)
=== RUN   TestGetSuiteID_InsertError_ReturnsError
--- PASS: TestGetSuiteID_InsertError_ReturnsError (0.04s)
=== RUN   TestListSuites_ScanError_ReturnsError
--- PASS: TestListSuites_ScanError_ReturnsError (0.05s)
=== RUN   TestDeleteSuite_DeleteExecError_ReturnsError
--- PASS: TestDeleteSuite_DeleteExecError_ReturnsError (0.04s)
=== RUN   TestSetCurrentSuite_ClearFlagError_ReturnsError
--- PASS: TestSetCurrentSuite_ClearFlagError_ReturnsError (0.04s)
=== RUN   TestDeleteSuite_UpdateDefaultError_ReturnsError
--- PASS: TestDeleteSuite_UpdateDefaultError_ReturnsError (0.05s)
=== RUN   TestRenameSuite_ExistenceCheckError_ReturnsError
--- PASS: TestRenameSuite_ExistenceCheckError_ReturnsError (0.05s)
=== RUN   TestSetCurrentSuite_SetCurrentError_ReturnsError
--- PASS: TestSetCurrentSuite_SetCurrentError_ReturnsError (0.05s)
=== RUN   TestListSuites_QueryError_ReturnsError
--- PASS: TestListSuites_QueryError_ReturnsError (0.05s)
=== RUN   TestGetSuiteID_QueryError_ReturnsError
--- PASS: TestGetSuiteID_QueryError_ReturnsError (0.05s)
=== RUN   TestSetCurrentSuite_GetSuiteIDError_ReturnsError
--- PASS: TestSetCurrentSuite_GetSuiteIDError_ReturnsError (0.04s)
=== RUN   TestDeleteSuite_GetSuiteIDError_ReturnsError
--- PASS: TestDeleteSuite_GetSuiteIDError_ReturnsError (0.04s)
=== RUN   TestRenameSuite_UpdateError_ReturnsError
--- PASS: TestRenameSuite_UpdateError_ReturnsError (0.04s)
=== RUN   TestDeleteSuite_IsCurrentScanError_ReturnsError
--- PASS: TestDeleteSuite_IsCurrentScanError_ReturnsError (0.04s)
=== RUN   TestInitDB
--- PASS: TestInitDB (0.04s)
=== RUN   TestInitDB_CreatesDataDirectory
--- PASS: TestInitDB_CreatesDataDirectory (0.04s)
=== RUN   TestInitDB_InvalidPath
--- PASS: TestInitDB_InvalidPath (0.00s)
=== RUN   TestInitDB_OpenError
--- PASS: TestInitDB_OpenError (0.04s)
=== RUN   TestInitDB_CreateTablesError
--- PASS: TestInitDB_CreateTablesError (0.04s)
=== RUN   TestCloseDB
--- PASS: TestCloseDB (0.04s)
=== RUN   TestCloseDB_NilDB
--- PASS: TestCloseDB_NilDB (0.00s)
=== RUN   TestGetDB
--- PASS: TestGetDB (0.04s)
=== RUN   TestGetSuiteID_Default
--- PASS: TestGetSuiteID_Default (0.05s)
=== RUN   TestGetSuiteID_NewSuite
--- PASS: TestGetSuiteID_NewSuite (0.05s)
=== RUN   TestGetCurrentSuiteID
--- PASS: TestGetCurrentSuiteID (0.05s)
=== RUN   TestSetCurrentSuite
--- PASS: TestSetCurrentSuite (0.05s)
=== RUN   TestSetCurrentSuite_EmptyName
--- PASS: TestSetCurrentSuite_EmptyName (0.05s)
=== RUN   TestListSuites
--- PASS: TestListSuites (0.05s)
=== RUN   TestDeleteSuite
--- PASS: TestDeleteSuite (0.05s)
=== RUN   TestDeleteSuite_Default
--- PASS: TestDeleteSuite_Default (0.06s)
=== RUN   TestDeleteSuite_Current
--- PASS: TestDeleteSuite_Current (0.05s)
=== RUN   TestRenameSuite
--- PASS: TestRenameSuite (0.04s)
=== RUN   TestRenameSuite_Default
--- PASS: TestRenameSuite_Default (0.03s)
=== RUN   TestRenameSuite_EmptyNewName
--- PASS: TestRenameSuite_EmptyNewName (0.04s)
=== RUN   TestRenameSuite_InvalidChars
--- PASS: TestRenameSuite_InvalidChars (0.11s)
=== RUN   TestRenameSuite_DuplicateName
--- PASS: TestRenameSuite_DuplicateName (0.26s)
=== RUN   TestCreateTables_DefaultSettings
--- PASS: TestCreateTables_DefaultSettings (0.04s)
=== RUN   TestForeignKeyConstraints
--- PASS: TestForeignKeyConstraints (0.05s)
=== RUN   TestCascadeDelete
--- PASS: TestCascadeDelete (0.04s)
=== RUN   TestGetProfileID_EmptyName
--- PASS: TestGetProfileID_EmptyName (0.04s)
=== RUN   TestGetProfileID_NotFound
--- PASS: TestGetProfileID_NotFound (0.04s)
=== RUN   TestGetProfileID_Found
--- PASS: TestGetProfileID_Found (0.04s)
=== RUN   TestGetCurrentSuiteID_NoCurrent
--- PASS: TestGetCurrentSuiteID_NoCurrent (0.03s)
=== RUN   TestDeleteSuite_CurrentSuite
--- PASS: TestDeleteSuite_CurrentSuite (0.05s)
=== RUN   TestListSuites_Multiple
--- PASS: TestListSuites_Multiple (0.04s)
=== RUN   TestDefaultDataStore_IsSet
--- PASS: TestDefaultDataStore_IsSet (0.00s)
=== RUN   TestDefaultDataStore_IsSQLiteDataStore
--- PASS: TestDefaultDataStore_IsSQLiteDataStore (0.00s)
=== RUN   TestDefaultDataStore_CanBeSwapped
--- PASS: TestDefaultDataStore_CanBeSwapped (0.00s)
=== RUN   TestMockDataStore_ReturnsError
--- PASS: TestMockDataStore_ReturnsError (0.00s)
=== RUN   TestMockDataStore_DefaultValues
--- PASS: TestMockDataStore_DefaultValues (0.00s)
=== RUN   TestSQLiteDataStore_GetCurrentSuiteID
--- PASS: TestSQLiteDataStore_GetCurrentSuiteID (0.04s)
=== RUN   TestSQLiteDataStore_GetCurrentSuiteName
--- PASS: TestSQLiteDataStore_GetCurrentSuiteName (0.04s)
=== RUN   TestSQLiteDataStore_ListSuites
--- PASS: TestSQLiteDataStore_ListSuites (0.04s)
=== RUN   TestSQLiteDataStore_SetCurrentSuite
--- PASS: TestSQLiteDataStore_SetCurrentSuite (0.04s)
=== RUN   TestSQLiteDataStore_SuiteExists
--- PASS: TestSQLiteDataStore_SuiteExists (0.04s)
=== RUN   TestSQLiteDataStore_ReadWritePrompts
--- PASS: TestSQLiteDataStore_ReadWritePrompts (0.04s)
=== RUN   TestSQLiteDataStore_ReadWritePromptSuite
--- PASS: TestSQLiteDataStore_ReadWritePromptSuite (0.04s)
=== RUN   TestSQLiteDataStore_ListPromptSuites
--- PASS: TestSQLiteDataStore_ListPromptSuites (0.03s)
=== RUN   TestSQLiteDataStore_UpdatePromptsOrder
2025/12/25 10:59:59 Prompts order updated successfully
2025/12/25 10:59:59 BroadcastResults results: map[]
2025/12/25 10:59:59 Broadcasting data - Models: []
--- PASS: TestSQLiteDataStore_UpdatePromptsOrder (0.04s)
=== RUN   TestSQLiteDataStore_ReadWriteProfiles
--- PASS: TestSQLiteDataStore_ReadWriteProfiles (0.04s)
=== RUN   TestSQLiteDataStore_ReadWriteResults
--- PASS: TestSQLiteDataStore_ReadWriteResults (0.05s)
=== RUN   TestSQLiteDataStore_GetSetSetting
--- PASS: TestSQLiteDataStore_GetSetSetting (0.03s)
=== RUN   TestSQLiteDataStore_GetSetAPIKey
--- PASS: TestSQLiteDataStore_GetSetAPIKey (0.04s)
=== RUN   TestSQLiteDataStore_GetMaskedAPIKeys
--- PASS: TestSQLiteDataStore_GetMaskedAPIKeys (0.04s)
=== RUN   TestSQLiteDataStore_BroadcastResults
2025/12/25 11:00:00 BroadcastResults results: map[]
2025/12/25 11:00:00 Broadcasting data - Models: []
--- PASS: TestSQLiteDataStore_BroadcastResults (0.04s)
=== RUN   TestGetEncryptionKey
=== RUN   TestGetEncryptionKey/valid_key
=== RUN   TestGetEncryptionKey/missing_env_var
=== RUN   TestGetEncryptionKey/too_short
=== RUN   TestGetEncryptionKey/too_long
=== RUN   TestGetEncryptionKey/invalid_hex
--- PASS: TestGetEncryptionKey (0.00s)
    --- PASS: TestGetEncryptionKey/valid_key (0.00s)
    --- PASS: TestGetEncryptionKey/missing_env_var (0.00s)
    --- PASS: TestGetEncryptionKey/too_short (0.00s)
    --- PASS: TestGetEncryptionKey/too_long (0.00s)
    --- PASS: TestGetEncryptionKey/invalid_hex (0.00s)
=== RUN   TestEncryptAPIKey
=== RUN   TestEncryptAPIKey/empty_string_passthrough
=== RUN   TestEncryptAPIKey/simple_key
=== RUN   TestEncryptAPIKey/long_key
=== RUN   TestEncryptAPIKey/special_characters
=== RUN   TestEncryptAPIKey/unicode_characters
--- PASS: TestEncryptAPIKey (0.00s)
    --- PASS: TestEncryptAPIKey/empty_string_passthrough (0.00s)
    --- PASS: TestEncryptAPIKey/simple_key (0.00s)
    --- PASS: TestEncryptAPIKey/long_key (0.00s)
    --- PASS: TestEncryptAPIKey/special_characters (0.00s)
    --- PASS: TestEncryptAPIKey/unicode_characters (0.00s)
=== RUN   TestEncryptAPIKey_NoKey
--- PASS: TestEncryptAPIKey_NoKey (0.00s)
=== RUN   TestDecryptAPIKey
=== RUN   TestDecryptAPIKey/empty_string_passthrough
=== RUN   TestDecryptAPIKey/invalid_base64
=== RUN   TestDecryptAPIKey/too_short_ciphertext
--- PASS: TestDecryptAPIKey (0.00s)
    --- PASS: TestDecryptAPIKey/empty_string_passthrough (0.00s)
    --- PASS: TestDecryptAPIKey/invalid_base64 (0.00s)
    --- PASS: TestDecryptAPIKey/too_short_ciphertext (0.00s)
=== RUN   TestDecryptAPIKey_NoKey
--- PASS: TestDecryptAPIKey_NoKey (0.00s)
=== RUN   TestEncryptDecryptRoundTrip
=== RUN   TestEncryptDecryptRoundTrip/simple_key
=== RUN   TestEncryptDecryptRoundTrip/empty_string
=== RUN   TestEncryptDecryptRoundTrip/long_key
=== RUN   TestEncryptDecryptRoundTrip/special_characters
=== RUN   TestEncryptDecryptRoundTrip/unicode
=== RUN   TestEncryptDecryptRoundTrip/newlines
=== RUN   TestEncryptDecryptRoundTrip/spaces
--- PASS: TestEncryptDecryptRoundTrip (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/simple_key (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/empty_string (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/long_key (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/special_characters (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/unicode (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/newlines (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/spaces (0.00s)
=== RUN   TestEncryptProducesDifferentCiphertexts
--- PASS: TestEncryptProducesDifferentCiphertexts (0.00s)
=== RUN   TestMaskAPIKey
=== RUN   TestMaskAPIKey/empty_string
=== RUN   TestMaskAPIKey/single_character
=== RUN   TestMaskAPIKey/two_characters
=== RUN   TestMaskAPIKey/three_characters
=== RUN   TestMaskAPIKey/four_characters
=== RUN   TestMaskAPIKey/five_characters
=== RUN   TestMaskAPIKey/normal_API_key
=== RUN   TestMaskAPIKey/long_API_key
--- PASS: TestMaskAPIKey (0.00s)
    --- PASS: TestMaskAPIKey/empty_string (0.00s)
    --- PASS: TestMaskAPIKey/single_character (0.00s)
    --- PASS: TestMaskAPIKey/two_characters (0.00s)
    --- PASS: TestMaskAPIKey/three_characters (0.00s)
    --- PASS: TestMaskAPIKey/four_characters (0.00s)
    --- PASS: TestMaskAPIKey/five_characters (0.00s)
    --- PASS: TestMaskAPIKey/normal_API_key (0.00s)
    --- PASS: TestMaskAPIKey/long_API_key (0.00s)
=== RUN   TestDecryptAPIKey_CorruptedCiphertext
--- PASS: TestDecryptAPIKey_CorruptedCiphertext (0.00s)
=== RUN   TestEncryptAPIKey_NewCipherError
--- PASS: TestEncryptAPIKey_NewCipherError (0.00s)
=== RUN   TestEncryptAPIKey_NewGCMError
--- PASS: TestEncryptAPIKey_NewGCMError (0.00s)
=== RUN   TestEncryptAPIKey_NonceReadError
--- PASS: TestEncryptAPIKey_NonceReadError (0.00s)
=== RUN   TestDecryptAPIKey_NewCipherError
--- PASS: TestDecryptAPIKey_NewCipherError (0.00s)
=== RUN   TestDecryptAPIKey_NewGCMError
--- PASS: TestDecryptAPIKey_NewGCMError (0.00s)
=== RUN   TestHandleFormError
2025/12/25 11:00:00 Error parsing form: test form parsing error
--- PASS: TestHandleFormError (0.00s)
=== RUN   TestRespondJSON_Success
--- PASS: TestRespondJSON_Success (0.00s)
=== RUN   TestRespondJSON_Array
--- PASS: TestRespondJSON_Array (0.00s)
=== RUN   TestRespondJSON_EmptyObject
--- PASS: TestRespondJSON_EmptyObject (0.00s)
=== RUN   TestRespondJSON_Null
--- PASS: TestRespondJSON_Null (0.00s)
=== RUN   TestRespondJSON_Struct
--- PASS: TestRespondJSON_Struct (0.00s)
=== RUN   TestRenderTemplate_InvalidTemplate
2025/12/25 11:00:00 Error rendering template: open templates/nonexistent.html: The system cannot find the path specified.
--- PASS: TestRenderTemplate_InvalidTemplate (0.00s)
=== RUN   TestImportErrorHandler_GET
2025/12/25 11:00:00 Handling import error page
2025/12/25 11:00:00 Import error page rendered successfully
--- PASS: TestImportErrorHandler_GET (0.00s)
=== RUN   TestRenderTemplate_Success
--- PASS: TestRenderTemplate_Success (0.00s)
=== RUN   TestRenderTemplateSimple_Success
--- PASS: TestRenderTemplateSimple_Success (0.00s)
=== RUN   TestRenderTemplateSimple_InvalidTemplate
2025/12/25 11:00:00 Error rendering template: open templates/nonexistent.html: The system cannot find the path specified.
--- PASS: TestRenderTemplateSimple_InvalidTemplate (0.00s)
=== RUN   TestRenderTemplate_WithMockRenderer_Error
2025/12/25 11:00:00 Error rendering template: mock render error
--- PASS: TestRenderTemplate_WithMockRenderer_Error (0.00s)
=== RUN   TestRenderTemplateSimple_WithMockRenderer_Error
2025/12/25 11:00:00 Error rendering template: mock render error
--- PASS: TestRenderTemplateSimple_WithMockRenderer_Error (0.00s)
=== RUN   TestRespondJSON_Unmarshalable
2025/12/25 11:00:00 Error encoding JSON: json: unsupported type: chan int
--- PASS: TestRespondJSON_Unmarshalable (0.00s)
=== RUN   TestFileRenderer_RenderTemplateSimple
--- PASS: TestFileRenderer_RenderTemplateSimple (0.00s)
=== RUN   TestFileRenderer_RenderTemplateSimple_Error
--- PASS: TestFileRenderer_RenderTemplateSimple_Error (0.00s)
=== RUN   TestImportErrorHandler_TemplateParseError
2025/12/25 11:00:00 Handling import error page
2025/12/25 11:00:00 Error parsing template: open templates/import_error.html: The system cannot find the path specified.
--- PASS: TestImportErrorHandler_TemplateParseError (0.00s)
=== RUN   TestImportErrorHandler_TemplateExecuteError
2025/12/25 11:00:00 Handling import error page
2025/12/25 11:00:00 Error executing template: write failed
--- PASS: TestImportErrorHandler_TemplateExecuteError (0.00s)
=== RUN   TestInitDB_OpenError_ReturnsError
--- PASS: TestInitDB_OpenError_ReturnsError (0.00s)
=== RUN   TestInitDB_PragmasError_ReturnsError
--- PASS: TestInitDB_PragmasError_ReturnsError (0.00s)
=== RUN   TestInitDB_CreateTablesError_ReturnsError
--- PASS: TestInitDB_CreateTablesError_ReturnsError (0.01s)
=== RUN   TestGetSuiteID_LastInsertIDError_ReturnsError
--- PASS: TestGetSuiteID_LastInsertIDError_ReturnsError (0.05s)
=== RUN   TestWriteResults_ModelLastInsertIDError_ReturnsError
--- PASS: TestWriteResults_ModelLastInsertIDError_ReturnsError (0.03s)
=== RUN   TestDefaultRenderer_IsFileRenderer
--- PASS: TestDefaultRenderer_IsFileRenderer (0.00s)
=== RUN   TestDefaultRenderer_CanBeSwapped
--- PASS: TestDefaultRenderer_CanBeSwapped (0.00s)
=== RUN   TestFileRenderer_Render_ParseError
--- PASS: TestFileRenderer_Render_ParseError (0.00s)
=== RUN   TestFileRenderer_Render_Success
--- PASS: TestFileRenderer_Render_Success (0.00s)
=== RUN   TestGetAllSettings_QueryError
--- PASS: TestGetAllSettings_QueryError (0.05s)
=== RUN   TestGetAllSettings_ScanError
--- PASS: TestGetAllSettings_ScanError (0.00s)
=== RUN   TestGetMaskedAPIKeys_QueryError
--- PASS: TestGetMaskedAPIKeys_QueryError (0.05s)
=== RUN   TestGetMaskedAPIKeys_ScanError
--- PASS: TestGetMaskedAPIKeys_ScanError (0.00s)
=== RUN   TestGetMaskedAPIKeys_DecryptErrorMasksAsError
--- PASS: TestGetMaskedAPIKeys_DecryptErrorMasksAsError (0.04s)
=== RUN   TestGetSetting
--- PASS: TestGetSetting (0.04s)
=== RUN   TestGetSetting_NonExistent
--- PASS: TestGetSetting_NonExistent (0.04s)
=== RUN   TestSetSetting
--- PASS: TestSetSetting (0.04s)
=== RUN   TestSetSetting_Update
--- PASS: TestSetSetting_Update (0.05s)
=== RUN   TestGetAPIKey
--- PASS: TestGetAPIKey (0.05s)
=== RUN   TestGetAPIKey_Empty
--- PASS: TestGetAPIKey_Empty (0.04s)
=== RUN   TestSetAPIKey
=== RUN   TestSetAPIKey/anthropic
=== RUN   TestSetAPIKey/openai
=== RUN   TestSetAPIKey/google
--- PASS: TestSetAPIKey (0.04s)
    --- PASS: TestSetAPIKey/anthropic (0.00s)
    --- PASS: TestSetAPIKey/openai (0.00s)
    --- PASS: TestSetAPIKey/google (0.00s)
=== RUN   TestSetAPIKey_NoEncryptionKey
--- PASS: TestSetAPIKey_NoEncryptionKey (0.05s)
=== RUN   TestGetAllSettings
--- PASS: TestGetAllSettings (0.04s)
=== RUN   TestGetMaskedAPIKeys
--- PASS: TestGetMaskedAPIKeys (0.04s)
=== RUN   TestGetMaskedAPIKeys_Empty
--- PASS: TestGetMaskedAPIKeys_Empty (0.05s)
=== RUN   TestCalculatePassPercentages
=== RUN   TestCalculatePassPercentages/empty_results
=== RUN   TestCalculatePassPercentages/all_zeros
=== RUN   TestCalculatePassPercentages/all_100s
=== RUN   TestCalculatePassPercentages/mixed_scores
=== RUN   TestCalculatePassPercentages/multiple_models
--- PASS: TestCalculatePassPercentages (0.00s)
    --- PASS: TestCalculatePassPercentages/empty_results (0.00s)
    --- PASS: TestCalculatePassPercentages/all_zeros (0.00s)
    --- PASS: TestCalculatePassPercentages/all_100s (0.00s)
    --- PASS: TestCalculatePassPercentages/mixed_scores (0.00s)
    --- PASS: TestCalculatePassPercentages/multiple_models (0.00s)
=== RUN   TestCalculatePassPercentages_ZeroPrompts
--- PASS: TestCalculatePassPercentages_ZeroPrompts (0.00s)
=== RUN   TestPromptsToStringArray
=== RUN   TestPromptsToStringArray/empty_prompts
=== RUN   TestPromptsToStringArray/single_prompt
=== RUN   TestPromptsToStringArray/multiple_prompts
=== RUN   TestPromptsToStringArray/prompts_with_solutions_and_profiles
--- PASS: TestPromptsToStringArray (0.00s)
    --- PASS: TestPromptsToStringArray/empty_prompts (0.00s)
    --- PASS: TestPromptsToStringArray/single_prompt (0.00s)
    --- PASS: TestPromptsToStringArray/multiple_prompts (0.00s)
    --- PASS: TestPromptsToStringArray/prompts_with_solutions_and_profiles (0.00s)
=== RUN   TestProfileGroup_Struct
--- PASS: TestProfileGroup_Struct (0.00s)
=== RUN   TestHandleWebSocket_Connection
2025/12/25 11:00:00 Handling websocket connection
2025/12/25 11:00:00 Closing websocket connection
--- PASS: TestHandleWebSocket_Connection (0.04s)
=== RUN   TestHandleWebSocket_UpgradeError
2025/12/25 11:00:00 Handling websocket connection
2025/12/25 11:00:00 Error upgrading connection: websocket: the client is not using the websocket protocol: 'upgrade' token not found in 'Connection' header
--- PASS: TestHandleWebSocket_UpgradeError (0.00s)
=== RUN   TestHandleWebSocket_CloseConnection
2025/12/25 11:00:00 Handling websocket connection
2025/12/25 11:00:00 Closing websocket connection
--- PASS: TestHandleWebSocket_CloseConnection (0.14s)
=== RUN   TestHandleWebSocket_InvalidJSONMessage
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Error unmarshalling message: unexpected end of JSON input
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestHandleWebSocket_InvalidJSONMessage (0.05s)
=== RUN   TestHandleWebSocket_UnexpectedCloseErrorBranch
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Websocket error: websocket: close 1000 (normal)
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestHandleWebSocket_UnexpectedCloseErrorBranch (0.15s)
=== RUN   TestHandleWebSocket_UpdatePromptsOrder
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Invalid index in order
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestHandleWebSocket_UpdatePromptsOrder (0.13s)
=== RUN   TestHandleWebSocket_UnknownMessageType
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Unknown message type: unknown_type
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestHandleWebSocket_UnknownMessageType (0.10s)
=== RUN   TestBroadcastResults_NoClients
2025/12/25 11:00:01 BroadcastResults results: map[]
2025/12/25 11:00:01 Broadcasting data - Models: []
--- PASS: TestBroadcastResults_NoClients (0.04s)
=== RUN   TestBroadcastResults_WithClient
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 BroadcastResults results: map[]
2025/12/25 11:00:01 Broadcasting data - Models: []
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastResults_WithClient (0.04s)
=== RUN   TestBroadcastMessage_MarshalErrorCleansUpClient
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Error broadcasting message: json: unsupported type: chan int
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastMessage_MarshalErrorCleansUpClient (0.04s)
=== RUN   TestBroadcastResults_UncategorizedStartColAfterProfile
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 BroadcastResults results: map[Model A:{[100 80]}]
2025/12/25 11:00:01 Broadcasting data - Models: [Model A]
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastResults_UncategorizedStartColAfterProfile (0.06s)
=== RUN   TestBroadcastResults_WriteJSONErrorCleansUpClient
2025/12/25 11:00:01 BroadcastResults results: map[Model A:{[100]}]
2025/12/25 11:00:01 Broadcasting data - Models: [Model A]
2025/12/25 11:00:01 Error broadcasting message: write tcp 127.0.0.1:63495->127.0.0.1:63496: use of closed network connection
--- PASS: TestBroadcastResults_WriteJSONErrorCleansUpClient (0.06s)
=== RUN   TestBroadcastEvaluationProgress
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastEvaluationProgress (0.05s)
=== RUN   TestBroadcastEvaluationCompleted
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastEvaluationCompleted (0.03s)
=== RUN   TestBroadcastEvaluationFailed
2025/12/25 11:00:01 BroadcastResults results: map[]
2025/12/25 11:00:01 Broadcasting data - Models: []
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastEvaluationFailed (0.05s)
=== RUN   TestBroadcastCostAlert
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastCostAlert (0.04s)
=== RUN   TestBroadcastMessage_WriteJSONError
2025/12/25 11:00:01 Handling websocket connection
2025/12/25 11:00:01 Closing websocket connection
--- PASS: TestBroadcastMessage_WriteJSONError (0.24s)
=== RUN   TestBroadcastMessage_ClientCleanupOnError
2025/12/25 11:00:02 Handling websocket connection
2025/12/25 11:00:02 Handling websocket connection
2025/12/25 11:00:02 Closing websocket connection
2025/12/25 11:00:02 BroadcastResults results: map[]
2025/12/25 11:00:02 Broadcasting data - Models: []
2025/12/25 11:00:02 Closing websocket connection
--- PASS: TestBroadcastMessage_ClientCleanupOnError (0.24s)
=== RUN   TestReadProfileSuite_ErrorBranches
--- PASS: TestReadProfileSuite_ErrorBranches (0.05s)
=== RUN   TestWriteProfileSuite_ErrorBranches
=== RUN   TestWriteProfileSuite_ErrorBranches/duplicate_profile_name_fails_insert
=== RUN   TestWriteProfileSuite_ErrorBranches/missing_profiles_table_fails_delete
=== RUN   TestWriteProfileSuite_ErrorBranches/closed_database_fails_GetSuiteID
--- PASS: TestWriteProfileSuite_ErrorBranches (0.12s)
    --- PASS: TestWriteProfileSuite_ErrorBranches/duplicate_profile_name_fails_insert (0.03s)
    --- PASS: TestWriteProfileSuite_ErrorBranches/missing_profiles_table_fails_delete (0.04s)
    --- PASS: TestWriteProfileSuite_ErrorBranches/closed_database_fails_GetSuiteID (0.04s)
=== RUN   TestReadResults_ErrorBranches
=== RUN   TestReadResults_ErrorBranches/suite_id_query_error_returns_empty_map
2025/12/25 11:00:02 Error getting current suite name: no such table: suites
2025/12/25 11:00:02 Error getting suite ID: no such table: suites
=== RUN   TestReadResults_ErrorBranches/prompt_count_query_error_returns_empty_map
2025/12/25 11:00:02 Error counting prompts: no such table: prompts
=== RUN   TestReadResults_ErrorBranches/model_query_error_returns_empty_map
2025/12/25 11:00:02 Error querying models: no such table: models
=== RUN   TestReadResults_ErrorBranches/model_scan_error_is_skipped
2025/12/25 11:00:02 Error scanning model: sql: Scan error on column index 0, name "id": converting driver.Value type string ("bad") to a int: invalid syntax
=== RUN   TestReadResults_ErrorBranches/score_query_error_is_skipped
2025/12/25 11:00:02 Error querying scores: no such table: scores
=== RUN   TestReadResults_ErrorBranches/score_scan_error_leaves_default_score
2025/12/25 11:00:02 Error scanning score: sql: Scan error on column index 1, name "score": converting driver.Value type string ("bad") to a int: invalid syntax
--- PASS: TestReadResults_ErrorBranches (0.28s)
    --- PASS: TestReadResults_ErrorBranches/suite_id_query_error_returns_empty_map (0.04s)
    --- PASS: TestReadResults_ErrorBranches/prompt_count_query_error_returns_empty_map (0.04s)
    --- PASS: TestReadResults_ErrorBranches/model_query_error_returns_empty_map (0.05s)
    --- PASS: TestReadResults_ErrorBranches/model_scan_error_is_skipped (0.04s)
    --- PASS: TestReadResults_ErrorBranches/score_query_error_is_skipped (0.05s)
    --- PASS: TestReadResults_ErrorBranches/score_scan_error_leaves_default_score (0.05s)
=== RUN   TestReadPromptSuite_ErrorBranches
=== RUN   TestReadPromptSuite_ErrorBranches/scan_error_returns_error
=== RUN   TestReadPromptSuite_ErrorBranches/duplicate_prompt_text_is_skipped
2025/12/25 11:00:02 Warning: Skipped duplicate prompt with text: dup
--- PASS: TestReadPromptSuite_ErrorBranches (0.08s)
    --- PASS: TestReadPromptSuite_ErrorBranches/scan_error_returns_error (0.04s)
    --- PASS: TestReadPromptSuite_ErrorBranches/duplicate_prompt_text_is_skipped (0.04s)
=== RUN   TestWritePromptSuite_ErrorBranches
=== RUN   TestWritePromptSuite_ErrorBranches/closed_database_fails_GetSuiteID
=== RUN   TestWritePromptSuite_ErrorBranches/missing_prompts_table_fails_delete
=== RUN   TestWritePromptSuite_ErrorBranches/profile_lookup_error_returns_error
=== RUN   TestWritePromptSuite_ErrorBranches/duplicate_prompt_text_fails_insert
--- PASS: TestWritePromptSuite_ErrorBranches (0.17s)
    --- PASS: TestWritePromptSuite_ErrorBranches/closed_database_fails_GetSuiteID (0.05s)
    --- PASS: TestWritePromptSuite_ErrorBranches/missing_prompts_table_fails_delete (0.04s)
    --- PASS: TestWritePromptSuite_ErrorBranches/profile_lookup_error_returns_error (0.05s)
    --- PASS: TestWritePromptSuite_ErrorBranches/duplicate_prompt_text_fails_insert (0.04s)
=== RUN   TestGetCurrentSuiteName_DefaultFallback_UpdateError_ReturnsEmpty
2025/12/25 11:00:03 Error setting default suite as current: nope
--- PASS: TestGetCurrentSuiteName_DefaultFallback_UpdateError_ReturnsEmpty (0.03s)
=== RUN   TestWriteResults_ErrorBranches
=== RUN   TestWriteResults_ErrorBranches/closed_database_fails_GetSuiteID
=== RUN   TestWriteResults_ErrorBranches/missing_prompts_table_fails_prompt_query
=== RUN   TestWriteResults_ErrorBranches/prompt_id_scan_error_returns_error
=== RUN   TestWriteResults_ErrorBranches/missing_models_table_fails_model_name_query
=== RUN   TestWriteResults_ErrorBranches/model_name_scan_error_returns_error
=== RUN   TestWriteResults_ErrorBranches/delete_model_failure_returns_error
=== RUN   TestWriteResults_ErrorBranches/missing_scores_table_fails_delete_scores
=== RUN   TestWriteResults_ErrorBranches/model_insert_error_returns_error
=== RUN   TestWriteResults_ErrorBranches/score_insert_error_returns_error
--- PASS: TestWriteResults_ErrorBranches (0.33s)
    --- PASS: TestWriteResults_ErrorBranches/closed_database_fails_GetSuiteID (0.03s)
    --- PASS: TestWriteResults_ErrorBranches/missing_prompts_table_fails_prompt_query (0.05s)
    --- PASS: TestWriteResults_ErrorBranches/prompt_id_scan_error_returns_error (0.04s)
    --- PASS: TestWriteResults_ErrorBranches/missing_models_table_fails_model_name_query (0.03s)
    --- PASS: TestWriteResults_ErrorBranches/model_name_scan_error_returns_error (0.03s)
    --- PASS: TestWriteResults_ErrorBranches/delete_model_failure_returns_error (0.04s)
    --- PASS: TestWriteResults_ErrorBranches/missing_scores_table_fails_delete_scores (0.04s)
    --- PASS: TestWriteResults_ErrorBranches/model_insert_error_returns_error (0.03s)
    --- PASS: TestWriteResults_ErrorBranches/score_insert_error_returns_error (0.03s)
=== RUN   TestUpdatePromptsOrder_ErrorBranches
=== RUN   TestUpdatePromptsOrder_ErrorBranches/GetCurrentSuiteID_error_returns_early
2025/12/25 11:00:03 Error getting current suite name: sql: database is closed
2025/12/25 11:00:03 Error getting current suite ID: sql: database is closed
=== RUN   TestUpdatePromptsOrder_ErrorBranches/query_prompts_error_returns_early
2025/12/25 11:00:03 Error querying prompts: no such table: prompts
=== RUN   TestUpdatePromptsOrder_ErrorBranches/scan_prompt_id_error_returns_early
2025/12/25 11:00:03 Error scanning prompt ID: sql: Scan error on column index 0, name "id": converting driver.Value type string ("bad") to a int: invalid syntax
=== RUN   TestUpdatePromptsOrder_ErrorBranches/update_error_returns_early
2025/12/25 11:00:03 Error updating prompt order: nope
--- PASS: TestUpdatePromptsOrder_ErrorBranches (0.15s)
    --- PASS: TestUpdatePromptsOrder_ErrorBranches/GetCurrentSuiteID_error_returns_early (0.04s)
    --- PASS: TestUpdatePromptsOrder_ErrorBranches/query_prompts_error_returns_early (0.04s)
    --- PASS: TestUpdatePromptsOrder_ErrorBranches/scan_prompt_id_error_returns_early (0.03s)
    --- PASS: TestUpdatePromptsOrder_ErrorBranches/update_error_returns_early (0.05s)
=== RUN   TestStateErrorPaths_NoUnexpectedPanics
--- PASS: TestStateErrorPaths_NoUnexpectedPanics (0.00s)
=== RUN   TestWriteProfileSuite_PrepareError_ReturnsError
--- PASS: TestWriteProfileSuite_PrepareError_ReturnsError (0.02s)
=== RUN   TestWritePromptSuite_PrepareError_ReturnsError
--- PASS: TestWritePromptSuite_PrepareError_ReturnsError (0.04s)
=== RUN   TestReadProfileSuite
--- PASS: TestReadProfileSuite (0.04s)
=== RUN   TestWriteProfileSuite
--- PASS: TestWriteProfileSuite (0.04s)
=== RUN   TestWriteProfileSuite_Overwrite
--- PASS: TestWriteProfileSuite_Overwrite (0.04s)
=== RUN   TestReadPromptSuite
--- PASS: TestReadPromptSuite (0.04s)
=== RUN   TestWritePromptSuite
--- PASS: TestWritePromptSuite (0.04s)
=== RUN   TestWritePromptSuite_WithProfile
--- PASS: TestWritePromptSuite_WithProfile (0.05s)
=== RUN   TestReadResults_Empty
--- PASS: TestReadResults_Empty (0.04s)
=== RUN   TestWriteResults
--- PASS: TestWriteResults (0.05s)
=== RUN   TestGetCurrentSuiteName
--- PASS: TestGetCurrentSuiteName (0.04s)
=== RUN   TestGetCurrentSuiteName_AfterSwitch
--- PASS: TestGetCurrentSuiteName_AfterSwitch (0.04s)
=== RUN   TestGetCurrentSuiteName_NoCurrentSuite
--- PASS: TestGetCurrentSuiteName_NoCurrentSuite (0.04s)
=== RUN   TestGetCurrentSuiteName_QueryError
2025/12/25 11:00:04 Error getting current suite name: no such table: suites
--- PASS: TestGetCurrentSuiteName_QueryError (0.03s)
=== RUN   TestSuiteExists
--- PASS: TestSuiteExists (0.04s)
=== RUN   TestListPromptSuites
--- PASS: TestListPromptSuites (0.04s)
=== RUN   TestMigrateResults
=== RUN   TestMigrateResults/empty_map
=== RUN   TestMigrateResults/valid_scores
=== RUN   TestMigrateResults/nil_scores_converted_to_empty
--- PASS: TestMigrateResults (0.04s)
    --- PASS: TestMigrateResults/empty_map (0.00s)
    --- PASS: TestMigrateResults/valid_scores (0.00s)
    --- PASS: TestMigrateResults/nil_scores_converted_to_empty (0.00s)
=== RUN   TestUpdatePromptsOrder
2025/12/25 11:00:04 Prompts order updated successfully
2025/12/25 11:00:04 BroadcastResults results: map[]
2025/12/25 11:00:04 Broadcasting data - Models: []
--- PASS: TestUpdatePromptsOrder (0.04s)
=== RUN   TestReadProfiles
--- PASS: TestReadProfiles (0.05s)
=== RUN   TestWriteProfiles
--- PASS: TestWriteProfiles (0.05s)
=== RUN   TestReadPrompts
--- PASS: TestReadPrompts (0.09s)
=== RUN   TestWritePrompts
--- PASS: TestWritePrompts (0.36s)
=== RUN   TestDeletePromptSuite
--- PASS: TestDeletePromptSuite (0.22s)
=== RUN   TestDeleteProfileSuite
--- PASS: TestDeleteProfileSuite (0.04s)
=== RUN   TestListProfileSuites
--- PASS: TestListProfileSuites (0.03s)
=== RUN   TestRenameSuiteFiles
--- PASS: TestRenameSuiteFiles (0.04s)
=== RUN   TestMin
--- PASS: TestMin (0.00s)
=== RUN   TestWritePromptSuite_WithSolution
--- PASS: TestWritePromptSuite_WithSolution (0.04s)
=== RUN   TestWriteResults_OverwriteExisting
--- PASS: TestWriteResults_OverwriteExisting (0.04s)
=== RUN   TestMigrateResults_ScoreClamping
--- PASS: TestMigrateResults_ScoreClamping (0.04s)
=== RUN   TestUpdatePromptsOrder_InvalidOrder
2025/12/25 11:00:05 Invalid index in order
--- PASS: TestUpdatePromptsOrder_InvalidOrder (0.04s)
=== RUN   TestUpdatePromptsOrder_EmptyOrder
2025/12/25 11:00:05 Invalid order length
--- PASS: TestUpdatePromptsOrder_EmptyOrder (0.04s)
=== RUN   TestUpdatePromptsOrder_ValidReorder
2025/12/25 11:00:05 Prompts order updated successfully
2025/12/25 11:00:05 BroadcastResults results: map[]
2025/12/25 11:00:05 Broadcasting data - Models: []
--- PASS: TestUpdatePromptsOrder_ValidReorder (0.04s)
=== RUN   TestUpdatePromptsOrder_NegativeIndex
2025/12/25 11:00:05 Invalid index in order
--- PASS: TestUpdatePromptsOrder_NegativeIndex (0.04s)
=== RUN   TestUpdatePromptsOrder_GetSuiteIDError
2025/12/25 11:00:05 Error getting current suite name: no such table: suites
2025/12/25 11:00:05 Invalid order length
--- PASS: TestUpdatePromptsOrder_GetSuiteIDError (0.04s)
=== RUN   TestUpdatePromptsOrder_TransactionBeginError
2025/12/25 11:00:05 Error getting current suite name: sql: database is closed
2025/12/25 11:00:05 Invalid order length
--- PASS: TestUpdatePromptsOrder_TransactionBeginError (0.03s)
=== RUN   TestUpdatePromptsOrder_QueryError
2025/12/25 11:00:05 Invalid order length
--- PASS: TestUpdatePromptsOrder_QueryError (0.04s)
=== RUN   TestWriteResults_NewModel
--- PASS: TestWriteResults_NewModel (0.06s)
=== RUN   TestWriteResults_UpdateExistingModel
--- PASS: TestWriteResults_UpdateExistingModel (0.05s)
=== RUN   TestReadResults_ScoreMismatch
--- PASS: TestReadResults_ScoreMismatch (0.05s)
=== RUN   TestGetMaskedAPIKeys_AllProviders
--- PASS: TestGetMaskedAPIKeys_AllProviders (0.03s)
=== RUN   TestUpdatePromptsOrder_WithReordering
2025/12/25 11:00:05 Prompts order updated successfully
2025/12/25 11:00:05 BroadcastResults results: map[]
2025/12/25 11:00:05 Broadcasting data - Models: []
--- PASS: TestUpdatePromptsOrder_WithReordering (0.04s)
=== RUN   TestWriteResults_MultipleModels
--- PASS: TestWriteResults_MultipleModels (0.05s)
=== RUN   TestWriteResults_UpdateExisting
--- PASS: TestWriteResults_UpdateExisting (0.04s)
=== RUN   TestWriteProfileSuite_Success
--- PASS: TestWriteProfileSuite_Success (0.04s)
=== RUN   TestReadResults_WithMissingScores
--- PASS: TestReadResults_WithMissingScores (0.04s)
=== RUN   TestMigrateResults_EmptyResults
--- PASS: TestMigrateResults_EmptyResults (0.04s)
=== RUN   TestMigrateResults_OutOfRangeScores
--- PASS: TestMigrateResults_OutOfRangeScores (0.05s)
=== RUN   TestReadPromptSuite_NonExistent
--- PASS: TestReadPromptSuite_NonExistent (0.04s)
=== RUN   TestGetCurrentSuiteName_DefaultFallback
--- PASS: TestGetCurrentSuiteName_DefaultFallback (0.04s)
=== RUN   TestReadResults_EmptySuite
--- PASS: TestReadResults_EmptySuite (0.05s)
=== RUN   TestReadResults_WithPromptsNoScores
--- PASS: TestReadResults_WithPromptsNoScores (0.04s)
=== RUN   TestWriteResults_WithMultipleModels
--- PASS: TestWriteResults_WithMultipleModels (0.04s)
=== RUN   TestWritePromptSuite_UpdatesExisting
--- PASS: TestWritePromptSuite_UpdatesExisting (0.04s)
=== RUN   TestReadResults_AfterWriteResults
--- PASS: TestReadResults_AfterWriteResults (0.04s)
=== RUN   TestWriteResults_DeleteModel
--- PASS: TestWriteResults_DeleteModel (0.04s)
=== RUN   TestMigrateResults_NilScores
--- PASS: TestMigrateResults_NilScores (0.04s)
=== RUN   TestMigrateResults_ShorterScores
--- PASS: TestMigrateResults_ShorterScores (0.04s)
=== RUN   TestWriteResults_EmptyScores
--- PASS: TestWriteResults_EmptyScores (0.07s)
=== RUN   TestWriteResults_CreateNewModel
--- PASS: TestWriteResults_CreateNewModel (0.05s)
=== RUN   TestRenderTemplate_MissingRequiredField
--- PASS: TestRenderTemplate_MissingRequiredField (0.00s)
=== RUN   TestRenderTemplate_EmptyData
--- PASS: TestRenderTemplate_EmptyData (0.00s)
=== RUN   TestRenderTemplate_NilData
--- PASS: TestRenderTemplate_NilData (0.00s)
=== RUN   TestRenderTemplate_LargeDataStructure
--- PASS: TestRenderTemplate_LargeDataStructure (0.04s)
=== RUN   TestFileRenderer_MalformedTemplate
--- PASS: TestFileRenderer_MalformedTemplate (0.00s)
=== RUN   TestRenderTemplate_WithFuncMap
--- PASS: TestRenderTemplate_WithFuncMap (0.00s)
=== RUN   TestRenderTemplate_NestedData
--- PASS: TestRenderTemplate_NestedData (0.00s)
=== RUN   TestRenderTemplate_SpecialCharactersInData
--- PASS: TestRenderTemplate_SpecialCharactersInData (0.00s)
=== RUN   TestRenderTemplate_UnicodeData
--- PASS: TestRenderTemplate_UnicodeData (0.00s)
=== RUN   TestFileRenderer_Render_ExecuteError
    template_integration_test.go:276: Template execution did not return error as expected for nil data
--- PASS: TestFileRenderer_Render_ExecuteError (0.00s)
=== RUN   TestRenderTemplate_ZeroValues
--- PASS: TestRenderTemplate_ZeroValues (0.00s)
=== RUN   TestRenderTemplate_MultipleTemplates
--- PASS: TestRenderTemplate_MultipleTemplates (0.00s)
=== RUN   TestSetCurrentSuite_BeginError_ReturnsError
--- PASS: TestSetCurrentSuite_BeginError_ReturnsError (0.05s)
=== RUN   TestDeleteSuite_BeginError_ReturnsError
--- PASS: TestDeleteSuite_BeginError_ReturnsError (0.04s)
=== RUN   TestWriteProfileSuite_BeginError_ReturnsError
--- PASS: TestWriteProfileSuite_BeginError_ReturnsError (0.04s)
=== RUN   TestWritePromptSuite_BeginError_ReturnsError
--- PASS: TestWritePromptSuite_BeginError_ReturnsError (0.03s)
=== RUN   TestWriteResults_BeginError_ReturnsError
--- PASS: TestWriteResults_BeginError_ReturnsError (0.04s)
=== RUN   TestReadPromptSuite_RowsErr_ReturnsError
--- PASS: TestReadPromptSuite_RowsErr_ReturnsError (0.04s)
=== RUN   TestWriteResults_PromptRowsErr_ReturnsError
--- PASS: TestWriteResults_PromptRowsErr_ReturnsError (0.03s)
=== RUN   TestUpdatePromptsOrder_BeginError_DoesNotChangeOrder
2025/12/25 11:00:06 Error beginning transaction: begin failed
--- PASS: TestUpdatePromptsOrder_BeginError_DoesNotChangeOrder (0.04s)
=== RUN   TestUpdatePromptsOrder_CommitError_DoesNotChangeOrder
2025/12/25 11:00:06 Error committing transaction: commit failed
--- PASS: TestUpdatePromptsOrder_CommitError_DoesNotChangeOrder (0.05s)
=== RUN   TestGetProfileGroups_Empty
--- PASS: TestGetProfileGroups_Empty (0.00s)
=== RUN   TestGetProfileGroups_SingleProfile
--- PASS: TestGetProfileGroups_SingleProfile (0.00s)
=== RUN   TestGetProfileGroups_MultipleProfiles
--- PASS: TestGetProfileGroups_MultipleProfiles (0.00s)
=== RUN   TestGetProfileGroups_OrderByFirstAppearance
--- PASS: TestGetProfileGroups_OrderByFirstAppearance (0.00s)
=== RUN   TestGetProfileGroups_UnusedProfiles
--- PASS: TestGetProfileGroups_UnusedProfiles (0.00s)
=== RUN   TestGetProfileGroups_EmptyProfileInPrompt
--- PASS: TestGetProfileGroups_EmptyProfileInPrompt (0.00s)
=== RUN   TestGetProfileGroups_GoldenAngleColors
--- PASS: TestGetProfileGroups_GoldenAngleColors (0.00s)
=== RUN   TestGetProfileGroups_StartEndColInitialized
--- PASS: TestGetProfileGroups_StartEndColInitialized (0.00s)
=== RUN   TestGetProfileGroups_IDsAreSequential
--- PASS: TestGetProfileGroups_IDsAreSequential (0.00s)
=== RUN   TestGetProfileGroups_ProfileMapPointsToGroups
--- PASS: TestGetProfileGroups_ProfileMapPointsToGroups (0.00s)
=== RUN   TestGetProfileGroups_SpecialCharacters
--- PASS: TestGetProfileGroups_SpecialCharacters (0.00s)
=== RUN   TestGetProfileGroups_UnicodeProfiles
--- PASS: TestGetProfileGroups_UnicodeProfiles (0.00s)
=== RUN   TestWriteResults_PrepareScoreInsertError_ReturnsError
--- PASS: TestWriteResults_PrepareScoreInsertError_ReturnsError (0.04s)
=== RUN   TestWriteResults_QueryModelError_ReturnsError
--- PASS: TestWriteResults_QueryModelError_ReturnsError (0.03s)
PASS
coverage: 99.9% of statements
ok  	llm-tournament/middleware	(cached)	coverage: 99.9% of statements
=== RUN   TestFuncMap_EqString
--- PASS: TestFuncMap_EqString (0.00s)
=== RUN   TestFuncMap_DoesNotShadowEqForStrings
--- PASS: TestFuncMap_DoesNotShadowEqForStrings (0.00s)
=== RUN   TestMarkdown_XSS_ScriptTag
--- PASS: TestMarkdown_XSS_ScriptTag (0.00s)
=== RUN   TestMarkdown_XSS_EventHandler
=== RUN   TestMarkdown_XSS_EventHandler/img_onerror
=== RUN   TestMarkdown_XSS_EventHandler/div_onclick
=== RUN   TestMarkdown_XSS_EventHandler/a_onload
=== RUN   TestMarkdown_XSS_EventHandler/body_onload
--- PASS: TestMarkdown_XSS_EventHandler (0.01s)
    --- PASS: TestMarkdown_XSS_EventHandler/img_onerror (0.00s)
    --- PASS: TestMarkdown_XSS_EventHandler/div_onclick (0.00s)
    --- PASS: TestMarkdown_XSS_EventHandler/a_onload (0.00s)
    --- PASS: TestMarkdown_XSS_EventHandler/body_onload (0.00s)
=== RUN   TestMarkdown_XSS_JavaScriptURL
=== RUN   TestMarkdown_XSS_JavaScriptURL/markdown_link
=== RUN   TestMarkdown_XSS_JavaScriptURL/html_a_tag
=== RUN   TestMarkdown_XSS_JavaScriptURL/data_url
=== RUN   TestMarkdown_XSS_JavaScriptURL/vbscript_url
--- PASS: TestMarkdown_XSS_JavaScriptURL (0.01s)
    --- PASS: TestMarkdown_XSS_JavaScriptURL/markdown_link (0.00s)
    --- PASS: TestMarkdown_XSS_JavaScriptURL/html_a_tag (0.00s)
    --- PASS: TestMarkdown_XSS_JavaScriptURL/data_url (0.00s)
    --- PASS: TestMarkdown_XSS_JavaScriptURL/vbscript_url (0.00s)
=== RUN   TestMarkdown_HTMLInjection
=== RUN   TestMarkdown_HTMLInjection/iframe
=== RUN   TestMarkdown_HTMLInjection/object
=== RUN   TestMarkdown_HTMLInjection/embed
=== RUN   TestMarkdown_HTMLInjection/form
=== RUN   TestMarkdown_HTMLInjection/base
=== RUN   TestMarkdown_HTMLInjection/meta
--- PASS: TestMarkdown_HTMLInjection (0.01s)
    --- PASS: TestMarkdown_HTMLInjection/iframe (0.00s)
    --- PASS: TestMarkdown_HTMLInjection/object (0.00s)
    --- PASS: TestMarkdown_HTMLInjection/embed (0.00s)
    --- PASS: TestMarkdown_HTMLInjection/form (0.00s)
    --- PASS: TestMarkdown_HTMLInjection/base (0.00s)
    --- PASS: TestMarkdown_HTMLInjection/meta (0.00s)
=== RUN   TestMarkdown_SpecialCharacters
--- PASS: TestMarkdown_SpecialCharacters (0.00s)
=== RUN   TestMarkdown_EmptyInput
--- PASS: TestMarkdown_EmptyInput (0.00s)
=== RUN   TestMarkdown_WhitespaceOnly
=== RUN   TestMarkdown_WhitespaceOnly/spaces
=== RUN   TestMarkdown_WhitespaceOnly/newlines
=== RUN   TestMarkdown_WhitespaceOnly/tabs
=== RUN   TestMarkdown_WhitespaceOnly/mixed
--- PASS: TestMarkdown_WhitespaceOnly (0.01s)
    --- PASS: TestMarkdown_WhitespaceOnly/spaces (0.00s)
    --- PASS: TestMarkdown_WhitespaceOnly/newlines (0.00s)
    --- PASS: TestMarkdown_WhitespaceOnly/tabs (0.00s)
    --- PASS: TestMarkdown_WhitespaceOnly/mixed (0.00s)
=== RUN   TestMarkdown_VeryLargeInput
--- PASS: TestMarkdown_VeryLargeInput (0.11s)
=== RUN   TestMarkdown_InvalidUTF8
=== RUN   TestMarkdown_InvalidUTF8/invalid_bytes
=== RUN   TestMarkdown_InvalidUTF8/truncated_sequence
=== RUN   TestMarkdown_InvalidUTF8/overlong_encoding
--- PASS: TestMarkdown_InvalidUTF8 (0.01s)
    --- PASS: TestMarkdown_InvalidUTF8/invalid_bytes (0.00s)
    --- PASS: TestMarkdown_InvalidUTF8/truncated_sequence (0.00s)
    --- PASS: TestMarkdown_InvalidUTF8/overlong_encoding (0.00s)
=== RUN   TestMarkdown_NestedXSS
=== RUN   TestMarkdown_NestedXSS/nested_script
=== RUN   TestMarkdown_NestedXSS/encoded_script
=== RUN   TestMarkdown_NestedXSS/mixed_case
=== RUN   TestMarkdown_NestedXSS/null_byte
--- PASS: TestMarkdown_NestedXSS (0.01s)
    --- PASS: TestMarkdown_NestedXSS/nested_script (0.00s)
    --- PASS: TestMarkdown_NestedXSS/encoded_script (0.00s)
    --- PASS: TestMarkdown_NestedXSS/mixed_case (0.00s)
    --- PASS: TestMarkdown_NestedXSS/null_byte (0.00s)
=== RUN   TestMarkdown_MarkdownFeatures
=== RUN   TestMarkdown_MarkdownFeatures/bold
=== RUN   TestMarkdown_MarkdownFeatures/italic
=== RUN   TestMarkdown_MarkdownFeatures/link
=== RUN   TestMarkdown_MarkdownFeatures/heading
=== RUN   TestMarkdown_MarkdownFeatures/list
=== RUN   TestMarkdown_MarkdownFeatures/code
--- PASS: TestMarkdown_MarkdownFeatures (0.01s)
    --- PASS: TestMarkdown_MarkdownFeatures/bold (0.00s)
    --- PASS: TestMarkdown_MarkdownFeatures/italic (0.00s)
    --- PASS: TestMarkdown_MarkdownFeatures/link (0.00s)
    --- PASS: TestMarkdown_MarkdownFeatures/heading (0.00s)
    --- PASS: TestMarkdown_MarkdownFeatures/list (0.00s)
    --- PASS: TestMarkdown_MarkdownFeatures/code (0.00s)
=== RUN   TestMarkdown_AllowedHTMLElements
=== RUN   TestMarkdown_AllowedHTMLElements/paragraph
=== RUN   TestMarkdown_AllowedHTMLElements/strong
=== RUN   TestMarkdown_AllowedHTMLElements/em
=== RUN   TestMarkdown_AllowedHTMLElements/ul_list
=== RUN   TestMarkdown_AllowedHTMLElements/ol_list
=== RUN   TestMarkdown_AllowedHTMLElements/blockquote
=== RUN   TestMarkdown_AllowedHTMLElements/code_block
--- PASS: TestMarkdown_AllowedHTMLElements (0.01s)
    --- PASS: TestMarkdown_AllowedHTMLElements/paragraph (0.00s)
    --- PASS: TestMarkdown_AllowedHTMLElements/strong (0.00s)
    --- PASS: TestMarkdown_AllowedHTMLElements/em (0.00s)
    --- PASS: TestMarkdown_AllowedHTMLElements/ul_list (0.00s)
    --- PASS: TestMarkdown_AllowedHTMLElements/ol_list (0.00s)
    --- PASS: TestMarkdown_AllowedHTMLElements/blockquote (0.00s)
    --- PASS: TestMarkdown_AllowedHTMLElements/code_block (0.00s)
=== RUN   TestFuncMap_Inc
--- PASS: TestFuncMap_Inc (0.00s)
=== RUN   TestFuncMap_Add
--- PASS: TestFuncMap_Add (0.00s)
=== RUN   TestFuncMap_Sub
--- PASS: TestFuncMap_Sub (0.00s)
=== RUN   TestFuncMap_Atoi
--- PASS: TestFuncMap_Atoi (0.00s)
=== RUN   TestFuncMap_Markdown
--- PASS: TestFuncMap_Markdown (0.01s)
=== RUN   TestFuncMap_ToLower
--- PASS: TestFuncMap_ToLower (0.00s)
=== RUN   TestFuncMap_Contains
--- PASS: TestFuncMap_Contains (0.00s)
=== RUN   TestFuncMap_JSON
=== RUN   TestFuncMap_JSON/simple_map
=== RUN   TestFuncMap_JSON/array
=== RUN   TestFuncMap_JSON/nil
=== RUN   TestFuncMap_JSON/unmarshalable_value
--- PASS: TestFuncMap_JSON (0.00s)
    --- PASS: TestFuncMap_JSON/simple_map (0.00s)
    --- PASS: TestFuncMap_JSON/array (0.00s)
    --- PASS: TestFuncMap_JSON/nil (0.00s)
    --- PASS: TestFuncMap_JSON/unmarshalable_value (0.00s)
=== RUN   TestScoreOptions
--- PASS: TestScoreOptions (0.00s)
=== RUN   TestPageNameConstants
=== RUN   TestPageNameConstants/PageNameResults
=== RUN   TestPageNameConstants/PageNamePrompts
=== RUN   TestPageNameConstants/PageNameProfiles
=== RUN   TestPageNameConstants/PageNameEvaluate
--- PASS: TestPageNameConstants (0.00s)
    --- PASS: TestPageNameConstants/PageNameResults (0.00s)
    --- PASS: TestPageNameConstants/PageNamePrompts (0.00s)
    --- PASS: TestPageNameConstants/PageNameProfiles (0.00s)
    --- PASS: TestPageNameConstants/PageNameEvaluate (0.00s)
=== RUN   TestFuncMapCompleteness
--- PASS: TestFuncMapCompleteness (0.00s)
PASS
coverage: 100.0% of statements
ok  	llm-tournament/templates	(cached)	coverage: 100.0% of statements
=== RUN   TestSetupTestDB_ErrorPaths
=== RUN   TestSetupTestDB_ErrorPaths/open_error
=== RUN   TestSetupTestDB_ErrorPaths/enable_foreign_keys_error
=== RUN   TestSetupTestDB_ErrorPaths/create_schema_error
--- PASS: TestSetupTestDB_ErrorPaths (0.00s)
    --- PASS: TestSetupTestDB_ErrorPaths/open_error (0.00s)
    --- PASS: TestSetupTestDB_ErrorPaths/enable_foreign_keys_error (0.00s)
    --- PASS: TestSetupTestDB_ErrorPaths/create_schema_error (0.00s)
=== RUN   TestDBHelper_ErrorPaths
=== RUN   TestDBHelper_ErrorPaths/CreateTestSuite_exec_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestSuite_lastInsertID_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestProfile_exec_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestProfile_lastInsertID_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestPrompt_exec_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestPrompt_lastInsertID_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestModel_exec_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestModel_lastInsertID_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestScore_exec_error
=== RUN   TestDBHelper_ErrorPaths/GetDefaultSuiteID_scan_error
=== RUN   TestDBHelper_ErrorPaths/SetCurrentSuite_clear_error
=== RUN   TestDBHelper_ErrorPaths/SetCurrentSuite_set_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestSetting_exec_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestEvaluationJob_exec_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestEvaluationJob_lastInsertID_error
=== RUN   TestDBHelper_ErrorPaths/CreateTestModelResponse_exec_error
--- PASS: TestDBHelper_ErrorPaths (0.01s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestSuite_exec_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestSuite_lastInsertID_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestProfile_exec_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestProfile_lastInsertID_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestPrompt_exec_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestPrompt_lastInsertID_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestModel_exec_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestModel_lastInsertID_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestScore_exec_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/GetDefaultSuiteID_scan_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/SetCurrentSuite_clear_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/SetCurrentSuite_set_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestSetting_exec_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestEvaluationJob_exec_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestEvaluationJob_lastInsertID_error (0.00s)
    --- PASS: TestDBHelper_ErrorPaths/CreateTestModelResponse_exec_error (0.00s)
=== RUN   TestMockDataStore_SetCurrentSuite_UpdatesCurrentSuite
--- PASS: TestMockDataStore_SetCurrentSuite_UpdatesCurrentSuite (0.00s)
=== RUN   TestValidEncryptionKey_HasExpectedFormat
--- PASS: TestValidEncryptionKey_HasExpectedFormat (0.00s)
=== RUN   TestSetupEncryptionKey_RestoresOriginalValue
--- PASS: TestSetupEncryptionKey_RestoresOriginalValue (0.00s)
=== RUN   TestSetupEncryptionKey_UnsetsOnCleanupWhenOriginallyUnset
--- PASS: TestSetupEncryptionKey_UnsetsOnCleanupWhenOriginallyUnset (0.00s)
=== RUN   TestClearEncryptionKey_RestoresOriginalValue
--- PASS: TestClearEncryptionKey_RestoresOriginalValue (0.00s)
=== RUN   TestClearEncryptionKey_StaysUnsetWhenOriginallyUnset
--- PASS: TestClearEncryptionKey_StaysUnsetWhenOriginallyUnset (0.00s)
=== RUN   TestSetupTestDB_CreatesSchemaAndAllowsInserts
--- PASS: TestSetupTestDB_CreatesSchemaAndAllowsInserts (0.00s)
=== RUN   TestMockRenderer_Render_RecordsCallAndWritesContent
--- PASS: TestMockRenderer_Render_RecordsCallAndWritesContent (0.00s)
=== RUN   TestMockRenderer_Render_ReturnsErrorWithoutWriting
--- PASS: TestMockRenderer_Render_ReturnsErrorWithoutWriting (0.00s)
=== RUN   TestMockRenderer_RenderTemplateSimple_DelegatesToRender
--- PASS: TestMockRenderer_RenderTemplateSimple_DelegatesToRender (0.00s)
=== RUN   TestMockDataStore_DefaultBehaviorAndState
--- PASS: TestMockDataStore_DefaultBehaviorAndState (0.00s)
=== RUN   TestMockDataStore_ErrorsWhenConfigured
--- PASS: TestMockDataStore_ErrorsWhenConfigured (0.00s)
=== RUN   TestMockDataStore_FunctionHooksTakePrecedence
--- PASS: TestMockDataStore_FunctionHooksTakePrecedence (0.00s)
PASS
coverage: 99.6% of statements
ok  	llm-tournament/testutil	(cached)	coverage: 99.6% of statements
=== RUN   TestRouter_UnknownRoute_RedirectsToPrompts
2025/12/25 12:21:23 redirecting to /prompts from /does-not-exist
--- PASS: TestRouter_UnknownRoute_RedirectsToPrompts (0.00s)
=== RUN   TestRouter_KnownRoute_DoesNotRedirect
2025/12/25 12:21:23 Handling import error page
2025/12/25 12:21:23 Error parsing template: open templates/import_error.html: The system cannot find the path specified.
--- PASS: TestRouter_KnownRoute_DoesNotRedirect (0.00s)
=== RUN   TestRegisterRoutes_InstallsRouterOnMux
2025/12/25 12:21:23 redirecting to /prompts from /unknown
--- PASS: TestRegisterRoutes_InstallsRouterOnMux (0.00s)
=== RUN   TestRun_MissingDBFlag_Returns1
2025/12/25 12:21:23 missing required -db
--- PASS: TestRun_MissingDBFlag_Returns1 (0.00s)
=== RUN   TestRun_FlagParseError_Returns2
--- PASS: TestRun_FlagParseError_Returns2 (0.00s)
=== RUN   TestRun_Success_PrintsURL_RegistersShutdown_AndClosesDB
--- PASS: TestRun_Success_PrintsURL_RegistersShutdown_AndClosesDB (0.00s)
=== RUN   TestRun_ListenError_Returns1
2025/12/25 12:21:23 listen: listen failed
--- PASS: TestRun_ListenError_Returns1 (0.00s)
=== RUN   TestRun_ServerError_Returns1
2025/12/25 12:21:23 server error: boom
--- PASS: TestRun_ServerError_Returns1 (0.00s)
=== RUN   TestDefaultRunDeps_PopulatesDependencies
--- PASS: TestDefaultRunDeps_PopulatesDependencies (0.00s)
=== RUN   TestRun_StdoutNil_UsesDiscardAndReturnsMissingDBError
2025/12/25 12:21:23 missing required -db
--- PASS: TestRun_StdoutNil_UsesDiscardAndReturnsMissingDBError (0.00s)
=== RUN   TestRun_InitDBError_Returns1
2025/12/25 12:21:23 init db: boom
--- PASS: TestRun_InitDBError_Returns1 (0.00s)
=== RUN   TestRun_SeedDemoDataError_Returns1_AndClosesDB
2025/12/25 12:21:23 seed demo data: seed failed
--- PASS: TestRun_SeedDemoDataError_Returns1_AndClosesDB (0.00s)
=== RUN   TestRun_NilSignalChannel_ExitsOnErrServerClosed
--- PASS: TestRun_NilSignalChannel_ExitsOnErrServerClosed (0.00s)
=== RUN   TestDefaultRunDeps_ServeDelegatesToHTTPServer
--- PASS: TestDefaultRunDeps_ServeDelegatesToHTTPServer (0.00s)
=== RUN   TestMain_UsesOsExit
--- PASS: TestMain_UsesOsExit (0.00s)
=== RUN   TestSeedDemoData_CreatesCoreRecords
--- PASS: TestSeedDemoData_CreatesCoreRecords (0.07s)
=== RUN   TestEnsureDemoEncryptionKey_DoesNotOverrideExistingValue
--- PASS: TestEnsureDemoEncryptionKey_DoesNotOverrideExistingValue (0.00s)
=== RUN   TestSeedDemoData_ReturnsError_WhenDBClosed
--- PASS: TestSeedDemoData_ReturnsError_WhenDBClosed (0.05s)
=== RUN   TestSeedDemoData_ReturnsError_WhenWriteProfilesFails
--- PASS: TestSeedDemoData_ReturnsError_WhenWriteProfilesFails (0.05s)
=== RUN   TestSeedDemoData_ReturnsError_WhenWritePromptsFails
--- PASS: TestSeedDemoData_ReturnsError_WhenWritePromptsFails (0.03s)
=== RUN   TestSeedDemoData_ReturnsError_WhenWriteResultsFails
--- PASS: TestSeedDemoData_ReturnsError_WhenWriteResultsFails (0.04s)
PASS
coverage: 100.0% of statements
ok  	llm-tournament/tools/screenshots/cmd/demo-server	(cached)	coverage: 100.0% of statements
