=== RUN   TestDefaultConfig
--- PASS: TestDefaultConfig (0.00s)
=== RUN   TestParseFlags_Defaults
--- PASS: TestParseFlags_Defaults (0.00s)
=== RUN   TestParseFlags_CustomDBPath
--- PASS: TestParseFlags_CustomDBPath (0.00s)
=== RUN   TestParseFlags_MigrateResults
--- PASS: TestParseFlags_MigrateResults (0.00s)
=== RUN   TestParseFlags_AllOptions
--- PASS: TestParseFlags_AllOptions (0.00s)
=== RUN   TestParseFlags_InvalidFlag
flag provided but not defined: -invalid-flag
Usage of llm-tournament:
  -db string
    	SQLite database path (default "data/tournament.db")
  -migrate-results
    	Migrate existing results to new scoring system
--- PASS: TestParseFlags_InvalidFlag (0.00s)
=== RUN   TestInitDB
--- PASS: TestInitDB (0.06s)
=== RUN   TestInitDB_InvalidPath
--- PASS: TestInitDB_InvalidPath (0.03s)
=== RUN   TestCloseDB
--- PASS: TestCloseDB (0.05s)
=== RUN   TestGetDB
--- PASS: TestGetDB (0.06s)
=== RUN   TestInitEvaluator
2025/12/15 19:23:42 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:42 Worker 0 started
2025/12/15 19:23:42 Worker 1 started
2025/12/15 19:23:42 Worker 2 started
--- PASS: TestInitEvaluator (0.06s)
=== RUN   TestRunMigration
--- PASS: TestRunMigration (0.05s)
=== RUN   TestRunMigration_WithData
--- PASS: TestRunMigration_WithData (0.06s)
=== RUN   TestRoutes
--- PASS: TestRoutes (0.00s)
=== RUN   TestSetupRoutes
--- PASS: TestSetupRoutes (0.00s)
=== RUN   TestNewServeMux
--- PASS: TestNewServeMux (0.00s)
=== RUN   TestApp_Router_KnownRoute
2025/12/15 19:23:42 Request received: GET /prompts
2025/12/15 19:23:42 Handling prompt list page
2025/12/15 19:23:42 Prompt list page rendered successfully
--- PASS: TestApp_Router_KnownRoute (0.05s)
=== RUN   TestApp_Router_UnknownRoute
2025/12/15 19:23:42 Request received: GET /unknown/route/that/does/not/exist
2025/12/15 19:23:42 Redirecting to /prompts from /unknown/route/that/does/not/exist
--- PASS: TestApp_Router_UnknownRoute (0.05s)
=== RUN   TestNewServeMux_Integration
2025/12/15 19:23:42 Handling results page
2025/12/15 19:23:42 Calculating total scores for each model
2025/12/15 19:23:42 Sorting models by score in descending order
2025/12/15 19:23:42 Sorted models: [Model1 Model2]
2025/12/15 19:23:42 Results page rendered successfully
--- PASS: TestNewServeMux_Integration (0.06s)
=== RUN   TestSetupRoutes_WithMux
2025/12/15 19:23:42 Request received: GET /
2025/12/15 19:23:42 Redirecting to /prompts from /
    app_test.go:376: GET / -> 303
2025/12/15 19:23:42 Handling prompt list page
2025/12/15 19:23:42 Prompt list page rendered successfully
    app_test.go:376: GET /prompts -> 200
2025/12/15 19:23:42 Handling results page
2025/12/15 19:23:42 Calculating total scores for each model
2025/12/15 19:23:42 Sorting models by score in descending order
2025/12/15 19:23:42 Sorted models: [Model1 Model2]
2025/12/15 19:23:42 Results page rendered successfully
    app_test.go:376: GET /results -> 200
2025/12/15 19:23:42 Request received: GET /unknown-route
2025/12/15 19:23:42 Redirecting to /prompts from /unknown-route
    app_test.go:376: GET /unknown-route -> 303
--- PASS: TestSetupRoutes_WithMux (0.05s)
=== RUN   TestRoutes_ReturnsMap
--- PASS: TestRoutes_ReturnsMap (0.00s)
=== RUN   TestNewServeMux_AllRoutesRegistered
2025/12/15 19:23:42 Handling prompt list page
2025/12/15 19:23:42 Prompt list page rendered successfully
2025/12/15 19:23:42 Handling results page
2025/12/15 19:23:42 Calculating total scores for each model
2025/12/15 19:23:42 Sorting models by score in descending order
2025/12/15 19:23:42 Sorted models: [Model1 Model2]
2025/12/15 19:23:42 Results page rendered successfully
2025/12/15 19:23:42 Handling settings page
--- PASS: TestNewServeMux_AllRoutesRegistered (0.06s)
=== RUN   TestRunMigration_EmptyDB
--- PASS: TestRunMigration_EmptyDB (0.06s)
=== RUN   TestConfig_DefaultValues
--- PASS: TestConfig_DefaultValues (0.00s)
=== RUN   TestParseFlags_EmptyArgs
--- PASS: TestParseFlags_EmptyArgs (0.00s)
=== RUN   TestParseFlags_UnknownFlag
flag provided but not defined: -unknown-flag-xyz
Usage of llm-tournament:
  -db string
    	SQLite database path (default "data/tournament.db")
  -migrate-results
    	Migrate existing results to new scoring system
--- PASS: TestParseFlags_UnknownFlag (0.00s)
=== RUN   TestParseFlags_CombinedFlags
--- PASS: TestParseFlags_CombinedFlags (0.00s)
=== RUN   TestInitDB_AndGetDB
--- PASS: TestInitDB_AndGetDB (0.05s)
=== RUN   TestRoutes_AllRoutesDefined
--- PASS: TestRoutes_AllRoutesDefined (0.00s)
=== RUN   TestRouter_KnownRoute
2025/12/15 19:23:43 Request received: GET /prompts
2025/12/15 19:23:43 Handling prompt list page
2025/12/15 19:23:43 Prompt list page rendered successfully
--- PASS: TestRouter_KnownRoute (0.05s)
=== RUN   TestRouter_UnknownRoute_Redirects
2025/12/15 19:23:43 Request received: GET /unknown_route
2025/12/15 19:23:43 Redirecting to /prompts from /unknown_route
--- PASS: TestRouter_UnknownRoute_Redirects (0.05s)
=== RUN   TestRouter_RootRoute_Redirects
2025/12/15 19:23:43 Request received: GET /
2025/12/15 19:23:43 Redirecting to /prompts from /
--- PASS: TestRouter_RootRoute_Redirects (0.05s)
=== RUN   TestRoutesCount
--- PASS: TestRoutesCount (0.00s)
=== RUN   TestRouter_AllRoutesRespond
=== RUN   TestRouter_AllRoutesRespond//prompts
2025/12/15 19:23:43 Request received: GET /prompts
2025/12/15 19:23:43 Handling prompt list page
2025/12/15 19:23:43 Prompt list page rendered successfully
=== RUN   TestRouter_AllRoutesRespond//results
2025/12/15 19:23:43 Request received: GET /results
2025/12/15 19:23:43 Handling results page
2025/12/15 19:23:43 Calculating total scores for each model
2025/12/15 19:23:43 Sorting models by score in descending order
2025/12/15 19:23:43 Sorted models: [Model1 Model2]
2025/12/15 19:23:43 Results page rendered successfully
=== RUN   TestRouter_AllRoutesRespond//profiles
2025/12/15 19:23:43 Request received: GET /profiles
2025/12/15 19:23:43 Handling profiles page
2025/12/15 19:23:43 Profiles page rendered successfully
=== RUN   TestRouter_AllRoutesRespond//stats
2025/12/15 19:23:43 Request received: GET /stats
2025/12/15 19:23:43 Handling stats page
=== RUN   TestRouter_AllRoutesRespond//settings
2025/12/15 19:23:43 Request received: GET /settings
2025/12/15 19:23:43 Handling settings page
=== RUN   TestRouter_AllRoutesRespond//add_model
2025/12/15 19:23:43 Request received: GET /add_model
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model name cannot be empty
=== RUN   TestRouter_AllRoutesRespond//add_prompt
2025/12/15 19:23:43 Request received: GET /add_prompt
2025/12/15 19:23:43 Handling add prompt
2025/12/15 19:23:43 Prompt text cannot be empty
=== RUN   TestRouter_AllRoutesRespond//add_profile
2025/12/15 19:23:43 Request received: GET /add_profile
2025/12/15 19:23:43 Handling add profile
2025/12/15 19:23:43 Profile name cannot be empty
--- PASS: TestRouter_AllRoutesRespond (0.06s)
    --- PASS: TestRouter_AllRoutesRespond//prompts (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//results (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//profiles (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//stats (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//settings (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//add_model (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//add_prompt (0.00s)
    --- PASS: TestRouter_AllRoutesRespond//add_profile (0.00s)
=== RUN   TestRouter_POSTRoutes
=== RUN   TestRouter_POSTRoutes//evaluate/all_GET
2025/12/15 19:23:43 Request received: GET /evaluate/all
=== RUN   TestRouter_POSTRoutes//evaluate/model_GET
2025/12/15 19:23:43 Request received: GET /evaluate/model
=== RUN   TestRouter_POSTRoutes//evaluate/prompt_GET
2025/12/15 19:23:43 Request received: GET /evaluate/prompt
=== RUN   TestRouter_POSTRoutes//evaluation/cancel_GET
2025/12/15 19:23:43 Request received: GET /evaluation/cancel
=== RUN   TestRouter_POSTRoutes//settings/update_GET
2025/12/15 19:23:43 Request received: GET /settings/update
--- PASS: TestRouter_POSTRoutes (0.05s)
    --- PASS: TestRouter_POSTRoutes//evaluate/all_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//evaluate/model_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//evaluate/prompt_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//evaluation/cancel_GET (0.00s)
    --- PASS: TestRouter_POSTRoutes//settings/update_GET (0.00s)
=== RUN   TestRouter_WithQueryParams
2025/12/15 19:23:43 Request received: GET /edit_model
2025/12/15 19:23:43 Handling edit model
--- PASS: TestRouter_WithQueryParams (0.05s)
=== RUN   TestRouter_StaticPaths
2025/12/15 19:23:43 Request received: GET /templates/nonexistent.css
2025/12/15 19:23:43 Redirecting to /prompts from /templates/nonexistent.css
--- PASS: TestRouter_StaticPaths (0.05s)
PASS
coverage: 52.5% of statements
ok  	llm-tournament	1.857s	coverage: 52.5% of statements
=== RUN   TestCalculateConsensusScore
=== RUN   TestCalculateConsensusScore/empty_results
=== RUN   TestCalculateConsensusScore/single_result
=== RUN   TestCalculateConsensusScore/two_equal_weights
=== RUN   TestCalculateConsensusScore/weighted_average_favoring_higher_confidence
=== RUN   TestCalculateConsensusScore/three_judges
=== RUN   TestCalculateConsensusScore/all_same_score
--- PASS: TestCalculateConsensusScore (0.00s)
    --- PASS: TestCalculateConsensusScore/empty_results (0.00s)
    --- PASS: TestCalculateConsensusScore/single_result (0.00s)
    --- PASS: TestCalculateConsensusScore/two_equal_weights (0.00s)
    --- PASS: TestCalculateConsensusScore/weighted_average_favoring_higher_confidence (0.00s)
    --- PASS: TestCalculateConsensusScore/three_judges (0.00s)
    --- PASS: TestCalculateConsensusScore/all_same_score (0.00s)
=== RUN   TestCalculateConsensusScore_ZeroConfidence
--- PASS: TestCalculateConsensusScore_ZeroConfidence (0.00s)
=== RUN   TestCalculateConsensusScore_AllInvalid
=== RUN   TestCalculateConsensusScore_AllInvalid/negative_confidence
=== RUN   TestCalculateConsensusScore_AllInvalid/zero_confidence
=== RUN   TestCalculateConsensusScore_AllInvalid/score_out_of_range_negative
=== RUN   TestCalculateConsensusScore_AllInvalid/score_out_of_range_high
=== RUN   TestCalculateConsensusScore_AllInvalid/mixed_invalid
--- PASS: TestCalculateConsensusScore_AllInvalid (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/negative_confidence (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/zero_confidence (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/score_out_of_range_negative (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/score_out_of_range_high (0.00s)
    --- PASS: TestCalculateConsensusScore_AllInvalid/mixed_invalid (0.00s)
=== RUN   TestCalculateConsensusScore_MixedValidInvalid
--- PASS: TestCalculateConsensusScore_MixedValidInvalid (0.00s)
=== RUN   TestCalculateConsensusScore_BoundaryScores
=== RUN   TestCalculateConsensusScore_BoundaryScores/score_exactly_0
=== RUN   TestCalculateConsensusScore_BoundaryScores/score_exactly_100
=== RUN   TestCalculateConsensusScore_BoundaryScores/mix_of_boundary_scores
--- PASS: TestCalculateConsensusScore_BoundaryScores (0.00s)
    --- PASS: TestCalculateConsensusScore_BoundaryScores/score_exactly_0 (0.00s)
    --- PASS: TestCalculateConsensusScore_BoundaryScores/score_exactly_100 (0.00s)
    --- PASS: TestCalculateConsensusScore_BoundaryScores/mix_of_boundary_scores (0.00s)
=== RUN   TestRoundToValidScore
=== RUN   TestRoundToValidScore/#00
=== RUN   TestRoundToValidScore/#01
=== RUN   TestRoundToValidScore/#02
=== RUN   TestRoundToValidScore/#03
=== RUN   TestRoundToValidScore/#04
=== RUN   TestRoundToValidScore/#05
=== RUN   TestRoundToValidScore/#06
=== RUN   TestRoundToValidScore/#07
=== RUN   TestRoundToValidScore/#08
=== RUN   TestRoundToValidScore/#09
=== RUN   TestRoundToValidScore/#10
=== RUN   TestRoundToValidScore/#11
=== RUN   TestRoundToValidScore/#12
=== RUN   TestRoundToValidScore/#13
=== RUN   TestRoundToValidScore/#14
=== RUN   TestRoundToValidScore/#15
=== RUN   TestRoundToValidScore/#16
=== RUN   TestRoundToValidScore/#17
=== RUN   TestRoundToValidScore/#18
=== RUN   TestRoundToValidScore/#19
=== RUN   TestRoundToValidScore/#20
=== RUN   TestRoundToValidScore/#21
=== RUN   TestRoundToValidScore/#22
=== RUN   TestRoundToValidScore/#23
=== RUN   TestRoundToValidScore/#24
=== RUN   TestRoundToValidScore/#25
=== RUN   TestRoundToValidScore/#26
=== RUN   TestRoundToValidScore/#27
=== RUN   TestRoundToValidScore/#28
=== RUN   TestRoundToValidScore/#29
=== RUN   TestRoundToValidScore/#30
=== RUN   TestRoundToValidScore/#31
=== RUN   TestRoundToValidScore/#32
=== RUN   TestRoundToValidScore/#33
=== RUN   TestRoundToValidScore/#34
--- PASS: TestRoundToValidScore (0.00s)
    --- PASS: TestRoundToValidScore/#00 (0.00s)
    --- PASS: TestRoundToValidScore/#01 (0.00s)
    --- PASS: TestRoundToValidScore/#02 (0.00s)
    --- PASS: TestRoundToValidScore/#03 (0.00s)
    --- PASS: TestRoundToValidScore/#04 (0.00s)
    --- PASS: TestRoundToValidScore/#05 (0.00s)
    --- PASS: TestRoundToValidScore/#06 (0.00s)
    --- PASS: TestRoundToValidScore/#07 (0.00s)
    --- PASS: TestRoundToValidScore/#08 (0.00s)
    --- PASS: TestRoundToValidScore/#09 (0.00s)
    --- PASS: TestRoundToValidScore/#10 (0.00s)
    --- PASS: TestRoundToValidScore/#11 (0.00s)
    --- PASS: TestRoundToValidScore/#12 (0.00s)
    --- PASS: TestRoundToValidScore/#13 (0.00s)
    --- PASS: TestRoundToValidScore/#14 (0.00s)
    --- PASS: TestRoundToValidScore/#15 (0.00s)
    --- PASS: TestRoundToValidScore/#16 (0.00s)
    --- PASS: TestRoundToValidScore/#17 (0.00s)
    --- PASS: TestRoundToValidScore/#18 (0.00s)
    --- PASS: TestRoundToValidScore/#19 (0.00s)
    --- PASS: TestRoundToValidScore/#20 (0.00s)
    --- PASS: TestRoundToValidScore/#21 (0.00s)
    --- PASS: TestRoundToValidScore/#22 (0.00s)
    --- PASS: TestRoundToValidScore/#23 (0.00s)
    --- PASS: TestRoundToValidScore/#24 (0.00s)
    --- PASS: TestRoundToValidScore/#25 (0.00s)
    --- PASS: TestRoundToValidScore/#26 (0.00s)
    --- PASS: TestRoundToValidScore/#27 (0.00s)
    --- PASS: TestRoundToValidScore/#28 (0.00s)
    --- PASS: TestRoundToValidScore/#29 (0.00s)
    --- PASS: TestRoundToValidScore/#30 (0.00s)
    --- PASS: TestRoundToValidScore/#31 (0.00s)
    --- PASS: TestRoundToValidScore/#32 (0.00s)
    --- PASS: TestRoundToValidScore/#33 (0.00s)
    --- PASS: TestRoundToValidScore/#34 (0.00s)
=== RUN   TestRoundToValidScore_AllValues
--- PASS: TestRoundToValidScore_AllValues (0.00s)
=== RUN   TestAbs
=== RUN   TestAbs/#00
=== RUN   TestAbs/#01
=== RUN   TestAbs/#02
=== RUN   TestAbs/#03
=== RUN   TestAbs/#04
=== RUN   TestAbs/#05
--- PASS: TestAbs (0.00s)
    --- PASS: TestAbs/#00 (0.00s)
    --- PASS: TestAbs/#01 (0.00s)
    --- PASS: TestAbs/#02 (0.00s)
    --- PASS: TestAbs/#03 (0.00s)
    --- PASS: TestAbs/#04 (0.00s)
    --- PASS: TestAbs/#05 (0.00s)
=== RUN   TestNewEvaluator
--- PASS: TestNewEvaluator (0.00s)
=== RUN   TestEvaluator_Judges
2025/12/15 19:23:42 Worker 0 started
2025/12/15 19:23:42 Worker 1 started
2025/12/15 19:23:42 Worker 2 started
2025/12/15 19:23:42 Worker 1 started
2025/12/15 19:23:42 Worker 2 started
2025/12/15 19:23:42 Worker 0 started
--- PASS: TestEvaluator_Judges (0.00s)
=== RUN   TestEvaluateAll_NoData
--- PASS: TestEvaluateAll_NoData (0.00s)
=== RUN   TestEvaluateAll_WithData
--- PASS: TestEvaluateAll_WithData (0.00s)
=== RUN   TestEvaluateModel
--- PASS: TestEvaluateModel (0.00s)
=== RUN   TestEvaluateModel_NotFound
--- PASS: TestEvaluateModel_NotFound (0.00s)
=== RUN   TestEvaluatePrompt
--- PASS: TestEvaluatePrompt (0.00s)
=== RUN   TestEvaluatePrompt_NotFound
--- PASS: TestEvaluatePrompt_NotFound (0.00s)
=== RUN   TestGetJobStatus
--- PASS: TestGetJobStatus (0.00s)
=== RUN   TestCancelJob
--- PASS: TestCancelJob (0.00s)
=== RUN   TestProcessJob_UnknownType
2025/12/15 19:23:42 Processing job 0 (type: unknown)
--- PASS: TestProcessJob_UnknownType (0.00s)
=== RUN   TestProcessAllJob_NoData
--- PASS: TestProcessAllJob_NoData (0.00s)
=== RUN   TestProcessModelJob_NoPrompts
--- PASS: TestProcessModelJob_NoPrompts (0.00s)
=== RUN   TestProcessPromptJob_NoModels
--- PASS: TestProcessPromptJob_NoModels (0.00s)
=== RUN   TestGetAPIKeys
--- PASS: TestGetAPIKeys (0.00s)
=== RUN   TestEvaluateModelPromptPair_NoResponse
2025/12/15 19:23:42 No response for model 1, prompt 1 - skipping
--- PASS: TestEvaluateModelPromptPair_NoResponse (0.00s)
=== RUN   TestEvaluateModelPromptPair_PromptNotFound
--- PASS: TestEvaluateModelPromptPair_PromptNotFound (0.00s)
=== RUN   TestProcessAllJob_Cancellation
--- PASS: TestProcessAllJob_Cancellation (0.00s)
=== RUN   TestProcessModelJob_Cancellation
--- PASS: TestProcessModelJob_Cancellation (0.00s)
=== RUN   TestProcessPromptJob_Cancellation
--- PASS: TestProcessPromptJob_Cancellation (0.00s)
=== RUN   TestEvaluateModelPromptPair_WithMockServer_Success
--- PASS: TestEvaluateModelPromptPair_WithMockServer_Success (0.00s)
=== RUN   TestEvaluateModelPromptPair_WithMockServer_HTTPError
--- PASS: TestEvaluateModelPromptPair_WithMockServer_HTTPError (0.00s)
=== RUN   TestEvaluateModelPromptPair_WithMockServer_LowScore
--- PASS: TestEvaluateModelPromptPair_WithMockServer_LowScore (0.00s)
=== RUN   TestProcessAllJob_WithMockServer
--- PASS: TestProcessAllJob_WithMockServer (0.00s)
=== RUN   TestProcessModelJob_WithMockServer
--- PASS: TestProcessModelJob_WithMockServer (0.00s)
=== RUN   TestProcessPromptJob_WithMockServer
--- PASS: TestProcessPromptJob_WithMockServer (0.00s)
=== RUN   TestWorker_ProcessesJob
2025/12/15 19:23:42 Worker 0 started
2025/12/15 19:23:42 Worker 0 processing job 1
2025/12/15 19:23:42 Processing job 1 (type: all)
2025/12/15 19:23:42 Job 1 completed successfully
--- PASS: TestWorker_ProcessesJob (0.10s)
=== RUN   TestWorker_FailedJob
2025/12/15 19:23:42 Worker 0 started
2025/12/15 19:23:42 Worker 0 processing job 1
2025/12/15 19:23:42 Processing job 1 (type: invalid_type)
2025/12/15 19:23:42 Job 1 failed: unknown job type: invalid_type
--- PASS: TestWorker_FailedJob (0.10s)
=== RUN   TestJobQueue_UpdateJobProgress_FromEvaluator
--- PASS: TestJobQueue_UpdateJobProgress_FromEvaluator (0.00s)
=== RUN   TestJobQueue_CancelRunningJob
--- PASS: TestJobQueue_CancelRunningJob (0.00s)
=== RUN   TestLiteLLMClient_Evaluate_Success
--- PASS: TestLiteLLMClient_Evaluate_Success (0.00s)
=== RUN   TestLiteLLMClient_Evaluate_Error
--- PASS: TestLiteLLMClient_Evaluate_Error (0.00s)
=== RUN   TestLiteLLMClient_HealthCheck
--- PASS: TestLiteLLMClient_HealthCheck (0.00s)
=== RUN   TestLiteLLMClient_HealthCheck_Unhealthy
--- PASS: TestLiteLLMClient_HealthCheck_Unhealthy (0.00s)
=== RUN   TestLiteLLMClient_EstimateCost
--- PASS: TestLiteLLMClient_EstimateCost (0.00s)
=== RUN   TestLiteLLMClient_EstimateCost_Error
--- PASS: TestLiteLLMClient_EstimateCost_Error (0.00s)
=== RUN   TestResumePendingJobs_NoPendingJobs
--- PASS: TestResumePendingJobs_NoPendingJobs (0.05s)
=== RUN   TestResumePendingJobs_WithPendingJobs
2025/12/15 19:23:42 Resumed 2 pending jobs
--- PASS: TestResumePendingJobs_WithPendingJobs (0.00s)
=== RUN   TestResumePendingJobs_ScanError
2025/12/15 19:23:42 Failed to scan job: sql: Scan error on column index 3, name "target_id": converting NULL to int is unsupported
--- PASS: TestResumePendingJobs_ScanError (0.00s)
=== RUN   TestNewJobQueueWithDelay
2025/12/15 19:23:42 Worker 0 started
--- PASS: TestNewJobQueueWithDelay (0.00s)
=== RUN   TestJobQueue_GetJob_NotFound_WithSetup
--- PASS: TestJobQueue_GetJob_NotFound_WithSetup (0.00s)
=== RUN   TestJobQueue_Enqueue_DBError
--- PASS: TestJobQueue_Enqueue_DBError (0.00s)
=== RUN   TestWorker_UpdateJobError
2025/12/15 19:23:42 Worker 0 started
2025/12/15 19:23:42 Worker 0 processing job -1
2025/12/15 19:23:42 Processing job -1 (type: all)
2025/12/15 19:23:42 Job -1 completed successfully
2025/12/15 19:23:42 Failed to query pending jobs: sql: database is closed
--- PASS: TestWorker_UpdateJobError (0.10s)
=== RUN   TestProcessJob_UnknownJobType
2025/12/15 19:23:42 Processing job 1 (type: unknown_type)
--- PASS: TestProcessJob_UnknownJobType (0.00s)
=== RUN   TestProcessJob_AllType
2025/12/15 19:23:42 Processing job 1 (type: all)
--- PASS: TestProcessJob_AllType (0.00s)
=== RUN   TestProcessJob_ModelType
2025/12/15 19:23:42 Processing job 1 (type: model)
--- PASS: TestProcessJob_ModelType (0.00s)
=== RUN   TestProcessJob_PromptType
2025/12/15 19:23:42 Processing job 1 (type: prompt)
--- PASS: TestProcessJob_PromptType (0.00s)
=== RUN   TestNewJobQueue
2025/12/15 19:23:42 Worker 0 started
--- PASS: TestNewJobQueue (0.00s)
=== RUN   TestJobQueue_Enqueue
--- PASS: TestJobQueue_Enqueue (0.00s)
=== RUN   TestJobQueue_GetJob
--- PASS: TestJobQueue_GetJob (0.00s)
=== RUN   TestJobQueue_GetJob_NotFound
--- PASS: TestJobQueue_GetJob_NotFound (0.00s)
=== RUN   TestJobQueue_CancelJob_NotRunning
--- PASS: TestJobQueue_CancelJob_NotRunning (0.00s)
=== RUN   TestJobQueue_CancelJob_Running
--- PASS: TestJobQueue_CancelJob_Running (0.00s)
=== RUN   TestJobQueue_UpdateJobProgress
--- PASS: TestJobQueue_UpdateJobProgress (0.00s)
=== RUN   TestEvaluationJob_Fields
--- PASS: TestEvaluationJob_Fields (0.00s)
=== RUN   TestJobQueue_MultipleJobs
--- PASS: TestJobQueue_MultipleJobs (0.00s)
=== RUN   TestJobQueue_UpdateJob_StatusChange
--- PASS: TestJobQueue_UpdateJob_StatusChange (0.00s)
=== RUN   TestJobQueue_UpdateJob_Completed
--- PASS: TestJobQueue_UpdateJob_Completed (0.00s)
=== RUN   TestJobQueue_UpdateJob_WithError
--- PASS: TestJobQueue_UpdateJob_WithError (0.00s)
=== RUN   TestNewLiteLLMClient
--- PASS: TestNewLiteLLMClient (0.00s)
=== RUN   TestEvaluate_Success
--- PASS: TestEvaluate_Success (0.00s)
=== RUN   TestEvaluate_ServerError
--- PASS: TestEvaluate_ServerError (0.00s)
=== RUN   TestEvaluate_InvalidJSON
--- PASS: TestEvaluate_InvalidJSON (0.00s)
=== RUN   TestEvaluate_ConnectionError
--- PASS: TestEvaluate_ConnectionError (0.00s)
=== RUN   TestEstimateCost_Success
--- PASS: TestEstimateCost_Success (0.00s)
=== RUN   TestEstimateCost_ServerError
--- PASS: TestEstimateCost_ServerError (0.00s)
=== RUN   TestHealthCheck_Success
--- PASS: TestHealthCheck_Success (0.00s)
=== RUN   TestHealthCheck_Unhealthy
--- PASS: TestHealthCheck_Unhealthy (0.00s)
=== RUN   TestHealthCheck_ConnectionError
--- PASS: TestHealthCheck_ConnectionError (0.00s)
=== RUN   TestEvaluate_MultipleJudges
--- PASS: TestEvaluate_MultipleJudges (0.00s)
PASS
coverage: 88.6% of statements
ok  	llm-tournament/evaluator	0.927s	coverage: 88.6% of statements
=== RUN   TestEvaluateAllHandler_MethodNotAllowed
--- PASS: TestEvaluateAllHandler_MethodNotAllowed (0.05s)
=== RUN   TestEvaluateModelHandler_MethodNotAllowed
--- PASS: TestEvaluateModelHandler_MethodNotAllowed (0.05s)
=== RUN   TestEvaluateModelHandler_MissingID
--- PASS: TestEvaluateModelHandler_MissingID (0.05s)
=== RUN   TestEvaluateModelHandler_InvalidID
--- PASS: TestEvaluateModelHandler_InvalidID (0.05s)
=== RUN   TestEvaluatePromptHandler_MethodNotAllowed
--- PASS: TestEvaluatePromptHandler_MethodNotAllowed (0.05s)
=== RUN   TestEvaluatePromptHandler_MissingID
--- PASS: TestEvaluatePromptHandler_MissingID (0.05s)
=== RUN   TestEvaluatePromptHandler_InvalidID
--- PASS: TestEvaluatePromptHandler_InvalidID (0.05s)
=== RUN   TestEvaluationProgressHandler_MissingID
--- PASS: TestEvaluationProgressHandler_MissingID (0.05s)
=== RUN   TestEvaluationProgressHandler_InvalidID
--- PASS: TestEvaluationProgressHandler_InvalidID (0.05s)
=== RUN   TestCancelEvaluationHandler_MethodNotAllowed
--- PASS: TestCancelEvaluationHandler_MethodNotAllowed (0.05s)
=== RUN   TestCancelEvaluationHandler_MissingID
--- PASS: TestCancelEvaluationHandler_MissingID (0.05s)
=== RUN   TestCancelEvaluationHandler_InvalidID
--- PASS: TestCancelEvaluationHandler_InvalidID (0.05s)
=== RUN   TestInitEvaluator
2025/12/15 19:23:42 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:42 Worker 2 started
2025/12/15 19:23:42 Worker 1 started
2025/12/15 19:23:42 Worker 0 started
--- PASS: TestInitEvaluator (0.06s)
=== RUN   TestInitEvaluator_WithCustomURL
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://custom:8001
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 2 started
--- PASS: TestInitEvaluator_WithCustomURL (0.05s)
=== RUN   TestEvaluateAllHandler_WithEvaluator
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 0 processing job 1
2025/12/15 19:23:43 Failed to update job status: sql: database is closed
2025/12/15 19:23:43 Processing job 1 (type: all)
2025/12/15 19:23:43 Job 1 failed: failed to query models: sql: database is closed
2025/12/15 19:23:43 Failed to update job completion: sql: database is closed
--- PASS: TestEvaluateAllHandler_WithEvaluator (0.05s)
=== RUN   TestEvaluateModelHandler_WithEvaluator
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 0 processing job 1
2025/12/15 19:23:43 Failed to update job status: sql: database is closed
2025/12/15 19:23:43 Processing job 1 (type: model)
2025/12/15 19:23:43 Job 1 failed: failed to query prompts: sql: database is closed
2025/12/15 19:23:43 Failed to update job completion: sql: database is closed
--- PASS: TestEvaluateModelHandler_WithEvaluator (0.05s)
=== RUN   TestEvaluatePromptHandler_WithEvaluator
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Worker 1 processing job 1
2025/12/15 19:23:43 Failed to update job status: sql: database is closed
2025/12/15 19:23:43 Processing job 1 (type: prompt)
2025/12/15 19:23:43 Job 1 failed: failed to query models: sql: database is closed
2025/12/15 19:23:43 Failed to update job completion: sql: database is closed
--- PASS: TestEvaluatePromptHandler_WithEvaluator (0.05s)
=== RUN   TestEvaluationProgressHandler_WithValidJob
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 1 started
--- PASS: TestEvaluationProgressHandler_WithValidJob (0.05s)
=== RUN   TestEvaluationProgressHandler_JobNotFound
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Error getting job status: sql: no rows in result set
--- PASS: TestEvaluationProgressHandler_JobNotFound (0.05s)
=== RUN   TestCancelEvaluationHandler_WithValidJob
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Error cancelling job: job 1 not running
--- PASS: TestCancelEvaluationHandler_WithValidJob (0.05s)
=== RUN   TestEvaluateAllHandler_NilEvaluator
--- PASS: TestEvaluateAllHandler_NilEvaluator (0.05s)
=== RUN   TestEvaluateModelHandler_WithInvalidModel
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Error starting model evaluation: failed to get model suite: sql: no rows in result set
--- PASS: TestEvaluateModelHandler_WithInvalidModel (0.05s)
=== RUN   TestEvaluatePromptHandler_WithInvalidPrompt
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Error starting prompt evaluation: failed to get prompt suite: sql: no rows in result set
--- PASS: TestEvaluatePromptHandler_WithInvalidPrompt (0.05s)
=== RUN   TestCancelEvaluationHandler_WithNonExistentJob
2025/12/15 19:23:43 Worker 0 started
2025/12/15 19:23:43 Worker 1 started
2025/12/15 19:23:43 Worker 2 started
2025/12/15 19:23:43 Evaluator initialized with Python service URL: http://localhost:8001
2025/12/15 19:23:43 Error cancelling job: job 99999 not running
--- PASS: TestCancelEvaluationHandler_WithNonExistentJob (0.04s)
=== RUN   TestAddModelHandler_Success
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model added successfully
2025/12/15 19:23:43 BroadcastResults results: map[TestModel:{[]}]
2025/12/15 19:23:43 Broadcasting data - Models: [TestModel]
--- PASS: TestAddModelHandler_Success (0.05s)
=== RUN   TestAddModelHandler_EmptyName
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model name cannot be empty
--- PASS: TestAddModelHandler_EmptyName (0.05s)
=== RUN   TestAddModelHandler_DuplicateModel
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model added successfully
2025/12/15 19:23:43 BroadcastResults results: map[DuplicateModel:{[]}]
2025/12/15 19:23:43 Broadcasting data - Models: [DuplicateModel]
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model added successfully
2025/12/15 19:23:43 BroadcastResults results: map[DuplicateModel:{[]}]
2025/12/15 19:23:43 Broadcasting data - Models: [DuplicateModel]
--- PASS: TestAddModelHandler_DuplicateModel (0.05s)
=== RUN   TestDeleteModelHandler_POST_Success
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model added successfully
2025/12/15 19:23:43 BroadcastResults results: map[ModelToDelete:{[]}]
2025/12/15 19:23:43 Broadcasting data - Models: [ModelToDelete]
2025/12/15 19:23:43 Handling delete model
2025/12/15 19:23:43 BroadcastResults results: map[]
2025/12/15 19:23:43 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestDeleteModelHandler_POST_Success (0.05s)
=== RUN   TestDeleteModelHandler_POST_EmptyName
2025/12/15 19:23:43 Handling delete model
--- PASS: TestDeleteModelHandler_POST_EmptyName (0.05s)
=== RUN   TestDeleteModelHandler_GET_EmptyName
2025/12/15 19:23:43 Handling delete model
--- PASS: TestDeleteModelHandler_GET_EmptyName (0.05s)
=== RUN   TestEditModelHandler_POST_Success
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model added successfully
2025/12/15 19:23:43 BroadcastResults results: map[OldModelName:{[]}]
2025/12/15 19:23:43 Broadcasting data - Models: [OldModelName]
2025/12/15 19:23:43 Handling edit model
2025/12/15 19:23:43 BroadcastResults results: map[NewModelName:{[]}]
2025/12/15 19:23:43 Broadcasting data - Models: [NewModelName]
--- PASS: TestEditModelHandler_POST_Success (0.05s)
=== RUN   TestEditModelHandler_POST_EmptyNewName
2025/12/15 19:23:43 Handling add model
2025/12/15 19:23:43 Model added successfully
2025/12/15 19:23:43 BroadcastResults results: map[ExistingModel:{[]}]
2025/12/15 19:23:43 Broadcasting data - Models: [ExistingModel]
2025/12/15 19:23:43 Handling edit model
--- PASS: TestEditModelHandler_POST_EmptyNewName (0.06s)
=== RUN   TestEditModelHandler_POST_DuplicateName
2025/12/15 19:23:44 Handling add model
2025/12/15 19:23:44 Model added successfully
2025/12/15 19:23:44 BroadcastResults results: map[Model1:{[]}]
2025/12/15 19:23:44 Broadcasting data - Models: [Model1]
2025/12/15 19:23:44 Handling add model
2025/12/15 19:23:44 Model added successfully
2025/12/15 19:23:44 BroadcastResults results: map[Model1:{[]} Model2:{[]}]
2025/12/15 19:23:44 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:44 Handling edit model
--- PASS: TestEditModelHandler_POST_DuplicateName (0.06s)
=== RUN   TestEditModelHandler_GET_MissingModelParam
2025/12/15 19:23:44 Handling edit model
--- PASS: TestEditModelHandler_GET_MissingModelParam (0.04s)
=== RUN   TestDeleteModelHandler_POST_NonExistent
2025/12/15 19:23:44 Handling delete model
2025/12/15 19:23:44 BroadcastResults results: map[]
2025/12/15 19:23:44 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestDeleteModelHandler_POST_NonExistent (0.04s)
=== RUN   TestEditModelHandler_POST_NonExistent
2025/12/15 19:23:44 Handling edit model
2025/12/15 19:23:44 BroadcastResults results: map[NewName:{[]}]
2025/12/15 19:23:44 Broadcasting data - Models: [NewName]
--- PASS: TestEditModelHandler_POST_NonExistent (0.05s)
=== RUN   TestAddModelHandler_WithPrompts
2025/12/15 19:23:44 Handling add model
2025/12/15 19:23:44 Model added successfully
2025/12/15 19:23:44 BroadcastResults results: map[ModelWithScores:{[0 0 0]}]
2025/12/15 19:23:44 Broadcasting data - Models: [ModelWithScores]
--- PASS: TestAddModelHandler_WithPrompts (0.06s)
=== RUN   TestDeleteModelHandler_GET_Success
2025/12/15 19:23:44 Handling delete model
--- PASS: TestDeleteModelHandler_GET_Success (0.04s)
=== RUN   TestAddModel_WriteResultsError
2025/12/15 19:23:44 Handling add model
2025/12/15 19:23:44 Error writing results: database write error
--- PASS: TestAddModel_WriteResultsError (0.00s)
=== RUN   TestEditModel_WriteResultsError
2025/12/15 19:23:44 Handling edit model
2025/12/15 19:23:44 Error writing results: database write error
--- PASS: TestEditModel_WriteResultsError (0.00s)
=== RUN   TestDeleteModel_WriteResultsError
2025/12/15 19:23:44 Handling delete model
2025/12/15 19:23:44 Error writing results: database write error
--- PASS: TestDeleteModel_WriteResultsError (0.00s)
=== RUN   TestEditModelHandler_GET_Success
2025/12/15 19:23:44 Handling edit model
--- PASS: TestEditModelHandler_GET_Success (0.04s)
=== RUN   TestEditModelHandler_GET_RenderError
2025/12/15 19:23:44 Handling edit model
2025/12/15 19:23:44 Error rendering template: open templates/edit_model.html: The system cannot find the path specified.
--- PASS: TestEditModelHandler_GET_RenderError (0.04s)
=== RUN   TestDeleteModelHandler_GET_RenderError
2025/12/15 19:23:44 Handling delete model
2025/12/15 19:23:44 Error rendering template: open templates/delete_model.html: The system cannot find the path specified.
--- PASS: TestDeleteModelHandler_GET_RenderError (0.05s)
=== RUN   TestAddProfileHandler_Success
2025/12/15 19:23:44 Handling add profile
2025/12/15 19:23:44 Profile added successfully
--- PASS: TestAddProfileHandler_Success (0.04s)
=== RUN   TestAddProfileHandler_EmptyName
2025/12/15 19:23:44 Handling add profile
2025/12/15 19:23:44 Profile name cannot be empty
--- PASS: TestAddProfileHandler_EmptyName (0.05s)
=== RUN   TestEditProfileHandler_POST_Success
2025/12/15 19:23:44 Handling add profile
2025/12/15 19:23:44 Profile added successfully
2025/12/15 19:23:44 Handling edit profile
2025/12/15 19:23:44 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_Success (0.04s)
=== RUN   TestEditProfileHandler_POST_EmptyName
2025/12/15 19:23:44 Handling add profile
2025/12/15 19:23:44 Profile added successfully
2025/12/15 19:23:44 Handling edit profile
2025/12/15 19:23:44 Profile name cannot be empty
--- PASS: TestEditProfileHandler_POST_EmptyName (0.04s)
=== RUN   TestEditProfileHandler_POST_InvalidIndex
2025/12/15 19:23:44 Handling edit profile
2025/12/15 19:23:44 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditProfileHandler_POST_InvalidIndex (0.04s)
=== RUN   TestEditProfileHandler_GET_InvalidIndex
2025/12/15 19:23:44 Handling edit profile
2025/12/15 19:23:44 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditProfileHandler_GET_InvalidIndex (0.04s)
=== RUN   TestDeleteProfileHandler_POST_Success
2025/12/15 19:23:44 Handling add profile
2025/12/15 19:23:44 Profile added successfully
2025/12/15 19:23:44 Handling delete profile
2025/12/15 19:23:44 Profile deleted successfully
--- PASS: TestDeleteProfileHandler_POST_Success (0.04s)
=== RUN   TestDeleteProfileHandler_POST_InvalidIndex
2025/12/15 19:23:44 Handling delete profile
2025/12/15 19:23:44 Invalid index: strconv.Atoi: parsing "not_a_number": invalid syntax
--- PASS: TestDeleteProfileHandler_POST_InvalidIndex (0.07s)
=== RUN   TestDeleteProfileHandler_GET_InvalidIndex
2025/12/15 19:23:44 Handling delete profile
2025/12/15 19:23:44 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestDeleteProfileHandler_GET_InvalidIndex (0.32s)
=== RUN   TestResetProfilesHandler_POST
2025/12/15 19:23:45 Handling add profile
2025/12/15 19:23:45 Profile added successfully
2025/12/15 19:23:45 Handling add profile
2025/12/15 19:23:45 Profile added successfully
2025/12/15 19:23:45 Handling reset profiles
2025/12/15 19:23:45 Profiles reset successfully
--- PASS: TestResetProfilesHandler_POST (0.08s)
=== RUN   TestDeleteProfileHandler_POST_OutOfRange
2025/12/15 19:23:45 Handling add profile
2025/12/15 19:23:45 Profile added successfully
2025/12/15 19:23:45 Handling delete profile
2025/12/15 19:23:45 Profile deleted successfully
--- PASS: TestDeleteProfileHandler_POST_OutOfRange (0.05s)
=== RUN   TestProfilesHandler_GET
2025/12/15 19:23:45 Handling profiles page
2025/12/15 19:23:45 Profiles page rendered successfully
--- PASS: TestProfilesHandler_GET (0.05s)
=== RUN   TestResetProfilesHandler_GET
2025/12/15 19:23:45 Handling reset profiles
--- PASS: TestResetProfilesHandler_GET (0.05s)
=== RUN   TestEditProfileHandler_GET_Success
2025/12/15 19:23:45 Handling edit profile
--- PASS: TestEditProfileHandler_GET_Success (0.04s)
=== RUN   TestDeleteProfileHandler_GET_Success
2025/12/15 19:23:45 Handling delete profile
--- PASS: TestDeleteProfileHandler_GET_Success (0.03s)
=== RUN   TestProfilesHandler_GET_WithSearch
2025/12/15 19:23:45 Handling profiles page
2025/12/15 19:23:45 Profiles page rendered successfully
--- PASS: TestProfilesHandler_GET_WithSearch (0.05s)
=== RUN   TestEditProfileHandler_GET_OutOfRangeIndex
2025/12/15 19:23:45 Handling edit profile
--- PASS: TestEditProfileHandler_GET_OutOfRangeIndex (0.04s)
=== RUN   TestEditProfileHandler_POST_WithPromptRename
2025/12/15 19:23:45 Handling edit profile
2025/12/15 19:23:45 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_WithPromptRename (0.03s)
=== RUN   TestEditProfileHandler_POST_OutOfRangeIndex
2025/12/15 19:23:45 Handling edit profile
2025/12/15 19:23:45 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_OutOfRangeIndex (0.04s)
=== RUN   TestDeleteProfileHandler_GET_OutOfRangeIndex
2025/12/15 19:23:45 Handling delete profile
--- PASS: TestDeleteProfileHandler_GET_OutOfRangeIndex (0.03s)
=== RUN   TestProfilesHandler_GET_EmptyProfiles
2025/12/15 19:23:45 Handling profiles page
2025/12/15 19:23:45 Profiles page rendered successfully
--- PASS: TestProfilesHandler_GET_EmptyProfiles (0.03s)
=== RUN   TestEditProfileHandler_POST_UpdatesLinkedPrompts
2025/12/15 19:23:45 Handling edit profile
2025/12/15 19:23:45 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_UpdatesLinkedPrompts (0.04s)
=== RUN   TestDeleteProfileHandler_POST_NegativeIndex
2025/12/15 19:23:45 Handling delete profile
2025/12/15 19:23:45 Profile deleted successfully
--- PASS: TestDeleteProfileHandler_POST_NegativeIndex (0.04s)
=== RUN   TestEditProfileHandler_POST_NegativeIndex
2025/12/15 19:23:45 Handling edit profile
2025/12/15 19:23:45 Profile edited successfully
--- PASS: TestEditProfileHandler_POST_NegativeIndex (0.03s)
=== RUN   TestProfilesHandler_GET_RenderError
2025/12/15 19:23:45 Handling profiles page
2025/12/15 19:23:45 Error rendering template: open templates/profiles.html: The system cannot find the path specified.
--- PASS: TestProfilesHandler_GET_RenderError (0.03s)
=== RUN   TestResetProfilesHandler_GET_RenderError
2025/12/15 19:23:45 Handling reset profiles
2025/12/15 19:23:45 Error rendering template: open templates/reset_profiles.html: The system cannot find the path specified.
--- PASS: TestResetProfilesHandler_GET_RenderError (0.04s)
=== RUN   TestAddProfile_WriteProfilesError
2025/12/15 19:23:45 Handling add profile
2025/12/15 19:23:45 Error writing profiles: database write error
--- PASS: TestAddProfile_WriteProfilesError (0.00s)
=== RUN   TestEditProfile_WriteProfilesError
2025/12/15 19:23:45 Handling edit profile
2025/12/15 19:23:45 Error writing profiles: database write error
--- PASS: TestEditProfile_WriteProfilesError (0.00s)
=== RUN   TestEditProfile_WritePromptsError
2025/12/15 19:23:45 Handling edit profile
2025/12/15 19:23:45 Error updating prompts: database write error
--- PASS: TestEditProfile_WritePromptsError (0.00s)
=== RUN   TestDeleteProfile_WriteProfilesError
2025/12/15 19:23:45 Handling delete profile
2025/12/15 19:23:45 Error writing profiles: database write error
--- PASS: TestDeleteProfile_WriteProfilesError (0.00s)
=== RUN   TestResetProfiles_WriteProfilesError
2025/12/15 19:23:45 Handling reset profiles
2025/12/15 19:23:45 Error writing profiles: database write error
--- PASS: TestResetProfiles_WriteProfilesError (0.00s)
=== RUN   TestDeleteProfileHandler_GET_RenderError
2025/12/15 19:23:45 Handling delete profile
2025/12/15 19:23:45 Error rendering template: mock render error
--- PASS: TestDeleteProfileHandler_GET_RenderError (0.00s)
=== RUN   TestEditProfileHandler_GET_RenderError
2025/12/15 19:23:45 Handling edit profile
2025/12/15 19:23:45 Error rendering template: mock render error
--- PASS: TestEditProfileHandler_GET_RenderError (0.00s)
=== RUN   TestAddProfileHandler_WriteProfilesError
2025/12/15 19:23:45 Handling add profile
2025/12/15 19:23:45 Error writing profiles: mock write error
--- PASS: TestAddProfileHandler_WriteProfilesError (0.00s)
=== RUN   TestAddPromptHandler_Success
2025/12/15 19:23:45 Handling add prompt
2025/12/15 19:23:45 Prompt added successfully
2025/12/15 19:23:45 BroadcastResults results: map[]
2025/12/15 19:23:45 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestAddPromptHandler_Success (0.04s)
=== RUN   TestAddPromptHandler_EmptyText
2025/12/15 19:23:45 Handling add prompt
2025/12/15 19:23:45 Prompt text cannot be empty
--- PASS: TestAddPromptHandler_EmptyText (0.05s)
=== RUN   TestEditPromptHandler_POST_Success
2025/12/15 19:23:45 Handling add prompt
2025/12/15 19:23:45 Prompt added successfully
2025/12/15 19:23:45 BroadcastResults results: map[]
2025/12/15 19:23:45 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:45 Handling edit prompt
2025/12/15 19:23:45 Prompt edited successfully
2025/12/15 19:23:45 BroadcastResults results: map[]
2025/12/15 19:23:45 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestEditPromptHandler_POST_Success (0.04s)
=== RUN   TestEditPromptHandler_POST_EmptyText
2025/12/15 19:23:45 Handling add prompt
2025/12/15 19:23:45 Prompt added successfully
2025/12/15 19:23:45 BroadcastResults results: map[]
2025/12/15 19:23:45 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:45 Handling edit prompt
2025/12/15 19:23:45 Prompt text cannot be empty
--- PASS: TestEditPromptHandler_POST_EmptyText (0.05s)
=== RUN   TestEditPromptHandler_POST_InvalidIndex
2025/12/15 19:23:45 Handling edit prompt
2025/12/15 19:23:45 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditPromptHandler_POST_InvalidIndex (0.04s)
=== RUN   TestEditPromptHandler_GET_InvalidIndex
2025/12/15 19:23:46 Handling edit prompt
2025/12/15 19:23:46 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestEditPromptHandler_GET_InvalidIndex (0.05s)
=== RUN   TestDeletePromptHandler_POST_Success
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling delete prompt
2025/12/15 19:23:46 Prompt deleted successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestDeletePromptHandler_POST_Success (0.05s)
=== RUN   TestDeletePromptHandler_POST_InvalidIndex
2025/12/15 19:23:46 Handling delete prompt
2025/12/15 19:23:46 Invalid index: strconv.Atoi: parsing "not_a_number": invalid syntax
--- PASS: TestDeletePromptHandler_POST_InvalidIndex (0.04s)
=== RUN   TestDeletePromptHandler_GET_InvalidIndex
2025/12/15 19:23:46 Handling delete prompt
2025/12/15 19:23:46 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestDeletePromptHandler_GET_InvalidIndex (0.05s)
=== RUN   TestMovePromptHandler_POST_Success
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling move prompt
2025/12/15 19:23:46 Prompt moved successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestMovePromptHandler_POST_Success (0.04s)
=== RUN   TestMovePromptHandler_POST_InvalidIndex
2025/12/15 19:23:46 Handling move prompt
2025/12/15 19:23:46 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidIndex (0.03s)
=== RUN   TestMovePromptHandler_POST_InvalidNewIndex
2025/12/15 19:23:46 Handling move prompt
2025/12/15 19:23:46 Invalid new index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidNewIndex (0.05s)
=== RUN   TestMovePromptHandler_GET_InvalidIndex
2025/12/15 19:23:46 Handling move prompt
2025/12/15 19:23:46 Invalid index: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestMovePromptHandler_GET_InvalidIndex (0.05s)
=== RUN   TestResetPromptsHandler_POST
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling reset prompts
2025/12/15 19:23:46 Prompts reset successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestResetPromptsHandler_POST (0.04s)
=== RUN   TestExportPromptsHandler
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling export prompts
2025/12/15 19:23:46 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler (0.05s)
=== RUN   TestUpdatePromptsOrderHandler_ValidOrder
2025/12/15 19:23:46 Handling update prompts order
2025/12/15 19:23:46 Prompts order updated successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestUpdatePromptsOrderHandler_ValidOrder (0.04s)
=== RUN   TestUpdatePromptsOrderHandler_EmptyOrder
2025/12/15 19:23:46 Handling update prompts order
2025/12/15 19:23:46 Order cannot be empty
--- PASS: TestUpdatePromptsOrderHandler_EmptyOrder (0.04s)
=== RUN   TestUpdatePromptsOrderHandler_InvalidJSON
2025/12/15 19:23:46 Handling update prompts order
2025/12/15 19:23:46 Error parsing order: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestUpdatePromptsOrderHandler_InvalidJSON (0.05s)
=== RUN   TestBulkDeletePromptsHandler_Success
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling bulk delete prompts
2025/12/15 19:23:46 Prompts deleted successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestBulkDeletePromptsHandler_Success (0.04s)
=== RUN   TestBulkDeletePromptsHandler_MethodNotAllowed
2025/12/15 19:23:46 Handling bulk delete prompts
--- PASS: TestBulkDeletePromptsHandler_MethodNotAllowed (0.04s)
=== RUN   TestBulkDeletePromptsHandler_EmptyIndices
2025/12/15 19:23:46 Handling add prompt
2025/12/15 19:23:46 Prompt added successfully
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:46 Handling bulk delete prompts
2025/12/15 19:23:46 No indices provided for deletion
--- PASS: TestBulkDeletePromptsHandler_EmptyIndices (0.04s)
=== RUN   TestBulkDeletePromptsPageHandler_MethodNotAllowed
2025/12/15 19:23:46 Handling bulk delete prompts page
--- PASS: TestBulkDeletePromptsPageHandler_MethodNotAllowed (0.04s)
=== RUN   TestBulkDeletePromptsPageHandler_NoIndices
2025/12/15 19:23:46 Handling bulk delete prompts page
2025/12/15 19:23:46 No indices provided for deletion
--- PASS: TestBulkDeletePromptsPageHandler_NoIndices (0.05s)
=== RUN   TestBulkDeletePromptsPageHandler_InvalidIndicesJSON
2025/12/15 19:23:46 Handling bulk delete prompts page
2025/12/15 19:23:46 Error unmarshalling indices: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestBulkDeletePromptsPageHandler_InvalidIndicesJSON (0.04s)
=== RUN   TestPromptListHandler_InvalidOrderFilter
2025/12/15 19:23:46 Handling prompt list page
2025/12/15 19:23:46 Invalid order filter: strconv.Atoi: parsing "invalid": invalid syntax
--- PASS: TestPromptListHandler_InvalidOrderFilter (0.05s)
=== RUN   TestImportPromptsHandler_POST_NoFile
2025/12/15 19:23:46 Handling import prompts
2025/12/15 19:23:46 Error uploading file: no multipart boundary param in Content-Type
--- PASS: TestImportPromptsHandler_POST_NoFile (0.05s)
=== RUN   TestImportPromptsHandler_POST_ValidJSON
2025/12/15 19:23:46 Handling import prompts
2025/12/15 19:23:46 Prompts imported successfully from JSON
2025/12/15 19:23:46 BroadcastResults results: map[]
2025/12/15 19:23:46 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestImportPromptsHandler_POST_ValidJSON (0.04s)
=== RUN   TestImportPromptsHandler_POST_InvalidJSON
2025/12/15 19:23:46 Handling import prompts
2025/12/15 19:23:46 Error parsing JSON: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestImportPromptsHandler_POST_InvalidJSON (0.05s)
=== RUN   TestImportResultsHandler_POST_NoFile
2025/12/15 19:23:47 Handling import results
2025/12/15 19:23:47 Error uploading file: no multipart boundary param in Content-Type
--- PASS: TestImportResultsHandler_POST_NoFile (0.05s)
=== RUN   TestImportResultsHandler_POST_ValidJSON
2025/12/15 19:23:47 Handling import results
2025/12/15 19:23:47 Results imported successfully from JSON
2025/12/15 19:23:47 BroadcastResults results: map[Model A:{[80 60]} Model B:{[100 40]}]
2025/12/15 19:23:47 Broadcasting data - Models: [Model A Model B]
--- PASS: TestImportResultsHandler_POST_ValidJSON (0.05s)
=== RUN   TestImportResultsHandler_POST_InvalidJSON
2025/12/15 19:23:47 Handling import results
2025/12/15 19:23:47 Error parsing JSON: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestImportResultsHandler_POST_InvalidJSON (0.04s)
=== RUN   TestPromptListHandler_GET
2025/12/15 19:23:47 Handling prompt list page
2025/12/15 19:23:47 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_GET (0.06s)
=== RUN   TestResetPromptsHandler_GET
2025/12/15 19:23:47 Handling reset prompts
--- PASS: TestResetPromptsHandler_GET (0.04s)
=== RUN   TestBulkDeletePromptsPageHandler_GET
2025/12/15 19:23:47 Handling bulk delete prompts page
--- PASS: TestBulkDeletePromptsPageHandler_GET (0.04s)
=== RUN   TestDeletePromptHandler_GET_Success
2025/12/15 19:23:47 Handling delete prompt
--- PASS: TestDeletePromptHandler_GET_Success (0.04s)
=== RUN   TestDeletePromptHandler_GET_OutOfRange
2025/12/15 19:23:47 Handling delete prompt
--- PASS: TestDeletePromptHandler_GET_OutOfRange (0.04s)
=== RUN   TestEditPromptHandler_GET_Success
2025/12/15 19:23:47 Handling edit prompt
--- PASS: TestEditPromptHandler_GET_Success (0.05s)
=== RUN   TestExportPromptsHandler_GET_JSON
2025/12/15 19:23:47 Handling export prompts
2025/12/15 19:23:47 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler_GET_JSON (0.04s)
=== RUN   TestImportResultsHandler_GET
2025/12/15 19:23:47 Handling import results
--- PASS: TestImportResultsHandler_GET (0.04s)
=== RUN   TestImportPromptsHandler_GET
2025/12/15 19:23:47 Handling import prompts
--- PASS: TestImportPromptsHandler_GET (0.05s)
=== RUN   TestImportResultsHandler_EmptyResults
2025/12/15 19:23:47 Handling import results
2025/12/15 19:23:47 No results found in JSON file
--- PASS: TestImportResultsHandler_EmptyResults (0.05s)
=== RUN   TestImportResultsHandler_ScoresExtended
2025/12/15 19:23:47 Handling import results
2025/12/15 19:23:47 Results imported successfully from JSON
2025/12/15 19:23:47 BroadcastResults results: map[Model1:{[80 0 0]}]
2025/12/15 19:23:47 Broadcasting data - Models: [Model1]
--- PASS: TestImportResultsHandler_ScoresExtended (0.06s)
=== RUN   TestPromptListHandler_WithSearch
2025/12/15 19:23:47 Handling prompt list page
2025/12/15 19:23:47 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_WithSearch (0.05s)
=== RUN   TestAddPromptHandler_WithProfile
2025/12/15 19:23:47 Handling add prompt
2025/12/15 19:23:47 Prompt added successfully
2025/12/15 19:23:47 BroadcastResults results: map[]
2025/12/15 19:23:47 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestAddPromptHandler_WithProfile (0.06s)
=== RUN   TestResetPromptsHandler_GET_WithTemplate
2025/12/15 19:23:47 Handling reset prompts
--- PASS: TestResetPromptsHandler_GET_WithTemplate (0.05s)
=== RUN   TestMovePromptHandler_POST_OutOfRange
2025/12/15 19:23:47 Handling move prompt
2025/12/15 19:23:47 Prompt moved successfully
2025/12/15 19:23:47 BroadcastResults results: map[]
2025/12/15 19:23:47 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestMovePromptHandler_POST_OutOfRange (0.04s)
=== RUN   TestMovePromptHandler_POST_MoveUp
2025/12/15 19:23:47 Handling move prompt
2025/12/15 19:23:47 Prompt moved successfully
2025/12/15 19:23:47 BroadcastResults results: map[]
2025/12/15 19:23:47 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestMovePromptHandler_POST_MoveUp (0.05s)
=== RUN   TestMovePromptHandler_GET_OutOfRange
2025/12/15 19:23:47 Handling move prompt
--- PASS: TestMovePromptHandler_GET_OutOfRange (0.05s)
=== RUN   TestExportPromptsHandler_Empty
2025/12/15 19:23:47 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling export prompts
2025/12/15 19:23:48 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler_Empty (0.05s)
=== RUN   TestAddPromptHandler_WithSolution
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling add prompt
2025/12/15 19:23:48 Prompt added successfully
2025/12/15 19:23:48 BroadcastResults results: map[]
2025/12/15 19:23:48 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestAddPromptHandler_WithSolution (0.05s)
=== RUN   TestAddPromptHandler_WithType
2025/12/15 19:23:48 Handling add prompt
2025/12/15 19:23:48 Prompt added successfully
2025/12/15 19:23:48 BroadcastResults results: map[]
2025/12/15 19:23:48 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
--- PASS: TestAddPromptHandler_WithType (0.04s)
=== RUN   TestMovePromptHandler_POST_SamePosition
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Prompt moved successfully
2025/12/15 19:23:48 BroadcastResults results: map[]
2025/12/15 19:23:48 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestMovePromptHandler_POST_SamePosition (0.04s)
=== RUN   TestImportPromptsHandler_POST_EmptyArray
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling import prompts
2025/12/15 19:23:48 No prompts found in JSON file
--- PASS: TestImportPromptsHandler_POST_EmptyArray (0.04s)
=== RUN   TestImportResultsHandler_POST_EmptyResults
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling import results
2025/12/15 19:23:48 No results found in JSON file
--- PASS: TestImportResultsHandler_POST_EmptyResults (0.05s)
=== RUN   TestPromptListHandler_WithOrderFilter
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling prompt list page
2025/12/15 19:23:48 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_WithOrderFilter (0.04s)
=== RUN   TestPromptListHandler_WithProfileFilter
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling prompt list page
2025/12/15 19:23:48 Prompt list page rendered successfully
--- PASS: TestPromptListHandler_WithProfileFilter (0.05s)
=== RUN   TestExportPromptsHandler_WithPrompts
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling export prompts
2025/12/15 19:23:48 Prompts exported successfully as JSON
--- PASS: TestExportPromptsHandler_WithPrompts (0.07s)
=== RUN   TestResetPromptsHandler_GET_RenderError
2025/12/15 19:23:48 Handling reset prompts
2025/12/15 19:23:48 Error rendering template: open templates/reset_prompts.html: The system cannot find the path specified.
--- PASS: TestResetPromptsHandler_GET_RenderError (0.04s)
=== RUN   TestImportPromptsHandler_GET_RenderError
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling import prompts
2025/12/15 19:23:48 Error rendering template: open templates/import_prompts.html: The system cannot find the path specified.
--- PASS: TestImportPromptsHandler_GET_RenderError (0.05s)
=== RUN   TestImportResultsHandler_GET_RenderError
2025/12/15 19:23:48 Handling import results
2025/12/15 19:23:48 Error rendering template: open templates/import_results.html: The system cannot find the path specified.
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
--- PASS: TestImportResultsHandler_GET_RenderError (0.04s)
=== RUN   TestMovePromptHandler_POST_InvalidFromIndex
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidFromIndex (0.03s)
=== RUN   TestMovePromptHandler_POST_InvalidToIndex
2025/12/15 19:23:48 Failed to query pending jobs: sql: database is closed
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_InvalidToIndex (0.03s)
=== RUN   TestMovePromptHandler_POST_OutOfBoundsFrom
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_OutOfBoundsFrom (0.03s)
=== RUN   TestMovePromptHandler_POST_OutOfBoundsTo
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_OutOfBoundsTo (0.03s)
=== RUN   TestMovePromptHandler_POST_NegativeFrom
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Invalid index: strconv.Atoi: parsing "": invalid syntax
--- PASS: TestMovePromptHandler_POST_NegativeFrom (0.03s)
=== RUN   TestAddPromptHandler_WhitespaceOnlyText
2025/12/15 19:23:48 Handling add prompt
2025/12/15 19:23:48 Prompt added successfully
2025/12/15 19:23:48 BroadcastResults results: map[]
2025/12/15 19:23:48 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestAddPromptHandler_WhitespaceOnlyText (0.03s)
=== RUN   TestExportPromptsHandler_WriteError
2025/12/15 19:23:48 Handling export prompts
2025/12/15 19:23:48 Error writing response: mock write error
--- PASS: TestExportPromptsHandler_WriteError (0.00s)
=== RUN   TestAddPromptHandler_WritePromptsError
2025/12/15 19:23:48 Handling add prompt
2025/12/15 19:23:48 Error writing prompts: mock write error
--- PASS: TestAddPromptHandler_WritePromptsError (0.00s)
=== RUN   TestMovePromptHandler_WritePromptsError
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Error writing prompts: mock write error
--- PASS: TestMovePromptHandler_WritePromptsError (0.00s)
=== RUN   TestDeletePromptHandler_WritePromptsError
2025/12/15 19:23:48 Handling delete prompt
2025/12/15 19:23:48 Error writing prompts: mock write error
--- PASS: TestDeletePromptHandler_WritePromptsError (0.00s)
=== RUN   TestEditPromptHandler_WritePromptsError
2025/12/15 19:23:48 Handling edit prompt
2025/12/15 19:23:48 Error writing prompts: mock write error
--- PASS: TestEditPromptHandler_WritePromptsError (0.00s)
=== RUN   TestImportPromptsHandler_WritePromptsError
2025/12/15 19:23:48 Handling import prompts
2025/12/15 19:23:48 Error writing prompts: mock write error
--- PASS: TestImportPromptsHandler_WritePromptsError (0.00s)
=== RUN   TestPromptListHandler_RenderError
2025/12/15 19:23:48 Handling prompt list page
2025/12/15 19:23:48 Error rendering template: mock render error
--- PASS: TestPromptListHandler_RenderError (0.00s)
=== RUN   TestResetPromptsHandler_WritePromptsError
2025/12/15 19:23:48 Handling reset prompts
2025/12/15 19:23:48 Error writing prompts: mock write error
--- PASS: TestResetPromptsHandler_WritePromptsError (0.00s)
=== RUN   TestBulkDeletePromptsHandler_WritePromptsError
2025/12/15 19:23:48 Handling bulk delete prompts
2025/12/15 19:23:48 Error writing prompts: mock write error
--- PASS: TestBulkDeletePromptsHandler_WritePromptsError (0.00s)
=== RUN   TestMovePromptHandler_GET_RenderError
2025/12/15 19:23:48 Handling move prompt
2025/12/15 19:23:48 Error rendering template: mock render error
--- PASS: TestMovePromptHandler_GET_RenderError (0.00s)
=== RUN   TestDeletePromptHandler_GET_RenderError
2025/12/15 19:23:48 Handling delete prompt
2025/12/15 19:23:48 Error rendering template: mock render error
--- PASS: TestDeletePromptHandler_GET_RenderError (0.00s)
=== RUN   TestEditPromptHandler_GET_RenderError
2025/12/15 19:23:48 Handling edit prompt
2025/12/15 19:23:48 Error rendering template: mock render error
--- PASS: TestEditPromptHandler_GET_RenderError (0.00s)
=== RUN   TestAddPromptHandler_ReadPromptSuiteError
2025/12/15 19:23:48 Handling add prompt
2025/12/15 19:23:48 Error reading prompt suite: mock read error
--- PASS: TestAddPromptHandler_ReadPromptSuiteError (0.00s)
=== RUN   TestAddPromptHandler_EmptySuiteName
2025/12/15 19:23:48 Handling add prompt
2025/12/15 19:23:48 Prompt added successfully
--- PASS: TestAddPromptHandler_EmptySuiteName (0.00s)
=== RUN   TestImportResultsHandler_POST_ShorterScores
2025/12/15 19:23:48 Handling import results
2025/12/15 19:23:48 Results imported successfully from JSON
--- PASS: TestImportResultsHandler_POST_ShorterScores (0.00s)
=== RUN   TestMinMax
=== RUN   TestMinMax/min_first_smaller
=== RUN   TestMinMax/min_second_smaller
=== RUN   TestMinMax/min_equal
=== RUN   TestMinMax/max_first_larger
=== RUN   TestMinMax/max_second_larger
=== RUN   TestMinMax/max_equal
--- PASS: TestMinMax (0.00s)
    --- PASS: TestMinMax/min_first_smaller (0.00s)
    --- PASS: TestMinMax/min_second_smaller (0.00s)
    --- PASS: TestMinMax/min_equal (0.00s)
    --- PASS: TestMinMax/max_first_larger (0.00s)
    --- PASS: TestMinMax/max_second_larger (0.00s)
    --- PASS: TestMinMax/max_equal (0.00s)
=== RUN   TestUpdateResultHandler_Success
2025/12/15 19:23:48 Handling add model
2025/12/15 19:23:48 Model added successfully
2025/12/15 19:23:48 BroadcastResults results: map[TestModel:{[0]}]
2025/12/15 19:23:48 Broadcasting data - Models: [TestModel]
2025/12/15 19:23:48 Handling update result
2025/12/15 19:23:48 BroadcastResults results: map[TestModel:{[100]}]
2025/12/15 19:23:48 Broadcasting data - Models: [TestModel]
2025/12/15 19:23:48 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_Success (0.04s)
=== RUN   TestUpdateResultHandler_InvalidPass
2025/12/15 19:23:48 Handling update result
2025/12/15 19:23:48 Invalid pass value: strconv.ParseBool: parsing "invalid": invalid syntax
--- PASS: TestUpdateResultHandler_InvalidPass (0.03s)
=== RUN   TestResetResultsHandler_POST
2025/12/15 19:23:48 Handling add model
2025/12/15 19:23:48 Model added successfully
2025/12/15 19:23:48 BroadcastResults results: map[TestModel:{[]}]
2025/12/15 19:23:48 Broadcasting data - Models: [TestModel]
2025/12/15 19:23:48 Handling reset results
2025/12/15 19:23:48 Results reset successfully
2025/12/15 19:23:48 BroadcastResults results: map[]
2025/12/15 19:23:48 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestResetResultsHandler_POST (0.04s)
=== RUN   TestRefreshResultsHandler_POST
2025/12/15 19:23:48 Handling add model
2025/12/15 19:23:48 Model added successfully
2025/12/15 19:23:48 BroadcastResults results: map[TestModel:{[]}]
2025/12/15 19:23:48 Broadcasting data - Models: [TestModel]
2025/12/15 19:23:48 Handling refresh results
2025/12/15 19:23:48 Results refreshed successfully
2025/12/15 19:23:48 BroadcastResults results: map[TestModel:{[]}]
2025/12/15 19:23:48 Broadcasting data - Models: [TestModel]
--- PASS: TestRefreshResultsHandler_POST (0.04s)
=== RUN   TestExportResultsHandler
2025/12/15 19:23:48 Handling add model
2025/12/15 19:23:48 Model added successfully
2025/12/15 19:23:48 BroadcastResults results: map[ExportTestModel:{[]}]
2025/12/15 19:23:48 Broadcasting data - Models: [ExportTestModel]
2025/12/15 19:23:48 Handling export results
2025/12/15 19:23:48 Results exported successfully as JSON
--- PASS: TestExportResultsHandler (0.03s)
=== RUN   TestEvaluateResult_POST_Success
2025/12/15 19:23:48 Handling add model
2025/12/15 19:23:48 Model added successfully
2025/12/15 19:23:48 BroadcastResults results: map[EvalModel:{[0]}]
2025/12/15 19:23:48 Broadcasting data - Models: [EvalModel]
2025/12/15 19:23:48 BroadcastResults results: map[EvalModel:{[80]}]
2025/12/15 19:23:48 Broadcasting data - Models: [EvalModel]
2025/12/15 19:23:48 Updated score for model EvalModel, prompt 0: 80
2025/12/15 19:23:48 Current results for model EvalModel: [80]
--- PASS: TestEvaluateResult_POST_Success (0.04s)
=== RUN   TestEvaluateResult_POST_InvalidScore
--- PASS: TestEvaluateResult_POST_InvalidScore (0.03s)
=== RUN   TestEvaluateResult_POST_InvalidPromptIndex
2025/12/15 19:23:48 Handling add model
2025/12/15 19:23:48 Model added successfully
2025/12/15 19:23:48 BroadcastResults results: map[TestModel:{[]}]
2025/12/15 19:23:48 Broadcasting data - Models: [TestModel]
--- PASS: TestEvaluateResult_POST_InvalidPromptIndex (0.04s)
=== RUN   TestEvaluateResult_POST_ScoreClamping
2025/12/15 19:23:48 Handling add model
2025/12/15 19:23:48 Model added successfully
2025/12/15 19:23:48 BroadcastResults results: map[ClampModel:{[0]}]
2025/12/15 19:23:48 Broadcasting data - Models: [ClampModel]
2025/12/15 19:23:48 BroadcastResults results: map[ClampModel:{[100]}]
2025/12/15 19:23:48 Broadcasting data - Models: [ClampModel]
2025/12/15 19:23:48 Updated score for model ClampModel, prompt 0: 100
2025/12/15 19:23:48 Current results for model ClampModel: [100]
--- PASS: TestEvaluateResult_POST_ScoreClamping (0.04s)
=== RUN   TestUpdateMockResultsHandler_MethodNotAllowed
2025/12/15 19:23:49 Handling update mock results
--- PASS: TestUpdateMockResultsHandler_MethodNotAllowed (0.03s)
=== RUN   TestUpdateMockResultsHandler_Success
2025/12/15 19:23:49 Handling update mock results
2025/12/15 19:23:49 Received mock data request
2025/12/15 19:23:49 Using client-provided scores for mock data
2025/12/15 19:23:49 BroadcastResults results: map[MockModel:{[80]}]
2025/12/15 19:23:49 Broadcasting data - Models: [MockModel]
2025/12/15 19:23:49 Calculating total scores for each model:
2025/12/15 19:23:49 Model MockModel: total score = 80, pass percentage = 80.00%
2025/12/15 19:23:49 Sorted models after mock generation: [MockModel]
2025/12/15 19:23:49 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_Success (0.04s)
=== RUN   TestUpdateMockResultsHandler_InvalidJSON
2025/12/15 19:23:49 Handling update mock results
2025/12/15 19:23:49 Received mock data request
2025/12/15 19:23:49 Error decoding mock data: invalid character 'o' in literal null (expecting 'u')
--- PASS: TestUpdateMockResultsHandler_InvalidJSON (0.03s)
=== RUN   TestUpdateMockResultsHandler_ValidatesScores
2025/12/15 19:23:49 Handling update mock results
2025/12/15 19:23:49 Received mock data request
2025/12/15 19:23:49 Using client-provided scores for mock data
2025/12/15 19:23:49 Correcting invalid score 77 for model ValidateModel prompt 0
2025/12/15 19:23:49 BroadcastResults results: map[ValidateModel:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [ValidateModel]
2025/12/15 19:23:49 Calculating total scores for each model:
2025/12/15 19:23:49 Model ValidateModel: total score = 0, pass percentage = 0.00%
2025/12/15 19:23:49 Sorted models after mock generation: [ValidateModel]
2025/12/15 19:23:49 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_ValidatesScores (0.04s)
=== RUN   TestInitRand
--- PASS: TestInitRand (0.00s)
=== RUN   TestUpdateResultHandler_POST_MissingParams
2025/12/15 19:23:49 Handling update result
2025/12/15 19:23:49 BroadcastResults results: map[:{[]}]
2025/12/15 19:23:49 Broadcasting data - Models: []
2025/12/15 19:23:49 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_POST_MissingParams (0.03s)
=== RUN   TestUpdateResultHandler_POST_NegativePromptIndex
2025/12/15 19:23:49 Handling add model
2025/12/15 19:23:49 Model added successfully
2025/12/15 19:23:49 BroadcastResults results: map[TestModel:{[]}]
2025/12/15 19:23:49 Broadcasting data - Models: [TestModel]
2025/12/15 19:23:49 Handling update result
2025/12/15 19:23:49 BroadcastResults results: map[TestModel:{[]}]
2025/12/15 19:23:49 Broadcasting data - Models: [TestModel]
2025/12/15 19:23:49 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_POST_NegativePromptIndex (0.03s)
=== RUN   TestEvaluateResult_GET_Request
2025/12/15 19:23:49 Handling add model
2025/12/15 19:23:49 Model added successfully
2025/12/15 19:23:49 BroadcastResults results: map[GetModel:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [GetModel]
2025/12/15 19:23:49 Error rendering template: open templates/evaluate.html: The system cannot find the path specified.
--- PASS: TestEvaluateResult_GET_Request (0.04s)
=== RUN   TestResultsHandler_GET
2025/12/15 19:23:49 Handling results page
2025/12/15 19:23:49 Calculating total scores for each model
2025/12/15 19:23:49 Sorting models by score in descending order
2025/12/15 19:23:49 Sorted models: [TestModel]
2025/12/15 19:23:49 First model: TestModel, scores: [80]
2025/12/15 19:23:49 Results page rendered successfully
--- PASS: TestResultsHandler_GET (0.04s)
=== RUN   TestConfirmRefreshResultsHandler_GET
2025/12/15 19:23:49 Handling confirm refresh results
--- PASS: TestConfirmRefreshResultsHandler_GET (0.03s)
=== RUN   TestResetResultsHandler_GET
2025/12/15 19:23:49 Handling reset results
--- PASS: TestResetResultsHandler_GET (0.03s)
=== RUN   TestExportResultsHandler_GET
2025/12/15 19:23:49 Handling export results
2025/12/15 19:23:49 Results exported successfully as JSON
--- PASS: TestExportResultsHandler_GET (0.16s)
=== RUN   TestConfirmRefreshResultsHandler_POST
2025/12/15 19:23:49 Handling confirm refresh results
2025/12/15 19:23:49 Results refreshed successfully
2025/12/15 19:23:49 BroadcastResults results: map[RefreshModel:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [RefreshModel]
--- PASS: TestConfirmRefreshResultsHandler_POST (0.04s)
=== RUN   TestRefreshResultsHandler_GET
2025/12/15 19:23:49 Handling refresh results
--- PASS: TestRefreshResultsHandler_GET (0.03s)
=== RUN   TestEvaluateResult_GET_WithTemplate
2025/12/15 19:23:49 Handling add model
2025/12/15 19:23:49 Model added successfully
2025/12/15 19:23:49 BroadcastResults results: map[TemplateModel:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [TemplateModel]
--- PASS: TestEvaluateResult_GET_WithTemplate (0.04s)
=== RUN   TestEvaluateResult_POST_NewModel
2025/12/15 19:23:49 BroadcastResults results: map[NewModel:{[60]}]
2025/12/15 19:23:49 Broadcasting data - Models: [NewModel]
2025/12/15 19:23:49 Updated score for model NewModel, prompt 0: 60
2025/12/15 19:23:49 Current results for model NewModel: [60]
--- PASS: TestEvaluateResult_POST_NewModel (0.03s)
=== RUN   TestEvaluateResult_POST_NegativeScore
2025/12/15 19:23:49 Handling add model
2025/12/15 19:23:49 Model added successfully
2025/12/15 19:23:49 BroadcastResults results: map[NegModel:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [NegModel]
2025/12/15 19:23:49 BroadcastResults results: map[NegModel:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [NegModel]
2025/12/15 19:23:49 Updated score for model NegModel, prompt 0: 0
2025/12/15 19:23:49 Current results for model NegModel: [0]
--- PASS: TestEvaluateResult_POST_NegativeScore (0.03s)
=== RUN   TestResultsHandler_GET_WithUncategorizedPrompts
2025/12/15 19:23:49 Handling results page
2025/12/15 19:23:49 Calculating total scores for each model
2025/12/15 19:23:49 Sorting models by score in descending order
2025/12/15 19:23:49 Sorted models: [TestModel]
2025/12/15 19:23:49 First model: TestModel, scores: [80 60]
2025/12/15 19:23:49 Results page rendered successfully
--- PASS: TestResultsHandler_GET_WithUncategorizedPrompts (0.04s)
=== RUN   TestResultsHandler_GET_WithMultipleProfiles
2025/12/15 19:23:49 Handling results page
2025/12/15 19:23:49 Calculating total scores for each model
2025/12/15 19:23:49 Sorting models by score in descending order
2025/12/15 19:23:49 Sorted models: [Model1 Model2]
2025/12/15 19:23:49 First model: Model1, scores: [100 80 60]
2025/12/15 19:23:49 Results page rendered successfully
--- PASS: TestResultsHandler_GET_WithMultipleProfiles (0.04s)
=== RUN   TestUpdateMockResultsHandler_WithEmptyModels
2025/12/15 19:23:49 Handling update mock results
2025/12/15 19:23:49 Received mock data request
2025/12/15 19:23:49 Using client-provided scores for mock data
2025/12/15 19:23:49 BroadcastResults results: map[ModelFromResults:{[80]}]
2025/12/15 19:23:49 Broadcasting data - Models: [ModelFromResults]
2025/12/15 19:23:49 Calculating total scores for each model:
2025/12/15 19:23:49 Model ModelFromResults: total score = 80, pass percentage = 80.00%
2025/12/15 19:23:49 Sorted models after mock generation: [ModelFromResults]
2025/12/15 19:23:49 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_WithEmptyModels (0.03s)
=== RUN   TestUpdateMockResultsHandler_ValidatesInvalidScores
2025/12/15 19:23:49 Handling update mock results
2025/12/15 19:23:49 Received mock data request
2025/12/15 19:23:49 Using client-provided scores for mock data
2025/12/15 19:23:49 Correcting invalid score 15 for model TestModel prompt 0
2025/12/15 19:23:49 Correcting invalid score 25 for model TestModel prompt 1
2025/12/15 19:23:49 Correcting invalid score 35 for model TestModel prompt 2
2025/12/15 19:23:49 BroadcastResults results: map[TestModel:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [TestModel]
2025/12/15 19:23:49 Calculating total scores for each model:
2025/12/15 19:23:49 Model TestModel: total score = 0, pass percentage = 0.00%
2025/12/15 19:23:49 Sorted models after mock generation: [TestModel]
2025/12/15 19:23:49 Mock results with even tier distribution updated successfully
--- PASS: TestUpdateMockResultsHandler_ValidatesInvalidScores (0.04s)
=== RUN   TestExportResultsHandler_GET_WithData
2025/12/15 19:23:49 Handling export results
2025/12/15 19:23:49 Results exported successfully as JSON
--- PASS: TestExportResultsHandler_GET_WithData (0.03s)
=== RUN   TestExportResultsHandler_EmptyResults
2025/12/15 19:23:49 Handling export results
2025/12/15 19:23:49 Results exported successfully as JSON
--- PASS: TestExportResultsHandler_EmptyResults (0.03s)
=== RUN   TestResetResultsHandler_POST_AndVerify
2025/12/15 19:23:49 Handling reset results
2025/12/15 19:23:49 Results reset successfully
2025/12/15 19:23:49 BroadcastResults results: map[]
2025/12/15 19:23:49 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestResetResultsHandler_POST_AndVerify (0.03s)
=== RUN   TestConfirmRefreshResultsHandler_WithSearchQuery
2025/12/15 19:23:49 Handling confirm refresh results
--- PASS: TestConfirmRefreshResultsHandler_WithSearchQuery (0.03s)
=== RUN   TestRefreshResultsHandler_POST_WithSelectedModels
2025/12/15 19:23:49 Handling refresh results
2025/12/15 19:23:49 Results refreshed successfully
2025/12/15 19:23:49 BroadcastResults results: map[Model1:{[0]}]
2025/12/15 19:23:49 Broadcasting data - Models: [Model1]
--- PASS: TestRefreshResultsHandler_POST_WithSelectedModels (0.03s)
=== RUN   TestRefreshResultsHandler_POST_NoModels
2025/12/15 19:23:49 Handling refresh results
2025/12/15 19:23:49 Results refreshed successfully
2025/12/15 19:23:49 BroadcastResults results: map[]
2025/12/15 19:23:49 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestRefreshResultsHandler_POST_NoModels (0.03s)
=== RUN   TestUpdateResultHandler_CreatesNewModel
2025/12/15 19:23:50 Handling update result
2025/12/15 19:23:50 BroadcastResults results: map[NewModel:{[100]}]
2025/12/15 19:23:50 Broadcasting data - Models: [NewModel]
2025/12/15 19:23:50 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_CreatesNewModel (0.04s)
=== RUN   TestUpdateResultHandler_WithScoreValue
2025/12/15 19:23:50 Handling update result
2025/12/15 19:23:50 BroadcastResults results: map[Model1:{[100]}]
2025/12/15 19:23:50 Broadcasting data - Models: [Model1]
2025/12/15 19:23:50 protocols.Result updated successfully
--- PASS: TestUpdateResultHandler_WithScoreValue (0.04s)
=== RUN   TestResultsHandler_GET_RenderError
2025/12/15 19:23:50 Handling results page
2025/12/15 19:23:50 Calculating total scores for each model
2025/12/15 19:23:50 Sorting models by score in descending order
2025/12/15 19:23:50 Sorted models: [Model1 Model2]
2025/12/15 19:23:50 Error rendering template: open templates/results.html: The system cannot find the path specified.
--- PASS: TestResultsHandler_GET_RenderError (0.03s)
=== RUN   TestResetResultsHandler_GET_RenderError
2025/12/15 19:23:50 Handling reset results
2025/12/15 19:23:50 Error rendering template: open templates/reset_results.html: The system cannot find the path specified.
--- PASS: TestResetResultsHandler_GET_RenderError (0.03s)
=== RUN   TestConfirmRefreshResultsHandler_GET_RenderError
2025/12/15 19:23:50 Handling confirm refresh results
2025/12/15 19:23:50 Error rendering template: open templates/confirm_refresh_results.html: The system cannot find the path specified.
--- PASS: TestConfirmRefreshResultsHandler_GET_RenderError (0.03s)
=== RUN   TestUpdateResultHandler_WriteResultsError
2025/12/15 19:23:50 Handling update result
2025/12/15 19:23:50 Error writing results: mock write error
--- PASS: TestUpdateResultHandler_WriteResultsError (0.00s)
=== RUN   TestResetResultsHandler_POST_WriteResultsError
2025/12/15 19:23:50 Handling reset results
2025/12/15 19:23:50 Error writing results: mock write error
--- PASS: TestResetResultsHandler_POST_WriteResultsError (0.00s)
=== RUN   TestConfirmRefreshResultsHandler_POST_WriteResultsError
2025/12/15 19:23:50 Handling confirm refresh results
2025/12/15 19:23:50 Error writing results: mock write error
--- PASS: TestConfirmRefreshResultsHandler_POST_WriteResultsError (0.00s)
=== RUN   TestRefreshResultsHandler_POST_WriteResultsError
2025/12/15 19:23:50 Handling refresh results
2025/12/15 19:23:50 Error writing results: mock write error
--- PASS: TestRefreshResultsHandler_POST_WriteResultsError (0.00s)
=== RUN   TestEvaluateResultHandler_WriteResultsError
--- PASS: TestEvaluateResultHandler_WriteResultsError (0.00s)
=== RUN   TestUpdateMockResultsHandler_WriteResultsError
2025/12/15 19:23:50 Handling update mock results
2025/12/15 19:23:50 Received mock data request
2025/12/15 19:23:50 Using client-provided scores for mock data
2025/12/15 19:23:50 Error writing mock results: mock write error
--- PASS: TestUpdateMockResultsHandler_WriteResultsError (0.00s)
=== RUN   TestRefreshResultsHandler_GET_RenderError
2025/12/15 19:23:50 Handling refresh results
2025/12/15 19:23:50 Error rendering template: mock render error
--- PASS: TestRefreshResultsHandler_GET_RenderError (0.00s)
=== RUN   TestEvaluateResultHandler_GET_RenderError
2025/12/15 19:23:50 Error rendering template: mock render error
--- PASS: TestEvaluateResultHandler_GET_RenderError (0.00s)
=== RUN   TestExportResultsHandler_WriteError
2025/12/15 19:23:50 Handling export results
2025/12/15 19:23:50 Error writing response: mock write error
--- PASS: TestExportResultsHandler_WriteError (0.00s)
=== RUN   TestUpdateSettingsHandler_MethodNotAllowed
--- PASS: TestUpdateSettingsHandler_MethodNotAllowed (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_Success
2025/12/15 19:23:50 Updating settings
2025/12/15 19:23:50 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_Success (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_AutoEvalOff
2025/12/15 19:23:50 Updating settings
2025/12/15 19:23:50 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_AutoEvalOff (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_WithAPIKeys
2025/12/15 19:23:50 Updating settings
2025/12/15 19:23:50 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_WithAPIKeys (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_SkipsPlaceholder
2025/12/15 19:23:50 Updating settings
2025/12/15 19:23:50 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_SkipsPlaceholder (0.03s)
=== RUN   TestTestAPIKeyHandler_MethodNotAllowed
--- PASS: TestTestAPIKeyHandler_MethodNotAllowed (0.03s)
=== RUN   TestTestAPIKeyHandler_MissingProvider
--- PASS: TestTestAPIKeyHandler_MissingProvider (0.03s)
=== RUN   TestTestAPIKeyHandler_KeyNotConfigured
--- PASS: TestTestAPIKeyHandler_KeyNotConfigured (0.03s)
=== RUN   TestTestAPIKeyHandler_KeyConfigured
--- PASS: TestTestAPIKeyHandler_KeyConfigured (0.18s)
=== RUN   TestSettingsHandler_GET
2025/12/15 19:23:50 Handling settings page
--- PASS: TestSettingsHandler_GET (0.27s)
=== RUN   TestSettingsHandler_GET_WithExistingSettings
2025/12/15 19:23:50 Handling settings page
--- PASS: TestSettingsHandler_GET_WithExistingSettings (0.09s)
=== RUN   TestSettingsHandler_GET_WithZeroThreshold
2025/12/15 19:23:50 Handling settings page
--- PASS: TestSettingsHandler_GET_WithZeroThreshold (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_EmptyPythonURL
2025/12/15 19:23:50 Updating settings
2025/12/15 19:23:50 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_EmptyPythonURL (0.03s)
=== RUN   TestUpdateSettingsHandler_POST_EmptyThreshold
2025/12/15 19:23:50 Updating settings
2025/12/15 19:23:50 Settings updated successfully
--- PASS: TestUpdateSettingsHandler_POST_EmptyThreshold (0.03s)
=== RUN   TestSettingsHandler_GET_RenderError
2025/12/15 19:23:51 Handling settings page
2025/12/15 19:23:51 Error rendering template: mock render error
--- PASS: TestSettingsHandler_GET_RenderError (0.03s)
=== RUN   TestSettingsHandler_GetMaskedAPIKeysError
2025/12/15 19:23:51 Handling settings page
2025/12/15 19:23:51 Error getting masked API keys: mock get masked keys error
--- PASS: TestSettingsHandler_GetMaskedAPIKeysError (0.00s)
=== RUN   TestUpdateSettingsHandler_SetAPIKeyError
2025/12/15 19:23:51 Updating settings
2025/12/15 19:23:51 Error setting API key for anthropic: mock set API key error
--- PASS: TestUpdateSettingsHandler_SetAPIKeyError (0.00s)
=== RUN   TestCalculateTiers_Empty
--- PASS: TestCalculateTiers_Empty (0.00s)
=== RUN   TestCalculateTiers_SingleModel
=== RUN   TestCalculateTiers_SingleModel/transcendental_minimum
=== RUN   TestCalculateTiers_SingleModel/transcendental_high
=== RUN   TestCalculateTiers_SingleModel/cosmic_maximum
=== RUN   TestCalculateTiers_SingleModel/cosmic_minimum
=== RUN   TestCalculateTiers_SingleModel/divine_maximum
=== RUN   TestCalculateTiers_SingleModel/divine_minimum
=== RUN   TestCalculateTiers_SingleModel/celestial_maximum
=== RUN   TestCalculateTiers_SingleModel/celestial_minimum
=== RUN   TestCalculateTiers_SingleModel/ascendant_maximum
=== RUN   TestCalculateTiers_SingleModel/ascendant_minimum
=== RUN   TestCalculateTiers_SingleModel/ethereal_maximum
=== RUN   TestCalculateTiers_SingleModel/ethereal_minimum
=== RUN   TestCalculateTiers_SingleModel/mystic_maximum
=== RUN   TestCalculateTiers_SingleModel/mystic_minimum
=== RUN   TestCalculateTiers_SingleModel/astral_maximum
=== RUN   TestCalculateTiers_SingleModel/astral_minimum
=== RUN   TestCalculateTiers_SingleModel/spiritual_maximum
=== RUN   TestCalculateTiers_SingleModel/spiritual_minimum
=== RUN   TestCalculateTiers_SingleModel/primal_maximum
=== RUN   TestCalculateTiers_SingleModel/primal_minimum
=== RUN   TestCalculateTiers_SingleModel/mortal_maximum
=== RUN   TestCalculateTiers_SingleModel/mortal_minimum
=== RUN   TestCalculateTiers_SingleModel/primordial_maximum
=== RUN   TestCalculateTiers_SingleModel/primordial_minimum
=== RUN   TestCalculateTiers_SingleModel/primordial_negative
--- PASS: TestCalculateTiers_SingleModel (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/transcendental_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/transcendental_high (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/cosmic_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/cosmic_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/divine_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/divine_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/celestial_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/celestial_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ascendant_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ascendant_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ethereal_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/ethereal_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mystic_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mystic_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/astral_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/astral_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/spiritual_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/spiritual_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primal_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primal_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mortal_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/mortal_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primordial_maximum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primordial_minimum (0.00s)
    --- PASS: TestCalculateTiers_SingleModel/primordial_negative (0.00s)
=== RUN   TestCalculateTiers_AllBoundaries
=== RUN   TestCalculateTiers_AllBoundaries/#00
=== RUN   TestCalculateTiers_AllBoundaries/#01
=== RUN   TestCalculateTiers_AllBoundaries/#02
=== RUN   TestCalculateTiers_AllBoundaries/#03
=== RUN   TestCalculateTiers_AllBoundaries/#04
=== RUN   TestCalculateTiers_AllBoundaries/#05
=== RUN   TestCalculateTiers_AllBoundaries/#06
=== RUN   TestCalculateTiers_AllBoundaries/#07
=== RUN   TestCalculateTiers_AllBoundaries/#08
=== RUN   TestCalculateTiers_AllBoundaries/#09
=== RUN   TestCalculateTiers_AllBoundaries/#10
=== RUN   TestCalculateTiers_AllBoundaries/#11
=== RUN   TestCalculateTiers_AllBoundaries/#12
=== RUN   TestCalculateTiers_AllBoundaries/#13
=== RUN   TestCalculateTiers_AllBoundaries/#14
=== RUN   TestCalculateTiers_AllBoundaries/#15
=== RUN   TestCalculateTiers_AllBoundaries/#16
=== RUN   TestCalculateTiers_AllBoundaries/#17
=== RUN   TestCalculateTiers_AllBoundaries/#18
=== RUN   TestCalculateTiers_AllBoundaries/#19
=== RUN   TestCalculateTiers_AllBoundaries/#20
=== RUN   TestCalculateTiers_AllBoundaries/#21
=== RUN   TestCalculateTiers_AllBoundaries/#22
--- PASS: TestCalculateTiers_AllBoundaries (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#00 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#01 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#02 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#03 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#04 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#05 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#06 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#07 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#08 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#09 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#10 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#11 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#12 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#13 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#14 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#15 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#16 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#17 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#18 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#19 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#20 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#21 (0.00s)
    --- PASS: TestCalculateTiers_AllBoundaries/#22 (0.00s)
=== RUN   TestCalculateTiers_MultipleModels
--- PASS: TestCalculateTiers_MultipleModels (0.00s)
=== RUN   TestCalculateTiers_TierRanges
--- PASS: TestCalculateTiers_TierRanges (0.00s)
=== RUN   TestCalculateTiers_ModelsInSameTier
--- PASS: TestCalculateTiers_ModelsInSameTier (0.00s)
=== RUN   TestCalculateTiers_ZeroScore
--- PASS: TestCalculateTiers_ZeroScore (0.00s)
=== RUN   TestCalculateTiers_AllTiersCovered
--- PASS: TestCalculateTiers_AllTiersCovered (0.00s)
=== RUN   TestStatsHandler_GET
2025/12/15 19:23:51 Handling stats page
--- PASS: TestStatsHandler_GET (0.04s)
=== RUN   TestStatsHandler_GET_WithScoreBreakdowns
2025/12/15 19:23:51 Handling stats page
--- PASS: TestStatsHandler_GET_WithScoreBreakdowns (0.04s)
=== RUN   TestStatsHandler_GET_EmptyResults
2025/12/15 19:23:51 Handling stats page
--- PASS: TestStatsHandler_GET_EmptyResults (0.03s)
=== RUN   TestStatsHandler_GET_MultipleModels
2025/12/15 19:23:51 Handling stats page
--- PASS: TestStatsHandler_GET_MultipleModels (0.04s)
=== RUN   TestStatsHandler_GET_RenderError
2025/12/15 19:23:51 Handling stats page
2025/12/15 19:23:51 Error rendering template: open templates/stats.html: The system cannot find the path specified.
--- PASS: TestStatsHandler_GET_RenderError (0.03s)
=== RUN   TestNewPromptSuiteHandler_POST_Success
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Prompt suite 'new-test-suite' created successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestNewPromptSuiteHandler_POST_Success (0.03s)
=== RUN   TestNewPromptSuiteHandler_POST_EmptyName
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Suite name cannot be empty
--- PASS: TestNewPromptSuiteHandler_POST_EmptyName (0.03s)
=== RUN   TestSelectPromptSuiteHandler_Success
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Prompt suite 'suite-to-select' created successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestSelectPromptSuiteHandler_Success (0.03s)
=== RUN   TestSelectPromptSuiteHandler_EmptyName
2025/12/15 19:23:51 Handling select prompt suite
2025/12/15 19:23:51 Suite name cannot be empty
--- PASS: TestSelectPromptSuiteHandler_EmptyName (0.03s)
=== RUN   TestDeletePromptSuiteHandler_POST_EmptyName
2025/12/15 19:23:51 Handling delete prompt suite page
--- PASS: TestDeletePromptSuiteHandler_POST_EmptyName (0.03s)
=== RUN   TestDeletePromptSuiteHandler_POST_Success
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Prompt suite 'suite-to-delete' created successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:51 Handling delete prompt suite page
2025/12/15 19:23:51 Prompt suite 'suite-to-delete' deleted successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestDeletePromptSuiteHandler_POST_Success (0.03s)
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames/empty_old_name
2025/12/15 19:23:51 Handling edit prompt suite
2025/12/15 19:23:51 Both old and new names required
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames/empty_new_name
2025/12/15 19:23:51 Handling edit prompt suite
2025/12/15 19:23:51 Both old and new names required
=== RUN   TestEditPromptSuiteHandler_POST_EmptyNames/both_empty
2025/12/15 19:23:51 Handling edit prompt suite
2025/12/15 19:23:51 Both old and new names required
--- PASS: TestEditPromptSuiteHandler_POST_EmptyNames (0.03s)
    --- PASS: TestEditPromptSuiteHandler_POST_EmptyNames/empty_old_name (0.00s)
    --- PASS: TestEditPromptSuiteHandler_POST_EmptyNames/empty_new_name (0.00s)
    --- PASS: TestEditPromptSuiteHandler_POST_EmptyNames/both_empty (0.00s)
=== RUN   TestEditPromptSuiteHandler_POST_Success
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Prompt suite 'original-suite' created successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:51 Handling edit prompt suite
2025/12/15 19:23:51 Prompt suite 'original-suite' edited successfully to 'renamed-suite'
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestEditPromptSuiteHandler_POST_Success (0.03s)
=== RUN   TestNewPromptSuiteHandler_POST_DuplicateName
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Prompt suite 'duplicate-suite' created successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Prompt suite 'duplicate-suite' created successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestNewPromptSuiteHandler_POST_DuplicateName (0.03s)
=== RUN   TestNewPromptSuiteHandler_GET
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 New prompt suite page rendered successfully
--- PASS: TestNewPromptSuiteHandler_GET (0.03s)
=== RUN   TestEditPromptSuiteHandler_GET
2025/12/15 19:23:51 Handling edit prompt suite
2025/12/15 19:23:51 Edit prompt suite page rendered successfully
--- PASS: TestEditPromptSuiteHandler_GET (0.03s)
=== RUN   TestDeletePromptSuiteHandler_GET
2025/12/15 19:23:51 Handling delete prompt suite page
2025/12/15 19:23:51 Delete prompt suite page rendered successfully
--- PASS: TestDeletePromptSuiteHandler_GET (0.03s)
=== RUN   TestSelectPromptSuiteHandler_WithDataDir
2025/12/15 19:23:51 Handling select prompt suite
2025/12/15 19:23:51 Prompt suite 'selectable-suite' selected successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestSelectPromptSuiteHandler_WithDataDir (0.03s)
=== RUN   TestDeletePromptSuiteHandler_POST_CurrentSuiteReset
2025/12/15 19:23:51 Handling delete prompt suite page
2025/12/15 19:23:51 Prompt suite 'current-suite' deleted successfully
2025/12/15 19:23:51 BroadcastResults results: map[]
2025/12/15 19:23:51 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestDeletePromptSuiteHandler_POST_CurrentSuiteReset (0.03s)
=== RUN   TestEditPromptSuiteHandler_POST_RenameToSameName
2025/12/15 19:23:51 Handling edit prompt suite
2025/12/15 19:23:51 Error renaming suite: suite with name 'existing-suite' already exists
--- PASS: TestEditPromptSuiteHandler_POST_RenameToSameName (0.03s)
=== RUN   TestDeletePromptSuiteHandler_GET_RenderError
2025/12/15 19:23:51 Handling delete prompt suite page
2025/12/15 19:23:51 Error rendering template: open templates/delete_prompt_suite.html: The system cannot find the path specified.
--- PASS: TestDeletePromptSuiteHandler_GET_RenderError (0.03s)
=== RUN   TestNewPromptSuiteHandler_GET_RenderError
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Error rendering template: open templates/new_prompt_suite.html: The system cannot find the path specified.
--- PASS: TestNewPromptSuiteHandler_GET_RenderError (0.03s)
=== RUN   TestEditPromptSuiteHandler_GET_RenderError
2025/12/15 19:23:51 Handling edit prompt suite
2025/12/15 19:23:51 Error rendering template: open templates/edit_prompt_suite.html: The system cannot find the path specified.
--- PASS: TestEditPromptSuiteHandler_GET_RenderError (0.03s)
=== RUN   TestNewPromptSuiteHandler_POST_WritePromptSuiteError
2025/12/15 19:23:51 Handling new prompt suite
2025/12/15 19:23:51 Error creating prompt suite: mock write error
--- PASS: TestNewPromptSuiteHandler_POST_WritePromptSuiteError (0.00s)
PASS
coverage: 88.4% of statements
ok  	llm-tournament/handlers	10.001s	coverage: 88.4% of statements
=== RUN   TestInitDB
--- PASS: TestInitDB (0.06s)
=== RUN   TestInitDB_CreatesDataDirectory
--- PASS: TestInitDB_CreatesDataDirectory (0.05s)
=== RUN   TestCloseDB
--- PASS: TestCloseDB (0.05s)
=== RUN   TestCloseDB_NilDB
--- PASS: TestCloseDB_NilDB (0.00s)
=== RUN   TestGetDB
--- PASS: TestGetDB (0.04s)
=== RUN   TestGetSuiteID_Default
--- PASS: TestGetSuiteID_Default (0.04s)
=== RUN   TestGetSuiteID_NewSuite
--- PASS: TestGetSuiteID_NewSuite (0.05s)
=== RUN   TestGetCurrentSuiteID
--- PASS: TestGetCurrentSuiteID (0.05s)
=== RUN   TestSetCurrentSuite
--- PASS: TestSetCurrentSuite (0.06s)
=== RUN   TestSetCurrentSuite_EmptyName
--- PASS: TestSetCurrentSuite_EmptyName (0.05s)
=== RUN   TestListSuites
--- PASS: TestListSuites (0.05s)
=== RUN   TestDeleteSuite
--- PASS: TestDeleteSuite (0.04s)
=== RUN   TestDeleteSuite_Default
--- PASS: TestDeleteSuite_Default (0.05s)
=== RUN   TestDeleteSuite_Current
--- PASS: TestDeleteSuite_Current (0.05s)
=== RUN   TestRenameSuite
--- PASS: TestRenameSuite (0.05s)
=== RUN   TestRenameSuite_Default
--- PASS: TestRenameSuite_Default (0.05s)
=== RUN   TestRenameSuite_EmptyNewName
--- PASS: TestRenameSuite_EmptyNewName (0.05s)
=== RUN   TestRenameSuite_InvalidChars
--- PASS: TestRenameSuite_InvalidChars (0.06s)
=== RUN   TestRenameSuite_DuplicateName
--- PASS: TestRenameSuite_DuplicateName (0.06s)
=== RUN   TestCreateTables_DefaultSettings
--- PASS: TestCreateTables_DefaultSettings (0.05s)
=== RUN   TestForeignKeyConstraints
--- PASS: TestForeignKeyConstraints (0.04s)
=== RUN   TestCascadeDelete
--- PASS: TestCascadeDelete (0.04s)
=== RUN   TestGetProfileID_EmptyName
--- PASS: TestGetProfileID_EmptyName (0.04s)
=== RUN   TestGetProfileID_NotFound
--- PASS: TestGetProfileID_NotFound (0.04s)
=== RUN   TestGetProfileID_Found
--- PASS: TestGetProfileID_Found (0.05s)
=== RUN   TestGetCurrentSuiteID_NoCurrent
--- PASS: TestGetCurrentSuiteID_NoCurrent (0.04s)
=== RUN   TestDeleteSuite_CurrentSuite
--- PASS: TestDeleteSuite_CurrentSuite (0.04s)
=== RUN   TestListSuites_Multiple
--- PASS: TestListSuites_Multiple (0.05s)
=== RUN   TestDefaultDataStore_IsSet
--- PASS: TestDefaultDataStore_IsSet (0.00s)
=== RUN   TestDefaultDataStore_IsSQLiteDataStore
--- PASS: TestDefaultDataStore_IsSQLiteDataStore (0.00s)
=== RUN   TestDefaultDataStore_CanBeSwapped
--- PASS: TestDefaultDataStore_CanBeSwapped (0.00s)
=== RUN   TestMockDataStore_ReturnsError
--- PASS: TestMockDataStore_ReturnsError (0.00s)
=== RUN   TestMockDataStore_DefaultValues
--- PASS: TestMockDataStore_DefaultValues (0.00s)
=== RUN   TestSQLiteDataStore_GetCurrentSuiteID
--- PASS: TestSQLiteDataStore_GetCurrentSuiteID (0.04s)
=== RUN   TestSQLiteDataStore_GetCurrentSuiteName
--- PASS: TestSQLiteDataStore_GetCurrentSuiteName (0.04s)
=== RUN   TestSQLiteDataStore_ListSuites
--- PASS: TestSQLiteDataStore_ListSuites (0.04s)
=== RUN   TestSQLiteDataStore_SetCurrentSuite
--- PASS: TestSQLiteDataStore_SetCurrentSuite (0.04s)
=== RUN   TestSQLiteDataStore_SuiteExists
--- PASS: TestSQLiteDataStore_SuiteExists (0.05s)
=== RUN   TestSQLiteDataStore_ReadWritePrompts
--- PASS: TestSQLiteDataStore_ReadWritePrompts (0.04s)
=== RUN   TestSQLiteDataStore_ReadWritePromptSuite
--- PASS: TestSQLiteDataStore_ReadWritePromptSuite (0.04s)
=== RUN   TestSQLiteDataStore_ListPromptSuites
--- PASS: TestSQLiteDataStore_ListPromptSuites (0.04s)
=== RUN   TestSQLiteDataStore_UpdatePromptsOrder
2025/12/15 19:23:44 Prompts order updated successfully
2025/12/15 19:23:44 BroadcastResults results: map[]
2025/12/15 19:23:44 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestSQLiteDataStore_UpdatePromptsOrder (0.04s)
=== RUN   TestSQLiteDataStore_ReadWriteProfiles
--- PASS: TestSQLiteDataStore_ReadWriteProfiles (0.04s)
=== RUN   TestSQLiteDataStore_ReadWriteResults
--- PASS: TestSQLiteDataStore_ReadWriteResults (0.06s)
=== RUN   TestSQLiteDataStore_GetSetSetting
--- PASS: TestSQLiteDataStore_GetSetSetting (0.04s)
=== RUN   TestSQLiteDataStore_GetSetAPIKey
--- PASS: TestSQLiteDataStore_GetSetAPIKey (0.05s)
=== RUN   TestSQLiteDataStore_GetMaskedAPIKeys
--- PASS: TestSQLiteDataStore_GetMaskedAPIKeys (0.04s)
=== RUN   TestSQLiteDataStore_BroadcastResults
2025/12/15 19:23:44 BroadcastResults results: map[]
2025/12/15 19:23:44 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestSQLiteDataStore_BroadcastResults (0.04s)
=== RUN   TestGetEncryptionKey
=== RUN   TestGetEncryptionKey/valid_key
=== RUN   TestGetEncryptionKey/missing_env_var
=== RUN   TestGetEncryptionKey/too_short
=== RUN   TestGetEncryptionKey/too_long
=== RUN   TestGetEncryptionKey/invalid_hex
--- PASS: TestGetEncryptionKey (0.00s)
    --- PASS: TestGetEncryptionKey/valid_key (0.00s)
    --- PASS: TestGetEncryptionKey/missing_env_var (0.00s)
    --- PASS: TestGetEncryptionKey/too_short (0.00s)
    --- PASS: TestGetEncryptionKey/too_long (0.00s)
    --- PASS: TestGetEncryptionKey/invalid_hex (0.00s)
=== RUN   TestEncryptAPIKey
=== RUN   TestEncryptAPIKey/empty_string_passthrough
=== RUN   TestEncryptAPIKey/simple_key
=== RUN   TestEncryptAPIKey/long_key
=== RUN   TestEncryptAPIKey/special_characters
=== RUN   TestEncryptAPIKey/unicode_characters
--- PASS: TestEncryptAPIKey (0.00s)
    --- PASS: TestEncryptAPIKey/empty_string_passthrough (0.00s)
    --- PASS: TestEncryptAPIKey/simple_key (0.00s)
    --- PASS: TestEncryptAPIKey/long_key (0.00s)
    --- PASS: TestEncryptAPIKey/special_characters (0.00s)
    --- PASS: TestEncryptAPIKey/unicode_characters (0.00s)
=== RUN   TestEncryptAPIKey_NoKey
--- PASS: TestEncryptAPIKey_NoKey (0.00s)
=== RUN   TestDecryptAPIKey
=== RUN   TestDecryptAPIKey/empty_string_passthrough
=== RUN   TestDecryptAPIKey/invalid_base64
=== RUN   TestDecryptAPIKey/too_short_ciphertext
--- PASS: TestDecryptAPIKey (0.00s)
    --- PASS: TestDecryptAPIKey/empty_string_passthrough (0.00s)
    --- PASS: TestDecryptAPIKey/invalid_base64 (0.00s)
    --- PASS: TestDecryptAPIKey/too_short_ciphertext (0.00s)
=== RUN   TestDecryptAPIKey_NoKey
--- PASS: TestDecryptAPIKey_NoKey (0.00s)
=== RUN   TestEncryptDecryptRoundTrip
=== RUN   TestEncryptDecryptRoundTrip/simple_key
=== RUN   TestEncryptDecryptRoundTrip/empty_string
=== RUN   TestEncryptDecryptRoundTrip/long_key
=== RUN   TestEncryptDecryptRoundTrip/special_characters
=== RUN   TestEncryptDecryptRoundTrip/unicode
=== RUN   TestEncryptDecryptRoundTrip/newlines
=== RUN   TestEncryptDecryptRoundTrip/spaces
--- PASS: TestEncryptDecryptRoundTrip (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/simple_key (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/empty_string (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/long_key (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/special_characters (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/unicode (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/newlines (0.00s)
    --- PASS: TestEncryptDecryptRoundTrip/spaces (0.00s)
=== RUN   TestEncryptProducesDifferentCiphertexts
--- PASS: TestEncryptProducesDifferentCiphertexts (0.00s)
=== RUN   TestMaskAPIKey
=== RUN   TestMaskAPIKey/empty_string
=== RUN   TestMaskAPIKey/single_character
=== RUN   TestMaskAPIKey/two_characters
=== RUN   TestMaskAPIKey/three_characters
=== RUN   TestMaskAPIKey/four_characters
=== RUN   TestMaskAPIKey/five_characters
=== RUN   TestMaskAPIKey/normal_API_key
=== RUN   TestMaskAPIKey/long_API_key
--- PASS: TestMaskAPIKey (0.00s)
    --- PASS: TestMaskAPIKey/empty_string (0.00s)
    --- PASS: TestMaskAPIKey/single_character (0.00s)
    --- PASS: TestMaskAPIKey/two_characters (0.00s)
    --- PASS: TestMaskAPIKey/three_characters (0.00s)
    --- PASS: TestMaskAPIKey/four_characters (0.00s)
    --- PASS: TestMaskAPIKey/five_characters (0.00s)
    --- PASS: TestMaskAPIKey/normal_API_key (0.00s)
    --- PASS: TestMaskAPIKey/long_API_key (0.00s)
=== RUN   TestDecryptAPIKey_CorruptedCiphertext
--- PASS: TestDecryptAPIKey_CorruptedCiphertext (0.00s)
=== RUN   TestHandleFormError
2025/12/15 19:23:44 Error parsing form: test form parsing error
--- PASS: TestHandleFormError (0.00s)
=== RUN   TestRespondJSON_Success
--- PASS: TestRespondJSON_Success (0.00s)
=== RUN   TestRespondJSON_Array
--- PASS: TestRespondJSON_Array (0.00s)
=== RUN   TestRespondJSON_EmptyObject
--- PASS: TestRespondJSON_EmptyObject (0.00s)
=== RUN   TestRespondJSON_Null
--- PASS: TestRespondJSON_Null (0.00s)
=== RUN   TestRespondJSON_Struct
--- PASS: TestRespondJSON_Struct (0.00s)
=== RUN   TestRenderTemplate_InvalidTemplate
2025/12/15 19:23:44 Error rendering template: open templates/nonexistent.html: The system cannot find the path specified.
--- PASS: TestRenderTemplate_InvalidTemplate (0.00s)
=== RUN   TestImportErrorHandler_GET
2025/12/15 19:23:44 Handling import error page
2025/12/15 19:23:44 Import error page rendered successfully
--- PASS: TestImportErrorHandler_GET (0.00s)
=== RUN   TestRenderTemplate_Success
--- PASS: TestRenderTemplate_Success (0.00s)
=== RUN   TestRenderTemplateSimple_Success
--- PASS: TestRenderTemplateSimple_Success (0.00s)
=== RUN   TestRenderTemplateSimple_InvalidTemplate
2025/12/15 19:23:44 Error rendering template: open templates/nonexistent.html: The system cannot find the path specified.
--- PASS: TestRenderTemplateSimple_InvalidTemplate (0.00s)
=== RUN   TestRenderTemplate_WithMockRenderer_Error
2025/12/15 19:23:44 Error rendering template: mock render error
--- PASS: TestRenderTemplate_WithMockRenderer_Error (0.00s)
=== RUN   TestRenderTemplateSimple_WithMockRenderer_Error
2025/12/15 19:23:44 Error rendering template: mock render error
--- PASS: TestRenderTemplateSimple_WithMockRenderer_Error (0.00s)
=== RUN   TestRespondJSON_Unmarshalable
2025/12/15 19:23:44 Error encoding JSON: json: unsupported type: chan int
--- PASS: TestRespondJSON_Unmarshalable (0.00s)
=== RUN   TestFileRenderer_RenderTemplateSimple
--- PASS: TestFileRenderer_RenderTemplateSimple (0.00s)
=== RUN   TestFileRenderer_RenderTemplateSimple_Error
--- PASS: TestFileRenderer_RenderTemplateSimple_Error (0.00s)
=== RUN   TestImportErrorHandler_TemplateParseError
2025/12/15 19:23:44 Handling import error page
2025/12/15 19:23:44 Error parsing template: open templates/import_error.html: The system cannot find the path specified.
--- PASS: TestImportErrorHandler_TemplateParseError (0.00s)
=== RUN   TestDefaultRenderer_IsFileRenderer
--- PASS: TestDefaultRenderer_IsFileRenderer (0.00s)
=== RUN   TestDefaultRenderer_CanBeSwapped
--- PASS: TestDefaultRenderer_CanBeSwapped (0.00s)
=== RUN   TestFileRenderer_Render_ParseError
--- PASS: TestFileRenderer_Render_ParseError (0.00s)
=== RUN   TestFileRenderer_Render_Success
--- PASS: TestFileRenderer_Render_Success (0.00s)
=== RUN   TestGetSetting
--- PASS: TestGetSetting (0.04s)
=== RUN   TestGetSetting_NonExistent
--- PASS: TestGetSetting_NonExistent (0.04s)
=== RUN   TestSetSetting
--- PASS: TestSetSetting (0.04s)
=== RUN   TestSetSetting_Update
--- PASS: TestSetSetting_Update (0.05s)
=== RUN   TestGetAPIKey
--- PASS: TestGetAPIKey (0.04s)
=== RUN   TestGetAPIKey_Empty
--- PASS: TestGetAPIKey_Empty (0.05s)
=== RUN   TestSetAPIKey
=== RUN   TestSetAPIKey/anthropic
=== RUN   TestSetAPIKey/openai
=== RUN   TestSetAPIKey/google
--- PASS: TestSetAPIKey (0.13s)
    --- PASS: TestSetAPIKey/anthropic (0.00s)
    --- PASS: TestSetAPIKey/openai (0.00s)
    --- PASS: TestSetAPIKey/google (0.00s)
=== RUN   TestSetAPIKey_NoEncryptionKey
--- PASS: TestSetAPIKey_NoEncryptionKey (0.28s)
=== RUN   TestGetAllSettings
--- PASS: TestGetAllSettings (0.05s)
=== RUN   TestGetMaskedAPIKeys
--- PASS: TestGetMaskedAPIKeys (0.04s)
=== RUN   TestGetMaskedAPIKeys_Empty
--- PASS: TestGetMaskedAPIKeys_Empty (0.04s)
=== RUN   TestCalculatePassPercentages
=== RUN   TestCalculatePassPercentages/empty_results
=== RUN   TestCalculatePassPercentages/all_zeros
=== RUN   TestCalculatePassPercentages/all_100s
=== RUN   TestCalculatePassPercentages/mixed_scores
=== RUN   TestCalculatePassPercentages/multiple_models
--- PASS: TestCalculatePassPercentages (0.00s)
    --- PASS: TestCalculatePassPercentages/empty_results (0.00s)
    --- PASS: TestCalculatePassPercentages/all_zeros (0.00s)
    --- PASS: TestCalculatePassPercentages/all_100s (0.00s)
    --- PASS: TestCalculatePassPercentages/mixed_scores (0.00s)
    --- PASS: TestCalculatePassPercentages/multiple_models (0.00s)
=== RUN   TestCalculatePassPercentages_ZeroPrompts
--- PASS: TestCalculatePassPercentages_ZeroPrompts (0.00s)
=== RUN   TestPromptsToStringArray
=== RUN   TestPromptsToStringArray/empty_prompts
=== RUN   TestPromptsToStringArray/single_prompt
=== RUN   TestPromptsToStringArray/multiple_prompts
=== RUN   TestPromptsToStringArray/prompts_with_solutions_and_profiles
--- PASS: TestPromptsToStringArray (0.00s)
    --- PASS: TestPromptsToStringArray/empty_prompts (0.00s)
    --- PASS: TestPromptsToStringArray/single_prompt (0.00s)
    --- PASS: TestPromptsToStringArray/multiple_prompts (0.00s)
    --- PASS: TestPromptsToStringArray/prompts_with_solutions_and_profiles (0.00s)
=== RUN   TestProfileGroup_Struct
--- PASS: TestProfileGroup_Struct (0.00s)
=== RUN   TestHandleWebSocket_Connection
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestHandleWebSocket_Connection (0.10s)
=== RUN   TestHandleWebSocket_CloseConnection
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestHandleWebSocket_CloseConnection (0.14s)
=== RUN   TestHandleWebSocket_UpdatePromptsOrder
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Invalid index in order
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestHandleWebSocket_UpdatePromptsOrder (0.13s)
=== RUN   TestHandleWebSocket_UnknownMessageType
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Unknown message type: unknown_type
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestHandleWebSocket_UnknownMessageType (0.09s)
=== RUN   TestBroadcastResults_NoClients
2025/12/15 19:23:45 BroadcastResults results: map[]
2025/12/15 19:23:45 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestBroadcastResults_NoClients (0.04s)
=== RUN   TestBroadcastResults_WithClient
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 BroadcastResults results: map[]
2025/12/15 19:23:45 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestBroadcastResults_WithClient (0.05s)
=== RUN   TestBroadcastEvaluationProgress
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestBroadcastEvaluationProgress (0.05s)
=== RUN   TestBroadcastEvaluationCompleted
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestBroadcastEvaluationCompleted (0.03s)
=== RUN   TestBroadcastEvaluationFailed
2025/12/15 19:23:45 Error getting current suite name: no such table: suites
2025/12/15 19:23:45 Error getting suite ID: no such table: suites
2025/12/15 19:23:45 BroadcastResults results: map[]
2025/12/15 19:23:45 Error getting current suite name: no such table: suites
2025/12/15 19:23:45 Broadcasting data - Models: [Model1 Model2]
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestBroadcastEvaluationFailed (0.05s)
=== RUN   TestBroadcastCostAlert
2025/12/15 19:23:45 Handling websocket connection
2025/12/15 19:23:45 Closing websocket connection
--- PASS: TestBroadcastCostAlert (0.04s)
=== RUN   TestReadProfileSuite
--- PASS: TestReadProfileSuite (0.05s)
=== RUN   TestWriteProfileSuite
--- PASS: TestWriteProfileSuite (0.04s)
=== RUN   TestWriteProfileSuite_Overwrite
--- PASS: TestWriteProfileSuite_Overwrite (0.05s)
=== RUN   TestReadPromptSuite
--- PASS: TestReadPromptSuite (0.04s)
=== RUN   TestWritePromptSuite
--- PASS: TestWritePromptSuite (0.05s)
=== RUN   TestWritePromptSuite_WithProfile
--- PASS: TestWritePromptSuite_WithProfile (0.05s)
=== RUN   TestReadResults_Empty
--- PASS: TestReadResults_Empty (0.05s)
=== RUN   TestWriteResults
--- PASS: TestWriteResults (0.06s)
=== RUN   TestGetCurrentSuiteName
--- PASS: TestGetCurrentSuiteName (0.04s)
=== RUN   TestGetCurrentSuiteName_AfterSwitch
--- PASS: TestGetCurrentSuiteName_AfterSwitch (0.04s)
=== RUN   TestGetCurrentSuiteName_NoCurrentSuite
--- PASS: TestGetCurrentSuiteName_NoCurrentSuite (0.04s)
=== RUN   TestSuiteExists
--- PASS: TestSuiteExists (0.05s)
=== RUN   TestListPromptSuites
--- PASS: TestListPromptSuites (0.04s)
=== RUN   TestMigrateResults
=== RUN   TestMigrateResults/empty_map
=== RUN   TestMigrateResults/valid_scores
=== RUN   TestMigrateResults/nil_scores_converted_to_empty
--- PASS: TestMigrateResults (0.04s)
    --- PASS: TestMigrateResults/empty_map (0.00s)
    --- PASS: TestMigrateResults/valid_scores (0.00s)
    --- PASS: TestMigrateResults/nil_scores_converted_to_empty (0.00s)
=== RUN   TestUpdatePromptsOrder
2025/12/15 19:23:46 Invalid index in order
--- PASS: TestUpdatePromptsOrder (0.04s)
=== RUN   TestReadProfiles
--- PASS: TestReadProfiles (0.04s)
=== RUN   TestWriteProfiles
--- PASS: TestWriteProfiles (0.05s)
=== RUN   TestReadPrompts
--- PASS: TestReadPrompts (0.04s)
=== RUN   TestWritePrompts
--- PASS: TestWritePrompts (0.04s)
=== RUN   TestDeletePromptSuite
--- PASS: TestDeletePromptSuite (0.04s)
=== RUN   TestDeleteProfileSuite
--- PASS: TestDeleteProfileSuite (0.05s)
=== RUN   TestListProfileSuites
--- PASS: TestListProfileSuites (0.04s)
=== RUN   TestRenameSuiteFiles
--- PASS: TestRenameSuiteFiles (0.05s)
=== RUN   TestMin
--- PASS: TestMin (0.00s)
=== RUN   TestWritePromptSuite_WithSolution
--- PASS: TestWritePromptSuite_WithSolution (0.05s)
=== RUN   TestWriteResults_OverwriteExisting
--- PASS: TestWriteResults_OverwriteExisting (0.06s)
=== RUN   TestMigrateResults_ScoreClamping
--- PASS: TestMigrateResults_ScoreClamping (0.05s)
=== RUN   TestUpdatePromptsOrder_InvalidOrder
2025/12/15 19:23:47 Invalid index in order
--- PASS: TestUpdatePromptsOrder_InvalidOrder (0.04s)
=== RUN   TestUpdatePromptsOrder_EmptyOrder
2025/12/15 19:23:47 Invalid order length
--- PASS: TestUpdatePromptsOrder_EmptyOrder (0.05s)
=== RUN   TestUpdatePromptsOrder_ValidReorder
2025/12/15 19:23:47 Prompts order updated successfully
2025/12/15 19:23:47 BroadcastResults results: map[]
2025/12/15 19:23:47 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestUpdatePromptsOrder_ValidReorder (0.04s)
=== RUN   TestUpdatePromptsOrder_NegativeIndex
2025/12/15 19:23:47 Invalid index in order
--- PASS: TestUpdatePromptsOrder_NegativeIndex (0.04s)
=== RUN   TestWriteResults_NewModel
--- PASS: TestWriteResults_NewModel (0.05s)
=== RUN   TestWriteResults_UpdateExistingModel
--- PASS: TestWriteResults_UpdateExistingModel (0.05s)
=== RUN   TestReadResults_ScoreMismatch
--- PASS: TestReadResults_ScoreMismatch (0.05s)
=== RUN   TestGetMaskedAPIKeys_AllProviders
--- PASS: TestGetMaskedAPIKeys_AllProviders (0.05s)
=== RUN   TestUpdatePromptsOrder_WithReordering
2025/12/15 19:23:47 Prompts order updated successfully
2025/12/15 19:23:47 BroadcastResults results: map[]
2025/12/15 19:23:47 Broadcasting data - Models: [Model1 Model2]
--- PASS: TestUpdatePromptsOrder_WithReordering (0.05s)
=== RUN   TestWriteResults_MultipleModels
--- PASS: TestWriteResults_MultipleModels (0.06s)
=== RUN   TestWriteResults_UpdateExisting
--- PASS: TestWriteResults_UpdateExisting (0.07s)
=== RUN   TestWriteProfileSuite_Success
--- PASS: TestWriteProfileSuite_Success (0.05s)
=== RUN   TestReadResults_WithMissingScores
--- PASS: TestReadResults_WithMissingScores (0.05s)
=== RUN   TestMigrateResults_EmptyResults
--- PASS: TestMigrateResults_EmptyResults (0.04s)
=== RUN   TestMigrateResults_OutOfRangeScores
--- PASS: TestMigrateResults_OutOfRangeScores (0.05s)
=== RUN   TestReadPromptSuite_NonExistent
--- PASS: TestReadPromptSuite_NonExistent (0.04s)
=== RUN   TestGetCurrentSuiteName_DefaultFallback
--- PASS: TestGetCurrentSuiteName_DefaultFallback (0.04s)
=== RUN   TestReadResults_EmptySuite
--- PASS: TestReadResults_EmptySuite (0.06s)
=== RUN   TestReadResults_WithPromptsNoScores
--- PASS: TestReadResults_WithPromptsNoScores (0.04s)
=== RUN   TestWriteResults_WithMultipleModels
--- PASS: TestWriteResults_WithMultipleModels (0.06s)
=== RUN   TestWritePromptSuite_UpdatesExisting
--- PASS: TestWritePromptSuite_UpdatesExisting (0.04s)
=== RUN   TestReadResults_AfterWriteResults
--- PASS: TestReadResults_AfterWriteResults (0.05s)
=== RUN   TestWriteResults_DeleteModel
--- PASS: TestWriteResults_DeleteModel (0.06s)
=== RUN   TestMigrateResults_NilScores
--- PASS: TestMigrateResults_NilScores (0.04s)
=== RUN   TestMigrateResults_ShorterScores
--- PASS: TestMigrateResults_ShorterScores (0.04s)
=== RUN   TestWriteResults_EmptyScores
--- PASS: TestWriteResults_EmptyScores (0.06s)
=== RUN   TestWriteResults_CreateNewModel
--- PASS: TestWriteResults_CreateNewModel (0.06s)
=== RUN   TestGetProfileGroups_Empty
--- PASS: TestGetProfileGroups_Empty (0.00s)
=== RUN   TestGetProfileGroups_SingleProfile
--- PASS: TestGetProfileGroups_SingleProfile (0.00s)
=== RUN   TestGetProfileGroups_MultipleProfiles
--- PASS: TestGetProfileGroups_MultipleProfiles (0.00s)
=== RUN   TestGetProfileGroups_OrderByFirstAppearance
--- PASS: TestGetProfileGroups_OrderByFirstAppearance (0.00s)
=== RUN   TestGetProfileGroups_UnusedProfiles
--- PASS: TestGetProfileGroups_UnusedProfiles (0.00s)
=== RUN   TestGetProfileGroups_EmptyProfileInPrompt
--- PASS: TestGetProfileGroups_EmptyProfileInPrompt (0.00s)
=== RUN   TestGetProfileGroups_GoldenAngleColors
--- PASS: TestGetProfileGroups_GoldenAngleColors (0.00s)
=== RUN   TestGetProfileGroups_StartEndColInitialized
--- PASS: TestGetProfileGroups_StartEndColInitialized (0.00s)
=== RUN   TestGetProfileGroups_IDsAreSequential
--- PASS: TestGetProfileGroups_IDsAreSequential (0.00s)
=== RUN   TestGetProfileGroups_ProfileMapPointsToGroups
--- PASS: TestGetProfileGroups_ProfileMapPointsToGroups (0.00s)
PASS
coverage: 82.7% of statements
ok  	llm-tournament/middleware	6.803s	coverage: 82.7% of statements
=== RUN   TestFuncMap_Inc
--- PASS: TestFuncMap_Inc (0.00s)
=== RUN   TestFuncMap_Add
--- PASS: TestFuncMap_Add (0.00s)
=== RUN   TestFuncMap_Sub
--- PASS: TestFuncMap_Sub (0.00s)
=== RUN   TestFuncMap_Gt
--- PASS: TestFuncMap_Gt (0.00s)
=== RUN   TestFuncMap_Lt
--- PASS: TestFuncMap_Lt (0.00s)
=== RUN   TestFuncMap_Eq
--- PASS: TestFuncMap_Eq (0.00s)
=== RUN   TestFuncMap_Atoi
--- PASS: TestFuncMap_Atoi (0.00s)
=== RUN   TestFuncMap_Markdown
--- PASS: TestFuncMap_Markdown (0.00s)
=== RUN   TestFuncMap_ToLower
--- PASS: TestFuncMap_ToLower (0.00s)
=== RUN   TestFuncMap_Contains
--- PASS: TestFuncMap_Contains (0.00s)
=== RUN   TestFuncMap_JSON
=== RUN   TestFuncMap_JSON/simple_map
=== RUN   TestFuncMap_JSON/array
=== RUN   TestFuncMap_JSON/nil
=== RUN   TestFuncMap_JSON/unmarshalable_value
--- PASS: TestFuncMap_JSON (0.00s)
    --- PASS: TestFuncMap_JSON/simple_map (0.00s)
    --- PASS: TestFuncMap_JSON/array (0.00s)
    --- PASS: TestFuncMap_JSON/nil (0.00s)
    --- PASS: TestFuncMap_JSON/unmarshalable_value (0.00s)
=== RUN   TestScoreOptions
--- PASS: TestScoreOptions (0.00s)
=== RUN   TestPageNameConstants
=== RUN   TestPageNameConstants/PageNameResults
=== RUN   TestPageNameConstants/PageNamePrompts
=== RUN   TestPageNameConstants/PageNameProfiles
=== RUN   TestPageNameConstants/PageNameEvaluate
--- PASS: TestPageNameConstants (0.00s)
    --- PASS: TestPageNameConstants/PageNameResults (0.00s)
    --- PASS: TestPageNameConstants/PageNamePrompts (0.00s)
    --- PASS: TestPageNameConstants/PageNameProfiles (0.00s)
    --- PASS: TestPageNameConstants/PageNameEvaluate (0.00s)
=== RUN   TestFuncMapCompleteness
--- PASS: TestFuncMapCompleteness (0.00s)
PASS
coverage: 100.0% of statements
ok  	llm-tournament/templates	0.402s	coverage: 100.0% of statements
	llm-tournament/testutil		coverage: 0.0% of statements
