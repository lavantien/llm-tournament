<!DOCTYPE html>
<html>
  <head>
    <title>Prompt List</title>
    <link rel="stylesheet" href="/templates/style.css">
  </head>
  <body>
    {{template "nav"}}
    <div class="sticky-header">
        <h2>Add Prompt</h2>
        <form action="/add_prompt" method="post" style="display: flex; align-items: center;">
            <input type="text" name="prompt" placeholder="Enter new prompt" style="margin-right: 10px;"/>
            <input type="submit" value="Add" />
        </form>
    </div>
    <h1>Prompt List</h1>
    <ul>
      {{range $index, $prompt := .}}
      <li>
        {{inc $index}}. {{$prompt}}
        <div>
            <button onclick="copyPrompt('{{$prompt}}')">Copy</button>
            <a href="/edit_prompt?index={{$index}}">Edit</a>
            <a href="/delete_prompt?index={{$index}}">Delete</a>
        </div>
      </li>
      {{end}}
    </ul>
    <div class="sticky-footer">
        <h2>Export/Import Prompts</h2>
        <div style="display: flex; align-items: center;">
            <form action="/export_prompts" method="post" style="margin-right: 10px;">
                <input type="submit" value="Export Prompts" />
            </form>
            <form action="/import_prompts" method="post" enctype="multipart/form-data" style="display: flex; align-items: center;">
                <input type="file" name="prompts_file" style="margin-right: 10px;"/>
                <input type="submit" value="Import Prompts" />
            </form>
        </div>
    </div>
    <script>
        function copyPrompt(text) {
            navigator.clipboard.writeText(text).then(function() {
                console.log('Async: Copying to clipboard was successful!');
            }, function(err) {
                console.error('Async: Could not copy text: ', err);
            });
        }
    </script>
  </body>
</html>
